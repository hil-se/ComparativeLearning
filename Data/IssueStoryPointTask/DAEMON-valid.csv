"issuekey","type","components","storypoint","title","description_text"
"DAEMON-190","Bug","appcd|appcd-nodejs",1,"Windows: Daemon doesn't start first time when downloading node binary","""h5.Description    *This error should have bubbled through to the cli I think*    Starting the daemon when the node binaries are not downloaded on Windows doesn't work first time, logs below. Looking at appcd-nodejs it only handles EXTBUSY which I think is unixy, windows is EBUSY        h5.Steps to reproduce    # Remove ~/.appcelerator/appcd/node  # {{set SNOOPLOGG=*}}  # {{appcd start --debug}}    h5.Actual    Daemon doesnt start    h5.Expected    Daemon should start"""
"DAEMON-198","Bug","appcd-plugin-android|appcd-plugin-genymotion|appcd-plugin-ios|appcd-plugin-jdk|appcd-plugin-windows",5,"Plugin config changes are not applied automatically","""The Android, Genymotion, iOS, and Windows plugins have config options that are loaded once when the plugins are started. If any plugin specific config options are changed, then do not take effect until the plugin(s) or the daemon is restarted.    h4. Default config    * plugins.autoReload  ** appcd-plugin/src/external-plugin.js  * plugins.defaultInactivityTimeout  ** appcd-plugin/src/plugin.js  * server.agentPollInterval  ** appcd-core/src/status-monitor.js  ** appcd-plugin/src/external-plugin.js    h4. appcd-plugin-android    * android.ndk.searchPaths  ** appcd-plugin-android/src/android-info-service.js  * android.sdk.searchPaths  ** appcd-plugin-android/src/android-info-service.js"""
"DAEMON-196","Improvement","appcd-core",3,"appcd-core: Ensure the pid file always exists","""When the daemon is running, it creates a pid file in the appcd home dir. This is critical as it is used to determine if the daemon is running. If this file is deleted while the daemon is running, this can be problematic as the zombie daemon process will need to manually terminated by the user."""
"DAEMON-195","Bug","appcd",1,""" appc appcd exec start"" not working anymore","""{{appc appcd exec start}} not working anymore.        """
"DAEMON-193","Bug","appcd",8,"Failed to start the Appc Daemon","""""""Failed to start the Appc Daemon"""" message shown when I start a daemon.         Looks like it's showing a wrong message when the daemon is already running.      """
"DAEMON-192","Bug","appcd",1," ""appc appcd exec /system-info/1.x/info"" command doesn't respond with 1.0.0-23",""" """"appc appcd exec /system-info/1.x/info"""" command doesn't respond with version 1.0.0-23            Please find the attached dump file.   [^appcd_dump_master48.json]   """
"DAEMON-200","Bug","androidlib|appcd-plugin-android",8,"Android device not detected when plugged in after daemon start upon system restart","""Steps to Reproduce:  1. Restart the system and make sure to plug out connected android device  2. Start Daemon  3. Run the command """"/android/1.x/info"""". The devices section is blank as no device connected yet  4. Connect the device.  5. Again run the command """"/android/1.x/info"""".    Actual Result:  The device section still shows blank and does not show the connected device.  The device is shown in """"appc ti info"""".  Note: Repeating step 5 continues to give device as blank untill daemon is restarted.    Find attached the daemon dump."""
"DAEMON-204","Improvement","appcd-detect|appcd-winreg",1,"appcd-winreg: Add support for specifying registry hive architechture","""h5.Description    From my research into windowslib v2 we're going to need to query the 32 bit registry hive architecture, this can be achieved by passing an opt.arch value to win-reg. If no value is specified we should default to null. This will also need to be added to appcd-detect"""
"DAEMON-209","Bug","appcd-plugin-ios|ioslib",8,"Studio: iOS SDK home not found and NullPointerException","""I updated to Appcelerator Studio 5.0.0.201712081732 (official Release) and now the iOS SDK home is not found anymore. Android works.    Can I do something to fix it?    --    There's a bug in ioslib when it tries to build the list of teams. If one of the provisioning profiles does not have any teams, then the {{teamIds}} will be {{null}}. The code that builds the unique list of teams expects teams to be an array."""
"DAEMON-207","Bug","appcd|appcd-plugin",13,"""appc appcd restart"" does not restart the daemon but keeps on adding appcd-plugin-host processes which keep running & consume memory","""h5.Steps to reproduce:  1. Do a {{appc appcd restart}} in the command prompt.    h5.Actual results:  1. The daemon does not restart (Not sure if it does restart internally, but gives wrong message that it didn't in the terminal).      2. It also keeps on adding {{appcd-plugin-host}} processes after each restart command run. These processes stay running & consume memory. (Attached a screenshot for reference).    h5. Expected results:  1. Daemon should restart successfully every time command is run & should not keep on adding new appcd-plugin-host processes or kill/stop the old ones.  """
"DAEMON-206","Bug","ioslib",1,"Appcelerator Studio not detecting iOS after upgrading","""After upgrading Xcode, Appcelerator Studio and node, I can't run any application from Appcelerator Studio.    The Run/Debug buttons have disappeared, whenever I click on anything concerning iOS, I get the error:    !MESSAGE An internal error occurred during: """"Loading Provisioning Profiles..."""".  !STACK 0  java.lang.NullPointerException    Attached some of the weird things happening + the logs.    I already tried uninstalling Appcelerator Studio, it didn't change anything (besides losing all of my configurations)    """
"DAEMON-205","Story","ioslib",3,"ioslib: Failing to parse certs if any cert has invalid unicode sequences","""It's possible for a cert to have a name that cannot be decoded to an unsupported character sequence. We need to wrap each cert parsing in a try/catch so that we just skip the cert and move on."""
"DAEMON-211","Bug","appcd-plugin-ios",3,"issues reflecting available iOS mobileProvision profiles","""Have downloaded new provisioning profiles as I have a new device to test/run the app in AdHoc mode.    I have deleted the existing provisioning files and updated with the new ones (files in command line are the new ones). I have restarted Studio, XCode and the computer for changes to take effect but no success.    I am unable to package apps using the new profiles as the certificates are still the old ones. 'Refresh' button doesn't seem to reflect the changes made to certificates and to provisioning Profiles."""
"DAEMON-210","Bug","appcd-plugin-system-info",5,"system-info: npm detection fails if unable to get npm prefix","""The system-info plugin is responsible for detecting npm. It does this by first locating the npm executable in the system PATH, then tries to get the """"prefix"""" by running {{npm prefix -g}}. However, if this should fail, then the prefix will be {{undefined}} and an exception is thrown when trying to expand the path."""
"DAEMON-214","New Feature","General",13,"Create Appc Daemon plugin template","""We need a template for creating new appcd plugins."""
"DAEMON-217","New Feature","appcd-plugin-titanium",13,"appcd-plugin-titanium-sdk: Titanium info service","""Create the {{appcd-plugin-titanium-sdk}} plugin and the """"info"""" service. The """"info"""" service is to detect installed Titanium SDKs and modules."""
"DAEMON-216","Improvement","appcd",3,"Plugins not ordered on status output","""The plugins in the output from {{appcd status}} are not ordered."""
"DAEMON-218","Bug","appcd-detect",5,"appcd-detect: Subdirectories are not watched for changes that would make them valid","""When detecting things in a directory, if a subdirectory is created, but the criteria in that subdirectory does not exist yet, the subdirectory is never rescanned. This only applies when {{opts.watch=true}}."""
"DAEMON-221","Improvement","Tooling",5,"gulp upgrade: Run 'yarn' in top-level after updates and 'yarn upgrade' for each package","""The {{gulp upgrade}} task does a good job of updating all of the npm dependencies in each package's {{package.json}}, but the top-level doesn't actually install the new deps. I think we simply need to remove the call to {{lerna bootstrap}} and call {{yarn}}.    Also, we never upgrade the dependencies of dependencies. We need to write temporary {{package.json}} files with no {{appcd-*}} deps, run {{yarn upgrade}}, then restore the original {{package.json}}. This will update the {{yarn.lock}} files."""
"DAEMON-223","Bug","appcd-plugin",5,"Plugin: Noisy warnings in log due to invalid appcd plugins","""The plugin system will check several directories to see if they are a appcd plugin, however if there are several non-appcd plugin modules, the log will be filled with a bunch of bogus warnings.    We need to filter out these warnings so that we only error if we find an appcd plugin with invalid appcd settings."""
"DAEMON-224","Bug","appcd-core|appcd-http",5,"Subscriptions not terminated if connection is reset","""If a client goes away, the WebSocketServer can emit an error {{ECONNRESET}} instead of emitting an """"end"""" event.    We need to add better logging and also listen for errors so that we can end the internal subscription stream."""
"DAEMON-230","Improvement","appcd-core|appcd-plugin",3,"Stream stringified JSON data over IPC and response instead of JSON.stringify()","""When a plugin sends a JS object response over IPC or a service writes a JS object response over the WebSocket or HTTP response, the JS object is serialized using {{JSON.stringify()}}. However, {{JSON.stringify()}} eats up a ton of memory when the JS object is large. It would be much more efficient to stringify while writing to the stream.    There are several npm packages that will stringify a stream, but they are geared towards each write being a small object which they just call {{JSON.stringify()}} on it.    What we need is transforming stream that does stringifies the JS object on the fly. Stringify is not a complex algorithm, but would need to figure out how to handle Node specific objects like {{Buffer}}."""
"DAEMON-232","Bug","appcd-fswatcher",13,"FSWatcher: Events relating to permission changes to a folder are dropped on Windows","""h5.Description    In DAEMON-222 changed were made to prevent unnecessary change events (a child item changing for example) on a folder bubbling up, which had the side-effect of causing any change events to not fire for a folder on Windows. The current solutions for tracking information through fs.Stats is lightweight on Windows a potential native module (https://github.com/xxoo/node-fswin) was found but the heaviness of using this module wasn't wanted. This is more than likely going to need to be sovled in the future    It's probable that issues relating to permissions will be prevalent on unixy systems too    h5.Steps to repro    TODO"""
"DAEMON-237","Story","General",8,"Create Appc Daemon 1.1.0 release notes","""Need to go through the appc-daemon repo and all plugins and write up release notes for v1.1.0."""
"DAEMON-239","Improvement","appcd-plugin",5,"appcd-plugin: Scheme needs to cancel debounced scheme change events on shutdown","""When the PluginManager shuts down, it unregisters all plugin paths and the scheme associated with the plugin path. If it's shut down while a scheme's debounced change event is pending, things go haywire. The scheme {{destory()}} method needs to call the {{cancel()}} method introduced by DAEMON-238."""
"DAEMON-238","Improvement","appcd-util",3,"appcd-util: Add ability to cancel a debounce","""{{debounce()}} uses a {{setTimeout()}} that has no way to be cancelled. This becomes a problem if you are debouncing events for something that you have shutdown."""
"DAEMON-241","Bug","appcd-core|appcd-telemetry",5,"Telemetry: Events are being sent using the incorrect guid","""h5.Description    Currently the daemon defaults to preproduction for the telemetry. After some discussions it was decided that we need to not have a concept of preproduction and instead do the following    * Remove preprod  * Remove prod, put into default.js  * Add deploytype to the analytics payloads  * In the gulp scripts, we should set the telemetry environment on start  * Document the variable  * Validate that the analytics being sent are shown on dashboard  """
"DAEMON-242","Bug","appcd",5,"appcd: Global options not displayed on command help","""Global options should be displayed on the help screen for individual commands, but it's not.        Global options are present above.        Global options are not displayed enough.  """
"DAEMON-244","New Feature","appcd-nodejs",8,"appcd-nodejs: Add mechanism for removing old Node.js executables","""We would like to upgrade the Node.js version of the Appc Daemon, but everytime we do, it will download a new Node.js executable. The problem is we do not want to end up with dozens of Node.js executables.    We need a way of timestamp when a specific version of Node.js was last run. Then {{appcd-nodejs}} needs a service that uses a {{setTimeout()}} that periodically archives/deletes executables that haven't been used for some period of time."""
"DAEMON-245","Improvement","General",8,"Upgrade to latest babel packages","""Update the daemon's babel dependencies to the latest and greatest."""
"DAEMON-246","Improvement","appcd-plugin-system-info|appcd-plugin-titanium",5,"appcd-plugin-titanium-sdk: Split info service into sdk and module services","""We need to split the info service into distinct sdk and module services so that it becomes more logical when we add more functionality for sdks and modules."""
"DAEMON-247","New Feature","appcd-plugin-titanium",13,"appcd-plugin-titanium-sdk: Add install, uninstall, and search ","""Now that the Titanium SDK plugin has a """"sdk"""" service that lists all installed Titanium SDKs, we need the ability:    * To search for available SDKs to download (by name or branch)  * Download and install an SDK from an Appc server  * Download and install an SDK from an arbitrary URL  * Install an SDK from a local zip file  * Uninstall a SDK"""
"DAEMON-248","Improvement","appcd",8,"Allow arbitrary metadata to be added to error objects","""As the daemon routes errors from a plugin to the core or from the core over a WebSocket, errors are treated special so that can recreate the error as a real Error object whenever coming for another context. The problem is error properties are whitelisted and some are computed (getters).    All error handling needs to be cleaned up so that we can pass along arbitrary values added to the original error object.    When {{appcd exec}} is returned an error, the error should be stringified to reveal all properties including the hidden error object properties."""
"DAEMON-250","Bug","appcd-plugin-ios|ioslib",3,"@appcd/plugin-ios: New iOS simulator runtimes are not picked up after install","""h5.Description    *This is probably an improvement as I can't find any reference to us currently attempting to do this*    If I install a new iOS simulator runtime in xcode, then the daemon will not pick it up. Looking through the code, I think we need to set up a watcher on [xcode.globalSimProfilesPath|https://github.com/appcelerator/ioslib/blob/6189855ebc055f85957b93bf4bbe595189607396/src/xcode.js#L29] in ioslib and rescan xcodes and simulators on change.      h5.Steps to reproduce  * Start the daemon {{appcd start}}  * Call the ios info endpoint for xcode info {{appcd exec /ios/latest/info/xcode}}, make note of the simRuntimes property  * Install a new sim runtime through Xcode (Xcode->Preferences->Components)  * When finished call the ios info endpoint again, noting the simRuntimes property for the xcode you installed the runtime in    h5.Actual    No new runtime is detected    h5.Expected    New runtime should be detected"""
"DAEMON-249","Bug","appcd-plugin-android",3,"appcd-plugin-android: Genymotion emulators not reloaded on change","""h5.Description    When making changes to genymotion emulators they are not reloaded under the {{/android/latest/info/emulators}} endpoint, however they are reloaded under the {{/genymotion/latest/info/emulators}} endpoint. It looks like we just need to include the vbox config path in the watch paths    h5.Steps to reproduce    * Start the daemon {{appcd start}}  * Call {{appcd exec /android/latest/emulators}}  * Either add or remove a genymotion emulator  * Call {{appcd exec /android/latest/emulators}}  * Call {{appcd exec /genymotion/latest/emulators}}      h5.Actual    Genymotion emulator not changed in the android endpoint, it is in the genymotion endpoint    h5.Expected    Should be changed in both"""
"DAEMON-251","Bug","appcd-plugin",5,"appcd-plugin: Plugin info not updated when package.json is changed","""Once the plugin system detects and registers a plugin, it doesn't reload the plugin information when the package.json is changed.    If the package.json is modified, the plugin should be stopped. Furthermore, if the package.json is not valid JSON, then it should also be unregistered."""
"DAEMON-252","Bug","appcd|appcd-plugin-genymotion",8,"Android: Daemon does not detect addition/deletion of genymotion emulator's immediately","""Does not appear to be a regression. Seen in 1.0.1 as well.    h5.Steps to reproduce:  1. Add a 2-3 genymotion emulator in the genymotion app.  2. Run {{appc appcd exec /android/latest/info/emulators}}.  3. Repeat the steps after deleting 2-3 genymotion emulators.    h5.Actual result:  1. Appc daemon does not pick up the changes to genymotion immediately for both addition & deletion scenarios but, does after an {{appc appcd restart}}.    h5.Expected results:  1. Appc daemon should pickup the changes immediately."""
"DAEMON-253","Bug","appcd-plugin-android|appcd-plugin-ios",5,"Paths of interest should only be watched once","""The quick and dirty {{watch()}} method used in the Android and iOS appcd plugin info service will record all active fs watch subscription ids, re-watch all paths of interest, then unwatch the original subscription ids. This works, but can lead to fs events being lost.    This issue was discovered while fixing DAEMON-252."""
"DAEMON-255","Bug","androidlib|appcd",5,"Appcelerator Studio not detecting android emulator and emulator doesn't come up on windows 7","""Hello,    We have an Enterprise customer who is facing an issue with Appcelerator Studio. Appcelerator Studio not detecting android emulator and emulator doesn't come up on windows 7. We have attached the screenshot, Studio Diagnostic log and *appc ti setup check* log file.     If any others information needed please let us know.    Thanks"""
"DAEMON-256","Improvement","appcd",13,"Update appcd to latest cli-kit and export CLI definintion","""cli-kit now allows for extensions and appcd needs to export its CLI definition to be consumable by other cli-kit enabled CLI's."""
"DAEMON-258","Improvement","appcd-gulp",3,"appcd-gulp: Replace del.sync() with fs.removeSync()","""Since we already depend on {{fs-extra}}, just use it's {{fs.removeSync()}} function instead of pulling in {{del}}."""
