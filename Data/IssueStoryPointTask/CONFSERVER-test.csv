"issuekey","type","components","storypoint","title","description_text"
"CONFSERVER-56564","Bug","Macros - Other Macros",3,"Powerpoint macro still has a button for the deprecated ""Edit in office"" functionality","""h3. Summary    The """"Edit in Office"""" functionality [was replaced with the Companion App in Confluence 6.11|https://confluence.atlassian.com/doc/confluence-6-11-release-notes-953678666.html#Confluence6.11ReleaseNotes-Abetterwaytoeditfiles]. However, the Office Powerpoint macro still has a non-functional """"Edit in Office"""" button.  h3. Steps to Reproduce   # Attach a powerpoint file to a page.   # Edit the page and add an Office Powerpoint macro to display the macro.   # Save the page.    h3. Expected Results    The macro will have a button that allows you to edit in Office, or no button at all.  h3. Actual Results    There is an edit button that says """"Edit in office"""" when you hover over it, and clicking the button has no effect.    !edit_in_office_button.png|thumbnail!  h3. Workaround    Add a link to the file on the page to open the preview, then use the """"Edit with"""" dropdown as described on [Edit Files|https://confluence.atlassian.com/doc/edit-files-170494553.html]."""
"CONFSERVER-57370","Bug","Content - Edit Files / Companion",3,"Companion App creates "".tmp.node"" files in user's local appdata directory","""The Atlassian Companion app creates temporary executable binaries (.tmp.node files) within the """"C:\Users\username\AppData\Local\Temp"""" directory each time that it runs. These may be falsely flagged by anti-malware software as they are not signed.     These files should not be created, instead they should be executed from Companion's install directory. """
"CONFSERVER-57445","Suggestion","Content - Edit Files / Companion",5,"Disable update check for Companion App MSI","""The Page [Administering the Atlassian Companion App|https://confluence.atlassian.com/doc/administering-the-atlassian-companion-app-958456281.html] states that by using the MSI, the app won't automatically get the updates.  {quote}If you deploy using the Microsoft Installer, the Companion app won’t automatically get the latest updates, including security and bug fixes, so some maintenance is required.  {quote}  While this is true, the logs are flooded with update checks on every few minutes      Please remove the update check for the MSI version of the App."""
"CONFSERVER-57450","Bug","Apps - Confluence Questions",1,"Questions For Confluence - Compatibility With Confluence 6.12","""Questions for Confluence is still not listed as compatible with the latest version of Confluence.   The add-on should be updated accordingly to match the latest version of Confluence"""
"CONFSERVER-57481","Bug","Content - File Previews",1,"Cannot comment on file when previewer is opened from the attachments page","""Steps to reproduce:  # create a page with image attachment  # go to attachment and click the image to preview  # drag the comment pin to the image preview    Expected:  Should be able to comment    Actual:  There is nowhere to type comment (the comment box does not show up)  And the close button on top right corner stops working  """
"CONFSERVER-57525","Suggestion","Content - Edit Files / Companion",5,"Ability to customize Atlassian Companion MSI","""h3. Problem Definition  No current documented ability to customize the Atlassian Companion MSI    h3. Suggested Solution  Provide ability to customize Atlassian Companion MSI, for example to setup a trusted domain  """
"CONFSERVER-57574","Bug","Apps - Team Calendar",3,"Team Calendars performs several unnecessary database queries due to lazy loading","""A massive number of executions of trivial Team Calendars database queries (~94k per hour), these queries are shown below.        ||ID||Number of executions||Query||  |bxjvujt8jky01|35,801|SELECT """"LAST_MODIFIED"""", """"ID"""", """"DESCRIPTION"""", """"USING_CUSTOM_EVENT_TYPE_ID"""", """"STORE_KEY"""", """"CREATED"""", """"SUBSCRIPTION_ID"""", """"SPACE_KEY"""", """"NAME"""", """"CREATOR"""", """"TIME_ZONE_ID"""", """"COLOUR"""", """"PARENT_ID"""" FROM """"AO_950DC3_TC_SUBCALS"""" WHERE """"ID"""" = :1|  |8ks5b97gwy741|94,606| SELECT """"NAME"""" FROM """"AO_950DC3_TC_SUBCALS"""" WHERE """"ID"""" = :1|  |dw8ddwwn0ybns|94,606| SELECT """"PARENT_ID"""" FROM """"AO_950DC3_TC_SUBCALS"""" WHERE """"ID"""" = :1|  |9nrktrtmzzw1v|94,605| SELECT """"SUBSCRIPTION_ID"""" FROM """"AO_950DC3_TC_SUBCALS"""" WHERE """"ID"""" = :1|  |b55fvjnh7naf3|94,604 | SELECT """"USING_CUSTOM_EVENT_TYPE_ID"""" FROM """"AO_950DC3_TC_SUBCALS"""" WHERE """"ID"""" = :1|  |4v0zrftdn7h32|94,603 | SELECT """"STORE_KEY"""" FROM """"AO_950DC3_TC_SUBCALS"""" WHERE """"ID"""" = :1|  |6tsar6qtqrsjy|94,603 | select """"AO_950DC3_TC_EVENTS_INVITEES"""".""""ID"""" from """"AO_950DC3_TC_EVENTS_INVITEES"""" """"AO_950DC3_TC_EVENTS_INVITEES"""" where """"AO_950DC3_TC_EVENTS_INVITEES"""".""""ID"""" in (select min(""""AO_950DC3_TC_EVENTS_INVITEES"""".""""ID"""") from """"AO_950DC3_TC_EVENTS_INVITEES"""" """"AO_950DC3_TC_EVENTS_INVITEES"""" where """"AO_950DC3_TC_EVENTS_INVITEES"""".""""EVENT_ID"""" = :1 group by """"AO_950DC3_TC_EVENTS_INVITEES"""".""""EVENT_ID"""", """"AO_950DC3_TC_EVENTS_INVITEES"""".""""INVITEE_ID"""") and """"AO_950DC3_TC_EVENTS_INVITEES"""".""""EVENT_ID"""" = :2|  |fk68qh14pu2ur|94,602| SELECT """"TIME_ZONE_ID"""" FROM """"AO_950DC3_TC_SUBCALS"""" WHERE """"ID"""" = :1|  |8sdkgurz66vz7|82,097| SELECT * FROM ( SELECT """"ID"""", """"CONTENT"""" FROM """"AO_21F425_MESSAGE_AO"""" ) WHERE ROWNUM <= 1|  |b66t57uh2c2s7|60,502| SELECT """"INVITEE_ID"""", """"ID"""" FROM """"AO_950DC3_TC_EVENTS_INVITEES"""" WHERE """"ID"""" IN (:1 )|              These queries are coming from {{VEventMapper#toVEvent}} because {{eventEntity.subCalendar}} is lazy loaded.    Instead of retrieving each of the subcalendar attributes separately (which each have a database query), we can do one database query and then retrieve each of the values from it. This will result in having only a single database query instead of six, which will improve performance. """
"CONFSERVER-57542","Bug","Navigation - Sidebar",1,"The Space sidebar contains a Create Page link even for users without the Add Page permission","""h3. Issue Summary  The Space sidebar contains a _Create page_ link even when the _current user_ doesn't have the _Add page_ permission.  If that user clicks on that link, then a _No Permission_ page is loaded with the wrong warning message.  Even if a mail server is configured, this page won't load the _Request Access_ button.      h3. Environment  Fresh install of Confluence *6.12.0*.  It was confirmed on *6.6.3* as well.    h3. Steps to Reproduce  Create a fresh install of Confluence Server and do the following as the _admin_:  # Add a new user (_user001_) to Confluence and make sure it is added only to the _confluence-users_ group.  # Create a new space named _Space A_.   #* Add the _View_ Space Permission and *remove* any other related to the _confluence-users_ group.    Access Confluence as _user001_:  # Access _Space A_ home page and you will see the _Create page_ link in the side bar.  # Click on the _Create page_ link and the _No Permission_ page is loaded with the wrong warning message.    h3. Expected Results  # If the user doesn't have the _Add page_ permission, the _Create page_ link doesn't appear in the sidebar.  # If the link must be there, then the _No permission_ page should give a meaningful message saying the user doesn't have permission to create pages on that Space and should render the _Request Access_ button if the mail server is enabled.    h3. Actual Results  # The user has access to a _Create page_ link even when the _Add page_ permission is not granted.   !new_img_001.png|thumbnail!   # Access the _createpage.action_ link to a Space on which the user doesn't have the _Add page_ permission shows a confusing message.   #* If the mail server is enabled, there's no _Request Access_ button.   !create_page_img001.png|thumbnail!      h3. Workaround  _None at this moment_"""
"CONFSERVER-57541","Suggestion","Content - Edit Files / Companion",5,"Companion App MSI should automatically startup on next login after install","""h2. Problem Definition    Currently when the Companion App MSI file is deployed by admins wishing to roll out this feature to multiple Windows machines the app still needs to be manually started before it can make the system call to add it to launch at startup. Customers have run into this issue and see that only after running the app manually the registry entry is placed here: {{HKEY_CURRENT_USER\Software\Microsoft\Windows\CurrentVersion\Run}}    This differs from the normal installer behaviour (.exe) which does launch the Companion App after installing. However, MSIs are usually installed via an admin account, so having the executable launch automatically after installation will not solve the problem (as this will only add the registry entry for the admin user).   h3. Current scenario:    After user runs the App for the first time, the registry key will be added in the following path    h2. Workaround:    The registry key can be added to HKCU (for all users that should have Companion running) during the deployment to ensure that the app is started automatically without having the user to start it manually.    For 32-bit OS:    For 64-bit OS:         As of Companion 0.6.0, a registry key can alternatively be manually added to HKLM (instead of HKCU) with no side effects. This will allow Companion to automatically launch for all users on the machine. The process will be the same as above, but adding the registry key to HKLM:     {{HKEY_LOCAL_MACHINE\Software\WOW6432Node\Microsoft\Windows\CurrentVersion\Run}}     """
"CONFSERVER-57567","Bug","Content - Page Comments",3,"When profile language is in German workbox notifications are undefined","""Bug report  h3. Summary    When a Confluence user has German set as a profile language, notifications in the Workbox part are shown as *Undefined*      !123.jpeg|thumbnail!       h3. Environment    Confluence is set up with a working notifications are allowed by Confluence.  h3. Steps to Reproduce   # Set the Confluence user profile language to German   # Add comments or mentions to the users watched contents/page   # Subsequent notifications in the Confluence workbox will be missing the username/pagename it is instead shown as *Undefined*    h3. Expected Results    User name/Pagename is shown correctly. When the language in the user profile is English, all is as expected and user names are shown.  h3. Actual Results    *Undefined*  instead of usermentions/pagename  h3. Workaround    No known workaround"""
"CONFSERVER-57582","Bug","Server - Installer / Setup",3,"Later version of Tomcat hit into ""Invalid character found in the request target"" when subscribing to RSS feeds","""h3. Summary    Doing certain actions on newer versions of Confluence which contains newer versions of tomcat, will results with {{400 - Bad Request Invalid character found in the request target}} error message  h3. Steps to replicate #1 - Subscribing to RSS feeds   # On any space, go to Space Tools > Content Tools > RSS Feed   ** Alternatively, go to <base_URL>/spaces/listrssfeeds.action?key=<space_key>   # Click on any links: Pages, Blog, Mail, Comments, Attachments, All Content   # Expected Results: Prompts for RSS file    h3. Steps to replicate #2 - Clicking the """"Go to included page"""" option in Excerpt Include macro when page contains square bracket   # Create page A which contains square brackets in the page title for example: """"Page with [square] brackets""""   # Create page B.   # Add Excerpt Include macro and point it to the page A   # Save the Page B, Edit mode for page B   # Click on Excerpt macro and then navigate to """"Go to Included Page"""" button   # Expected Results: Page A """"Page with [square] brackets"""" will be opened    h3. Actual Results    Following error is returned in the UI:    h3. Notes    The Apache Tomcat server, which is a web server used by Confluence, is filtering out requests that contain special characters. That’s because Tomcat is using a different encoding and URI standard than most browsers.    See also Apache [Tomcat 8.5|https://tomcat.apache.org/tomcat-8.5-doc/config/http.html] http docs for more details:  {quote}relaxedPathChars:    The [HTTP/1.1 specification|https://tools.ietf.org/rfc/rfc7230.txt] requires that certain characters are %nn encoded when used in URI paths. Unfortunately, many user agents including all the major browsers are not compliant with this specification and use these characters in unencoded form. To prevent Tomcat rejecting such requests, this attribute may be used to specify the additional characters to allow. If not specified, no additional characters will be allowed. The value may be any combination of the following characters:    . Any other characters present in the value will be ignored.  {quote}  h3. Workaround    Specify tomcat to allow the special characters. For the above issues, we only need to allow the comma """","""" character.   # Go to <confluence_install>/conf, backup, and edit the server.xml file.   # Find all connectors your application is using. Just search for Connector in the file, or look at the example below. You're interested only in connectors whose protocol is set to HTTP and HTTPS (not AJP).   # Add {{relaxedQueryChars=""""[,]""""}} to the connector properties in server.xml. For example:    #* If the above workaround does not work, try specifying the other characters by adding the following in server.xml instead:     # Restart Confluence"""
"CONFSERVER-57642","Bug","Apps - Team Calendar",3,"Improving the performance on Adding Team Calendar Macro into Page","""h3. Problem  Adding new Calendar in Page using Team Calendar Macro might fail if the user belongs to too many groups and the space has a lot of calendars within itself.  The macro will search for all group memberships and eventually hit the threshold that is set and the warning message below is thrown in the log:  {code}   [http-nio-8081-exec-4] [confluence.util.profiling.DefaultActivityMonitor] close Exceeded the threshold of 60000 ms   {code}  (i) This threshold is not able to be extended due to the block at CONFSERVER-36883     When creating a new calendar through the Team Calendar Macro, Confluence do a bunch of permission checks for each of the existing subcalendars within the space. The server returns a complete object with all of the sub calendars within the space which is necessary for processing on the front-end. This can be seen below (""""AbstractSubCalendarResource#toExtendedSubCalendar), this is performed when the user clicks """"Add new Calendar""""  {code:java}  private SubCalendarsResponseEntity.ExtendedSubCalendar toExtendedSubCalendar(PersistedSubCalendar subCalendar, ConfluenceUser forUser)   {   UtilTimerStack.push(""""CalendarResource.toExtendedSubCalendar()"""");   try   {   return new SubCalendarsResponseEntity.ExtendedSubCalendar(   subCalendar,   calendarPermissionManager.hasViewEventPrivilege(subCalendar, forUser),   calendarPermissionManager.hasReloadEventsPrivilege(subCalendar, forUser),   calendarPermissionManager.hasEditSubCalendarPrivilege(forUser),   calendarPermissionManager.hasEditEventPrivilege(subCalendar, forUser),   false,   false,   false,   calendarManager.isEventsOfSubCalendarHidden(subCalendar, forUser),   calendarPermissionManager.hasDeleteSubCalendarPrivilege(subCalendar, forUser),   calendarPermissionManager.hasAdminSubCalendarPrivilege(subCalendar, forUser),   new HashSet<SubCalendarsResponseEntity.ExtendedSubCalendar.PermittedUser>(   Collections2.transform(   calendarPermissionManager.getEventViewUserRestrictions(subCalendar),   new UserToPermittedUserTransformer(userAccessor, settingsManager)   )   ),   calendarPermissionManager.getEventViewGroupRestrictions(subCalendar),   new HashSet<SubCalendarsResponseEntity.ExtendedSubCalendar.PermittedUser>(   Collections2.transform(   calendarPermissionManager.getEventEditUserRestrictions(subCalendar),   new UserToPermittedUserTransformer(userAccessor, settingsManager)   )   ),   calendarPermissionManager.getEventEditGroupRestrictions(subCalendar),  // getSubCalendarWarnings(subCalendar),   new HashSet<String>(),   false //reminder   );   }  {code}    Within a few of these """"hasPrivilege"""" methods, if the user is not the creator of the subcalendar, Confluence check Admin group membership for the user {{isUserMemberOfOneGroup(user, CONFLUENCE_ADMINISTRATORS_GROUP_NAMES)}} which gets all of the user's groups and checks if the Admin group is contained within that list. This uses the method    """"DefaultUserAccessor#getGroupNames"""", which calls the following method to performs the permissions check:  {code:java}  public List<String> getGroupNamesForUserName(String userName) {   return (List)(userName == null ? Collections.emptyList() : ImmutableList.copyOf(this.crowdService.search(QueryBuilder.queryFor(String.class, EntityDescriptor.group()).parentsOf(EntityDescriptor.user()).withName(userName).returningAtMost(-1))));   }  {code}    So in summary, for every subcalendar, Confluence may have to retrieve all of the groups that the user belongs to *multiple times*.       h3. Suggestion  Since it will be retrieving the same groups every time, we should be able to improve the performance by adding some simple caching.     h3. Workaround  # Add a new Calendar from *My Calendar* View and link it to the desire space  #* This method can still allow user to create calendar without hitting the issue above  # Search and insert the calendar in a space that has no calendar (in order to avoid this issue) and examine the [Storage Format|https://confluence.atlassian.com/doc/confluence-storage-format-790796544.html] to get the calendar macro that look like below:  {code}   <ac:structured-macro ac:macro-id=""""f1360258-9d29-4828-b510-ba63bdfc51e3"""" ac:name=""""calendar"""" ac:schema-version=""""1"""">      <ac:parameter ac:name=""""id"""">859956f5-0eb8-4169-9c5b-24a034e40578</ac:parameter>    </ac:structured-macro>  {code}  # From the storage format above, either copy it and add it into the affected page using [Source Editor|https://marketplace.atlassian.com/apps/1210722/confluence-source-editor?hosting=server&tab=overview] or type the wiki markup like below to insert the calendar macro:  {code}  {calendar:id=859956f5-0eb8-4169-9c5b-24a034e40578}  {code}"""
"CONFSERVER-57648","Bug","Content - Edit Files / Companion|Content - File Previews",3,"Disabling ""Edit With button"" module prevents preview from working on the Attachments page","""h4. Summary  # In the Administrating Companion App document, we have a section that explain how to disable the Companion App if an admin choose to, which is to disable the *Edit With button* module, in the *Confluence Previews* add-on.  # This works fine, and when clicking on the file when attached on the page itself, the file previews, and the """"Edit with* button is no longer there as expected.  # But, if we were to click on the file from the page's Attachments page, the preview will not load.    h4. Steps to replicate  # Upload a simple PDF file onto a page.  # Disable the *Edit With button* module, in the *Confluence Previews* add-on.  # Click on the file on the page itself, and it should preview fine.  # Click on the file from the attachment page, the preview will not load.    h4. Current Behavior  # Preview on the attachments page does not work when *Edit With button* module is disabled in the *Confluence Previews* add-on.    h4. Expected behavior  # Preview should work on the attachments page does not work when *Edit With button* module is disabled in the *Confluence Previews* add-on."""
"CONFSERVER-57705","Bug","Apps - Team Calendar",2,"Subscribe Calendar button is missing if restriction is applied","""h4. Problem Statement  If a calendar has edit restriction applied to it, an unrestricted user will not be able to see the """"Subscribe"""" button.    h4. Steps to Replicate  # Create a test calendar with no restrictions  # Create two test user (user1, user2)  # Both users are able to see the """"Subscribe"""" button on the top right-hand corner (next to the """"Add Event"""" button)  # Apply edit restriction to only user1  # Log in as user2 and check if the button is still present    user1 will see:   !Screen Shot 2018-12-25 at 8.08.55 PM.png|thumbnail!     user2 will see:   !Screen Shot 2018-12-25 at 8.09.31 PM.png|thumbnail!     h4. Workaround  The 'subscribe' button can still be found in the options (...) drop-down list"""
"CONFSERVER-57715","Bug","Apps - Team Calendar",5,"Race condition in atlassian-ical4j causes high CPU usage in Confluence","""h3. Issue Summary  The latest version of _atlassian-ical4j_'s method {{getCachedOnset}} is susceptible to trigger race condition, in which may lead to high CPU usage in Confluence.    (i) Team Calendar make use of _atlassian-ical4j_ library to support the implementation of timezones in an iCalendar format.  In this case, the race condition was observed specifically when the library was trying to determine whether the retrieved Calendar events' time is in daylight savings time.     h3. Evidence in Thread Dumps  Example thread:      h3. Workaround  None at the time being."""
"CONFSERVER-57995","Bug","Content - File Previews",3,"Can't edit from Powerpoint Macro after editing from Preview","""If the Previewer is used to invoke “Edit with app” on a Powerpoint attachment, and then you cancel the editing, go back to the main page view and use the “pencil” icon from a Office Powerpoint macro for the same attachment, it also results in the following JS error: """"TypeError: Cannot read property 'displayName' of undefined"""""""
"CONFSERVER-57769","Bug","Content - Edit Files / Companion|Editor - Attachment",3,"Editing a document that has special characters in the document's name fails when using the Companion App.","""h3. Issue Summary    In Windows, if a document's name do not contain spaces and has a """"&"""" character and the user tries to use the Companion App to edit the document, the Companion App will return an error and will fail to launch. This has been tested on Word documents and documents with the .txt extension but we believe that the behavior is the same across all other document types.      h3. Environment  * Windows    h3. Steps to Reproduce  # Create a word document. Name it a&b.docx  # Upload it to Confluence  # Attempt to Edit the document.    h3. Expected Results  Companion App launches and the document can be edited using the related application.    h3. Actual Results  A """"Windows cannot find"""" the document error is is returned. (see attachment)  In some cases, the companion app just hangs and does not return any error message.    h3. Tested Scenarios:  * a&b will fail  * a&bababa will fail  * a & b will work  * Financial Sample & (test) etc will work  * FinancialSample&(test)etc.xls will fail    h3. Workaround  Change the document's name by removing the """"&"""" character.  """
"CONFSERVER-57790","Bug","Apps - Team Calendar|Space - Personal Space",1,"User Calendar is still appearing in the search results after the user is being deleted ","""h3. Issue Summary    After deleting the user that previously had personal space and at least one personal calendar, the related calendar will still be shown in the search results upon searching the username.     Confluence Version: 6.6.9, 6.13     Team Calendar Version: 6.0.25  h3. Steps to Reproduce   # Create a test user   # Log in with that user   # Create a Personal Space   # Create a calendar in personal space   # Log out and log in with an admin account   # search the user by the name and you will get 4 results related to that user   # delete the user and the associated personal space   # search for the user by the name again    h3. Expected Results    No results should be shown  h3. Actual Results    User's Calendar is still appearing in the search results  h3. Workaround    Currently, there is no known workaround for this behavior. A workaround will be added here when available"""
"CONFSERVER-57798","Bug","Content - Edit Files / Companion",3,"Companion App throws System clock error if it starts up before the computer has synced with the NTP server","""h3. Summary  # When connected to the internet, the Companion App checks and compares the computer's time with the NTP time.  # If the time is out of sync, it will throw the error saying """"System clock is incorrect""""  # Sometimes the Companion App will start before the computer has time to sync with the NTP server, which will them prompt the error message as well.    h3. Steps to replicate  # Set the Companion App to auto start on OS boot.  # Start the computer in another location where the local time is different.  # If the computer boots up, but has not synced with the NTP server to update it's time, the Companion App will throw the """"System clock is incorrect"""" error.    # The issue can also be reproducible by simply changing the local time of the machine, and then setting it to update using the NTP server.  # Start the Atlassian Companion app, and it will throw the error, since it takes some time for the computer to sync with the NTP server time.    h3. Expected behavior  # When starting up, the Companion app should wait awhile for the computer time to sync with the network time, to prevent the error message from appearing.  # Or, there should be an option to disable the checking.    h3. Current behavior   # Companion App throws """"System clock is incorrect"""" error message, as the computer has have the time to sync with the network time.   # In some cases, the app will crash on boot, and but works fine if started manually after."""
"CONFSERVER-57796","Bug","Content - Edit Files / Companion",3,"Web resource bundling in Confluence 6.14 version is breaking our Future macro in BobSwift Cache for Confluence Add-on","""Hi Atlassian Team,    Looks like the web resource bundling is changed in Confluence 6.14 version. We are facing issues with our Future macro along with 'viewppt' and 'viewpdf' macros (or any other macros that has a dependency on an external web resource) for the 'Cache for Confluence' Bobswift add-on.    I have already created a DEVHELP ticket 2 days back, awaiting for a response.    Reference: [https://ecosystem.atlassian.net/servicedesk/customer/portal/14/DEVHELP-2164]    Could you please help me urgently on this issue.    Thanks,  Ram."""
"CONFSERVER-57820","Bug","Search - Core",2,"Confluence Search return ""Something went wrong"" after session timed out instead of redirecting user to Login page.","""h3. Issue Summary    Confluence Search return """"Something went wrong"""" after session timed out instead of redirecting user to Login page.  h3. Environment    Confluence version 6.14.0  h3. Steps to Reproduce   # *Login* into Confluence.   # Open a *new browser tab* and access any Confluence page in the new tab.   # *Logout* from Confluence in the first browser tab (in *Step 1*).   # In the *new browser tab*, Click the search box and search for any keyword.    h3. Expected Results    Confluence will redirect user to a Login page since the session is terminated/expired when user logout in the other tab.  h3. Actual Results    Confluence does not redirect user to a Login page.    The following message return in the Search box when user tried to search after session timed out:    h3. Notes    The issue can be replicated when the default session timed out (60 minutes) without manually Logout from Confluence in other tab.  h3. Workaround    Logout then re login into Confluence to perform the search"""
"CONFSERVER-57828","Bug","Search - Core",1,"Confluence Search keep loading when the user starts to search before the UI loaded completely","""h3. Steps to replicate  # Login into Confluence.  # Type any keyword in the search box before the UI completely loaded.  # Remove the keyword and re-enter the keyword multiple time.    h3. Environment  Confluence version 6.14.0    h3. Expected Results  Search autocomplete/result will appear.    h3. Actual Results  Confluence Search keep loading even after navigating to another page.    h3. Workaround  Refresh the page/open a new tab and wait until Confluence UI completely loaded to perform the search."""
"CONFSERVER-57826","Bug","Search - Core",3,"Color Scheme Settings for Search Box in Confluence 6.14.0 does not take effect","""h3. Summary  Color Scheme Settings for Search Box in Confluence 6.14.0 does not take effect    Confluence 6.14 introduced an [enhanced Confluence Search|https://confluence.atlassian.com/doc/confluence-6-14-release-notes-963655609.html#Confluence6.14ReleaseNotes-FindworkfasterwiththenewConfluencesearch] and this could be the reason behind the *Search Field Background* and *Search Field Text* from the [Color Scheme|https://confluence.atlassian.com/doc/customizing-color-schemes-135906.html] is not applied properly.    h3. Environment  Confluence 6.14.0      h3. Steps to Reproduce  # Go to the [Color Scheme|https://confluence.atlassian.com/doc/customizing-color-schemes-135906.html] admin configuration page  # Click *Edit* and change the color schemes below:  #* Search Field Background  #* Search Field Text    h3. Expected Results  Color schemes for the quick search box on the top right should be changed accordingly    h3. Actual Results  Color schemes that are modified don't take effect on the search box    h3. Information  * The color set in the *Search Field Text* only applies to the _magnifying glass logo_ instead of the _search_ text  * The same customization applied in Confluence 6.11.2 will take effect:   !confluence 6.11.2 search bar.png|thumbnail!       h3. Workaround  Third-party theme plugin"""
"CONFSERVER-57842","Suggestion","Content - Edit Files / Companion",0,"Allowing admin to pre-set Trusted Domain before distributing Companion App","""h3. Problem Definition  Currently, there is no way to pre-set the *Trusted Domain* for the Companion App before distributing it out.      h3. Why this is important  In a large organization if the system administrator were to distribute the Companion App to all Confluence users, every users will need to click on """"Trust this Domain"""" for the first time editing attachment in the Confluence.    Having an option to pre-set the Trusted Domain before distributing it out can cut down the hassle from the users to seek for clarification before _Trusting_ something in their computer.       !image-2019-02-01-10-01-19-961.png|thumbnail! """
"CONFSERVER-57883","Bug","Content - Edit Files / Companion",3,"Companion app leaks memory if the process is started twice","""h3. Summary    The Companion app leaks memory if the process is started twice.      {panel:title=Issue fixed on Atlassian Companion App version 0.6.0|borderStyle=dashed|borderColor=#cccccc|titleBGColor=#f7d6c1|bgColor=#ffffce}   # There will still be *two processes* running for the Companion app even on 0.6.0.   # But there should be only *one instance* of the app, which can be see with there being only one Companion App icon on the task-bar.{panel}  h3. Environment   * Only observed on Windows   * App installed with *.msi* file    h3. Steps to Reproduce   # Install the Companion app with the *.msi* file using the following script   ** For 32-bit OS:       ** For 64-bit OS:       # Reboot the computer    h3. Expected Results    The app is started normally and no duplicate processes or memory issues are observed.  h3. Actual Results    Duplicate processes for the app are observed, as we can see here:    !task-manager-view.png|thumbnail!    One of the processes will *leak memory at a rate of around 20 bytes per second*. We have some cases where the memory usage reached more than 1GB before the app crashed after running in this situation for a few hours.  h3. Notes    The installation method that triggers this situation is a workaround for the following bugs:   # https://jira.atlassian.com/browse/CONFSERVER-57792   # https://jira.atlassian.com/browse/CONFSERVER-57541    After running this installation method and rebooting the computer, we end up having two entries on the registry that trigger the app startup, one under the key *HKEY_CURRENT_USER* and the other under *HKEY_LOCAL_MACHINE*.    Even though this is not triggered under normal circumstances, the idea of this bug is that one of the following situations must be avoided:   # The app should check if it is already running before starting a new process, or   # If the possibility of having two processes is expected, the secondary process should not leak memory    If the app has one of those protection mechanisms bundled, we exclude the possibility of compromising the end-user computer resources.  h3. Workaround 1    Remove one of the registry entries (either from HKLM or HKCU tree), which can be done by an administrator. Only one of the following entries must exist in the registry:      (!) For a 64 bit OS, the registry tree looks like this:    h3. Workaround 2    Uncheck the *Launch at startup* box on the app itself, which can be done by the end user. This will effectively remove the registry entry from *HKEY_CURRENT_USER*, but the app will still start automatically on reboot due to the entry under *HKEY_LOCAL_MACHINE*."""
"CONFSERVER-57919","Bug","Search - Core",2,"Search tips link is broken when using a different language than English (US/UK)","""h3. Issue Summary    In Confluence 6.14.x, we added a new search window, on the right side of it, there's a Search tips link, clicking on it would lead you to our Search guide:   - [https://confluence.atlassian.com/doc/search-139528.html]    If we change the language at the user profile to something other than English (US) and (UK), the link is broken and, instead of redirecting to the correct page, we does a search at CAC (confluence.atlassian.com) for the word """"search"""" in the language that was changed to, for example, if we change to Deutsch, it will search for """"suchen"""".      h3. Environment    Confluence 6.14.x  h3. Steps to Reproduce   # Install Confluence 6.14.x   # Click on the search bar, on the new window, click on Search tips or on the language you've chosen that the link was translated to    h3. Expected Results    Will open a new tab showing our Search guide:   - [https://confluence.atlassian.com/doc/search-139528.html]    h3. Actual Results    Will open a new tab and will run a search for the word """"Search"""" in the language chosen, for example:   - Deutsch, will redirect to: [https://confluence.atlassian.com/display/DOC/Suche]   - Eesti, will redirect to: [https://confluence.atlassian.com/display/DOC/Otsi]    h3. Workaround    Since changing the language to english just to have that link correctly won't be done, there are no workarounds."""
"CONFSERVER-57934","Bug","Content - Page",3,"Adding panel,excerpt,warning,note,tip or info macro to the page in edit mode will trigger mixed content action in browser","""h3. Issue Summary    Editing page with a panel, warning, note, tip or info macro over https in the browser will trigger mix content action, it will break the certificate trust on request of _plugins/servlet/confluence/placeholder/macro-heading?definition=e25vdGV9&locale=en_US&version=2_.  h3. Environment    Confluence 6.14.x  Confluence 6.15.x  Confluence 7.0.x    Connector with SSL  h3. Steps to Reproduce   # Create a page and add an excerpt, warning, note, tip or info macro   # Open inspect tools/network tab and edit the page once again.    h3. Expected Results    The certificate will stay trusted (green) and all request will be resolved over HTTPS  h3. Actual Results    At least one request is resolved over HTTP and certificate is not trusted because of mixed content.   [^localhost_6.14.1.har.zip]  h3. Notes    The issue does not exist in 6.13.x  h3. Workaround    Some users have found the below custom HTML resolves the issue in Chrome:    Copy text/code below into *BODY* section of *Configuration --> Custom HTML*       """
"CONFSERVER-57943","Bug","Space - Blueprints",3,"Unable to create spaces in 6.11.x to 6.15.2 when a space blueprint plugin has been removed","""h3. Summary    A bug in 6.11.0 to 6.15.2 leads to the Create Space dialog not loading, and giving an  """"unknown server error"""" in the UI after clicking on the Create Space button.    A pre-exiting KB has almost 100% effectiveness with some exceptions that are environmental, not the application. Here's the KB:   - [https://confluence.atlassian.com/confkb/creating-new-page-or-space-loads-forever-744329880.html]    This was caused by the space blueprints table AO_54C900_SPACE_BLUEPRINT_AO containing a reference to a blueprint that was no longer available.  E.g. the plugin that included the blueprint has been uninstalled.    Another situation is where the blueprint was partially enabled.    This bug is fixed in 6.13.5 and 6.15.3.      h3. Logs    This is the logging by default that is used to identify the problem:    Logs with debug on for AO:    It happens on UPGRADES from 6.x to 6.11.x or later versions and it happens with all databases, no common plugin used, dropping/truncating the tables always resolve the problem, with just one exception.    h3. Steps to reproduce    There are a few ways to reproduce it.  The most common and dangerous is:   * Create a space using the a space blueprint   * Disable the plugin module that provides that space blueprint   * Upgrade to 6.11.x or above   * Try to create a space    The """"it happens on upgrade"""" is because the bug was introduced there, and in previous versions it was fine to disable the space blueprint of a plugin module.   * When using 6.11.x or above   * Create a space using the a space blueprint   * Disable the plugin module that provides that space blueprint   * Try to create a space    Another way is to just disable a space blueprint plugin module without disabling the space blueprint item module, e.g.   * When using 6.11.x or above   * Go to Manage apps   * Turn off the team-space-blueprint module   * Try to create a space    h3. Workarounds    * Upgrade to 6.15.3 or 6.13.5  * Create spaces using the old UI.  You don't get to choose a space type, but you can still create spaces.  Start at http://<baseurl>/<contextpath>/spaces/createspace-start.action  * If you have disabled or uninstalled any space blueprint plugins or plugin modules you used to use, then re-enable them  * If those aren't enough, follow this KB to delete old space blueprint use from the database [https://confluence.atlassian.com/confkb/creating-new-page-or-space-loads-forever-744329880.html]"""
"CONFSERVER-57951","Bug","Apps - Team Calendar",3,"Disabling ""Events"" event type breaks CalDAV synchronisation to mobile and the calendar on TC","""h3. Issue Summary  Disabling """"Events"""" event type on Team Calendars will   * Prevent event creation from mobile CalDAV connection   * Corrupt calendar """"Events"""" event type   * Create duplicate """"Events"""" event types and actual Events for every attempt to create an event from the mobile   * Prevent events from getting created using """"Events"""" event type even after re-enabling the type.    h3. Environment   * Android Mobile with CalDAV two way sync to Team Calendars   * Confluence Team Calendars 6.0.27    h3. Steps to Reproduce   # Create a Calendar in TC   # Create a _test_ event using built-in *Events* event type   # Add calendar to an android mobile device using CalDAV as outlined in [Subscribe to Team Calendars from Android Calendar|https://confluence.atlassian.com/teamcal/subscribe-to-team-calendars-from-android-calendar-946631707.html] instructions   # Synchronize and confirm that you can see new test event in mobile calendars   # On team calendars disable """"Events"""" event type, _test_ event will disappear as expected.   # Synchronize CalDAV on mobile, _test_ event will disappear on *TC* and *Mobile*   # Attempt to create a new event on *Mobile*    h3. Expected Results  The event is created on Mobile Calendar and then syncronised to Confluence Team Calendars    h3. Actual Results   * Test event is created on mobile, but disappears after refresh and never appears on TC   * Re-enabling disabled *Events* event type will result in duplicate *Events* event types and events, one for each """"failed"""" mobile event creation attempt   !multiple event types.png|thumbnail!   * From calendars event type we do not see any custom event types   !no custom event type.png|thumbnail!   * Attempting to create an event with default *Events* event type will result in {{java.lang.NullPointerException}} in WebUI and {{atlassian-confluence.log}}:       * On mobile, none of the duplicates will be visible    h3. Workaround  Exporting calendar as an ical, deleting and re-importing it fixes duplicate event types and allows events creation again"""
"CONFSERVER-57974","Bug","Macros - Widget Connector",0,"Remote code execution via Widget Connector macro - CVE-2019-3396","""There was a server-side template injection vulnerability in Confluence Server and Data Center, in the Widget Connector. An attacker is able to exploit this issue to achieve path traversal and remote code execution on systems that run a vulnerable version of Confluence Server or Data Center.         *Affected versions:*    All versions of Confluence Server and Confluence Data Center before version 6.6.12, from version 6.7.0 before 6.12.3 (the fixed version for 6.12.x), from version 6.13.0 before 6.13.3 (the fixed version for 6.13.x) and from version 6.14.0 before 6.14.2 (the fixed version for 6.14.x).         *Fix:*   * Confluence Server version 6.15.1 is available for download from [https://www.atlassian.com/software/confluence/download].   * Confluence Server version 6.14.2 is available for download from [https://www.atlassian.com/software/confluence/download-archives].   * Confluence Server version 6.13.3 is available for download from [https://www.atlassian.com/software/confluence/download-archives].   * Confluence Server version 6.12.3 is available for download from [https://www.atlassian.com/software/confluence/download-archives].   * Confluence Server version 6.6.12 is available for download from [https://www.atlassian.com/software/confluence/download-archives].         For additional details, see the full advisory: [https://confluence.atlassian.com/display/DOC/Confluence+Security+Advisory+-+2019-03-20]     """
"CONFSERVER-58146","Bug","Apps - Team Calendar",3,"Team Calendars won't load high volume of Jira Issues","""h3. Summary      * In Team Calendars, if you try to create a JQL filter showing over 700 Jira Issues, they won't load in the calendar even though the response shows as *{""""success"""": true}*    h3. Environment   * Jira Project with over 700 issues    h3. Steps to Reproduce   # In Team Calendars, select *Add Event*  ## Select *Jira Issue Dates* in the *Event Type* field  ## Add a name to it  ## In the *Display* field, select the *JQL* option and add a filter that would return over 700 entries. In my local test instance, the filter was:    ## Check the *Issue Created Date* check box  ## Click on the *OK* button    h3. Expected Results      * The calendar will load the issues as events in the calendar    h3. Actual Results     * No issues are shown and, upon checking the console, we can see that the _events.json_ request will take a while to load and its response will be only *{""""success"""": true}*    h3. Notes     * This issue is very intermittent since I was able some times to display the required information.    h3. Workaround   N/A"""
"CONFSERVER-58185","Bug","Content - File Previews",2,"Disabling companion app plugin submodules causes corruption of   pdfview macro preview","""h3. Issue Summary    Disabling companion app plugin submodules causes corruption of   pdfview macro preview  h3. Environment    Confluence 6.15.1, postgres 9.5, all supported browsers  h3. Steps to Reproduce   # Create new page   # Add pdf attachment and insert it into PDFview macro   # Go to Confluence administration -> manage apps. Search for Confluence plugin """"Confluence Previews""""   Disable plugin submodules (according to official documentation [https://confluence.atlassian.com/doc/administering-the-atlassian-companion-app-958456281.html ):|https://confluence.atlassian.com/doc/administering-the-atlassian-companion-app-958456281.html):]   ## Edit With plugin for the Media Viewer (companion-plugin)   ## Embedded 'Edit With' button (embedded-edit)   # Go to previously created page    h3. Expected Results    Pdfview macro is rendered  h3. Actual Results    Pdfmacro preview is corrupted:    !Screenshot_20190423_135858.png|thumbnail!  h3. Workaround    Currently there is no known workaround for this behavior. A workaround will be added here when available"""
"CONFSERVER-58213","Suggestion","Server - Platform",0,"Upgrade to jQuery 2","""Presently Confluence 6.x uses jQuery 1.7.2.  Confluence 7.0 will upgrade to jQuery 2.2.4."""
"CONFSERVER-58220","Bug","Editor - Collaborative editing",3,"Having Collaborative Editing disabled and HTTPS will cause macros' titles to not show up","""h3. Summary      When editing a page that has a macro, its title won't show up if you have HTTPS enabled and Collaborative Editing disabled. Confluence will make incorrect requests to the HTTP URL instead of HTTPS URL, causing this behavior.    h3. Environment   * HTTPS enabled  * Collaborative Editing disabled    h3. Steps to Reproduce   # Enable Confluence to be running on HTTPS (Reverse proxy or at Tomcat)  # Disable Collaborative Editing  # Go to a Confluence page that has a *Panel* macro, for example  # Edit this page    h3. Expected Results      * The macros will show up its titles normally    h3. Actual Results     * The macro's won't show up its titles unless you edit them.    h3. Diagnosis    # Confirm that *Confluence Administration* » *General Configuration* » *Collaborative Editing* is currently disabled  #* This is identified in the Support Zip / application.xml:    # Capture a [HAR file|https://confluence.atlassian.com/kb/generating-har-files-and-analysing-web-requests-720420612.html] when refreshing the page whilst in Edit mode  # Most of the web requests will be against HTTPS base URL  #* e.g. https://www.mybaseurl.com/confluence/......  # However, the URL to generate the Macro Titles (plugins/servlet/confluence/placeholder/macro-heading) are incorrectly made against the HTTP base URL instead of the HTTP base URL  #* e.g. http://www.mybaseurl.com/confluence/plugins/servlet/confluence/placeholder/macro-heading?definition=e2NvbHVtbjp3aWR0aD0zMyV9&locale=en_US&version=2    h3. Workaround   * Enable Collaborative Editing"""
"CONFSERVER-58270","Bug","Editor - Collaborative editing",5,"Confluence might show blank content or an old version of a page when an user tries to edit a page with Collaborative Editing enabled","""h3. Issue Summary  When Collaborative Editing is enabled in Confluence and users try to edit a page, they might hit a bug on which a blank page is shown in the editor.  Sometimes, it is not a blank page, but an old version of it.    h3. Environment  This bug was reproduced on *6.6*, *6.13* and *6.15.4*.  Although not tested, this should affected any version from 6.0 onward.    h3. Steps to Reproduce  Below are described two ways to hit this bug, but with different characteristics to user, although the bug trigger is the same.  Because of simplicity, the first option might be more common than the other, which is when the user sees a blank page when accessing the editor.    h4. Option 1  # Install a vanilla instance of Confluence.  # Publish a new page with no content.   #* If you check records related to this page in the {{CONTENT}} table you have 2 rows.   #* The row related to the draft has {{creationdate}} and {{lastmoddate}} equal to {{null}}.   !drafts_img008.png|thumbnail!   # Disable Collaborative Editing.  # Edit the same page, add new content to it and save it.   #* If you check records related to this page in the {{CONTENT}} table, you have 3 rows.  # Enable Collaborative Editing.   #* The draft record that was created a few steps ago won't be [removed as a stale draft|https://docs.atlassian.com/atlassian-confluence/6.2.0/com/atlassian/confluence/pages/PageManager.html#removeStaleSharedDrafts--] because its timestamps are null.  # Access the same page as before and click on _Edit_.    h5. Expected Results  Confluence shows in the editor the contents of the last published page.    h5. Actual Results  Confluence shows in the editor a blank page.    h4. Option 2  # Install a vanilla instance of Confluence.  # Disable Collaborative Editing.  # Create a page with a sample content.   !drafts_img003.png|thumbnail!    #* If you check records related to this page in the {{CONTENT}} table, you have just one row.   !drafts_img001.png|thumbnail!   # Enable Collaborative Editing.  # Access the page created a few steps before and click on _Edit_.  # *Without changing anything* on the contents, click on _Close_ to exit the editor.   #* If you check records related to this page in the {{CONTENT}} table, now you have 2 rows.   #* The new row added to the table is related to the draft record and has {{creationdate}} and {{lastmoddate}} equal to {{null}}.   !drafts_img002.png|thumbnail!   # Disable Collaborative Editing.  # Edit the same page again, add new content to it and save it.   !drafts_img004.png|thumbnail!    #* If you check records related to this page in the {{CONTENT}} table, you have 3 rows.   !drafts_img005.png|thumbnail!   # Enable Collaborative Editing.   #* The draft record that was created a few steps ago won't be [removed as a stale draft|https://docs.atlassian.com/atlassian-confluence/6.2.0/com/atlassian/confluence/pages/PageManager.html#removeStaleSharedDrafts--] because its timestamps are null.  # Access the same page as before and click on _Edit_.    h5. Expected Results  Confluence shows in the editor the contents of the last published page.   !drafts_img006.png|thumbnail!     h5. Actual Results  Confluence shows in the editor an old version of the page, which is related to the draft record created when Collaborative Editing was first enabled.     h3. Notes  This bug is related to [CONFSERVER-57458|https://jira.atlassian.com/browse/CONFSERVER-57458] in a way that it shows the same characteristics to the end user.  A bug new record was created because the trigger of is completely different.    h3. Workaround  _Currently there is no known workaround for this behavior. A workaround will be added here when available_"""
"CONFSERVER-58352","Bug","Content - Edit Files / Companion",3,"Companion App certificate has expired","""h3. Issue Summary    The certificate for the Companion App desktop applications has expired as of April 23rd 2019.   h3. Environment    N/A  h3. Steps to Reproduce    N/A  h3. Actual Results  h3. Notes    (Optional - If Necessary)  h3. Workaround    No workaround. """
"CONFSERVER-58376","Bug","Content - Edit Files / Companion",2,"Companion embedded edit doesn't refresh the page correctly ","""h3. Issue Summary  h3. Environment    N/A  h3. Steps to Reproduce   # Edit a file using the embedded edit button, make a change and save the change   # Press the upload button in the dialog    h3. Expected Results    New file should be uploaded and the page should refresh seamlessly in the background  h3. Actual Results    The web browser shows a prompt confirming that the user wants to navigate away from the page:   """"This page is asking you to confirm that you want to leave - data you have entered may not be saved.""""    h3. Workaround   Currently there is no known workaround for this behavior. A workaround will be added here when available"""
"CONFSERVER-58425","Suggestion","Content - Edit Files / Companion",2,"Companion App should provide a configuration option to prevent clearing files on startup","""h3. Issue Summary    Currently, on startup the Companion App will remove all attachments from its temporary directory. This is to prevent temporary files building up and taking up too much space.     However, some users would prefer to have more control over when these files are deleted. We could provide a configuration option in the Companion menu such as """"Clear temporary files on startup"""" that defaults to selected. If the user unticks this option then we would no longer perform the clear out of the temporary directory.   h3.      This suggestion is important in cases when the user did not upload changes, but it has saved them. And because of that, his changes will be gone, and we will not be able to recover them."""
"CONFSERVER-58478","Bug","Content - Edit Files / Companion",3,"Companion App does not work when Confluence has the Atlassian SAML SSO app configured","""h3. Summary    When trying to edit an attachment with the Companion App (Confluence 6.11+) while Confluence is using SAML authentication, we receive an error message even though the file works fine in the appropriate editor.  h4. Steps to reproduce   # Install Confluence 6.11.1 + Companion App;   # Attach a Word document to a Confluence page;   # Click on the Excel document to show in Preview;   # Click on the *Edit with Word*;   ** Word opens the document fine (/)   # Now, integrate Confluence with an IdP (or Crowd SSO 2.0) using the [Atlassian SAML SSO app|https://marketplace.atlassian.com/apps/1216096/sso-for-atlassian-server-and-data-center?hosting=server&tab=overview];   ** Repeat the above test by clicking on the *Edit with Word;*    h3. Expected Result    Clicking the *Edit with <App>* should work with Confluence regardless whether Confluence is integrated with SSO.    h3. Actual Result    The system throws a popup message saying """"File is corrupted and cannot be opened"""".     !screenshot-1.png|thumbnail!      h3. Workaround    Disable the SAML plugin or edit the file directly in Word (or the respective app)."""
"CONFSERVER-58490","Bug","Editor - Collaborative editing|Integrations - HipChat",2,"Emoticons with dashes are not correctly restored in 6.15.5","""h3. Issue Summary  h3. Environment    Confluence 6.15.5, pages saved in earlier versions of Confluence with broken emoticons (""""broken"""" as per https://jira.atlassian.com/browse/CONFSERVER-52441)  h3. Steps to Reproduce   # Have a page with a """"broken"""" emoticon (saved in storage format as an """"<img>"""") which has a dash in the name (e.g. """"thumbs-up"""", """"thumbs-down"""", """"green-star"""", """"red-star"""", """"yellow-star"""", """"blue-star"""", """"light-off"""", """"light-on"""", """"broken-heart"""")   # Upgrade to 6.15.5    h3. Expected Results    The emoticons are restored, can be viewed correctly on the view page and are correctly saved on next save.   h3. Actual Results    The emoticons are incorrectly converted to HipChat emoticons (which are """"unknown"""").       h3. Workaround    Disable the """"Confluence HipChat Emoticons Plugin""""   # Go to   !http://extranet.atlassian.com/download/thumbnails/4168188072/cog_icon.png?version=1&modificationDate=1560916171530&api=v2|width=16!  > *Manage apps*   # Search for *Confluence Hipchat Emoticons Plugin.* This is a bundled plugin, so make sure the *All apps* option is selected in dropdown.   # Click on the name of the plugin, then select *Disable*.    !manage-apps-disable-hipchat-emoticons.png|width=468,height=407!         Alternatively, the fixed version of the  """"Confluence HipChat Emoticons Plugin"""" can be installed in your 6.15.5 instance   # Go to   !http://extranet.atlassian.com/download/thumbnails/4168188072/cog_icon.png?version=1&modificationDate=1560916171530&api=v2|width=16!  > *Manage apps*   # Press """"Upload app""""   # Upload the fixed version of the plugin attached to this ticket [^confluence-hipchat-emoticons-plugin-3.1.3.obr]"""
"CONFSERVER-58527","Bug","Content - Edit Files / Companion",3,"Store temporary files for Atlassian Companion App outside of the Roaming profile on Windows","""h2. *Problem Description*    Editing files via the Atlassian Companion app in Microsoft Windows stores files in two locations:    1. Actual files downloaded and sent to the respective application:    * C:\Users\admin\.atlassian-companion    2. Temporary Cache files (including a CACHE copy of the downloaded file) is stored in:    * C:\Users\admin\AppData\Roaming\Atlassian Companion\Cache    Every time a file is edited, a copy is again put into the above Temporary Cache location inside the *Roaming* folder:        The *Cache folder* in the Roaming profile can therefore grow excessively large and hit size quotas on the Roaming profile folder.    h2. *Suggestion*    Provide a way to cap the upper limit on the Cache folder.    * [Chromium command-line params|https://github.com/electron/electron/blob/master/docs/api/chrome-command-line-switches.md] do support a maximum cache size:    {quote}  *{{--disk-cache-size=size}}*    Forces the maximum disk space to be used by the disk cache, in bytes.  {quote}  * Alternatively, this Cache folder should be written to {{C:\Users\admin\.atlassian-companion}}, outside of the Roaming folder    h2. *Work Around*    Atlassian Companion App uses the Electron framework which  generates/utilises these two folders:    * Cache  * GPUCache    Edited: It is safe to manually delete the folders - the entire AppData/Roaming/Atlassian Companion/Cache directory should be deleted rather than selectively removing files. If the folder is locked whilst Atlassian Companion App is running please exit the app, delete the folder and restart. This will reduce the disk space used in the Windows Roaming folder."""
"CONFSERVER-58534","Bug","Page - Export / Import",2,"SVGs inside tables cause PDF exports to fail","""h5. Summary  An emoticon that is in the form of an image link (to the svg file) inside a table does not export to pdf.    h5. Steps to replicate  # Add emoticon as an SVG image link inside a table:    The new input of the emoticon tag works fine    # Export to PDF    h5. Expected results  Successful export    h5. Actual results  *Stack trace when try to pdf export:*    *Stack trace:*      h5. Workaround    There is no existing workaround. To fix the issue upgrade to Confluence 6.8+"""
"CONFSERVER-58531","Bug","Mobile",2,"Mobile web view watch button is not working","""h3. Issue Summary    Mobile web watch button is calling a outdated action endpoint.   h3. Environment    (Optional - If Applicable)   *   *  h3. Steps to Reproduce   # Go to web mobile view   # Go to a page   # Click watch button   # Open DevTool network panel    h3. Expected Results    The request should succeed   h3. Actual Results              (Optional - If Necessary)  h3. Workaround    Required, if there is no workaround please state:   Currently there is no known workaround for this behavior. A workaround will be added here when available"""
"CONFSERVER-58549","Bug","Macros - JIRA Macros",3,"Deleting a field to display (clicking on the Bin icon) or reordering fields does nothing, when editing ""Filter Results"" macro","""h3. Issue Summary    When editing the Jira *Filter Results* macro, the """"fields to display"""" are unable to be edited. They are unable to be removed or sorted.  h3. Steps to Reproduce   # Use a Confluence instance with an application link to Jira.   # Create a new page and add the Jira *Filter Results* macro.   # Select the macro and click on Edit.   # In the preview pane, at the bottom of the list, click on the cogwheel icon and then Edit.   # Attempt to   ## Remove a field from the list of Fields to display, by clicking on the bin icon.   ## Reorder a field    h3. Expected Results    The field is removed / reordered from the list.  h3. Actual Results    Nothing happens, the field stays in the list.   Check the attached video [^DeleteField-FilterResultsMacro.mp4] for a recording of the issue's reproduction.  h3. Workaround    It is possible to remove and reorder fields using an additional plugin from Atlassian Marketplace called 'Source Editor'.   # In the Confluence user interface, select 'Confluence Administration' from the top right, then 'Manage Apps'   # Click 'Find new apps', and in the search box type in 'Source editor'.   # In the search results, find this one :   !source-editor-marketplace.png|thumbnail!    (You can also find it in the Atlassian Marketplace - [source editor|https://marketplace.atlassian.com/apps/1210722/confluence-source-editor?hosting=server&tab=overview])   Click 'install'   # Wait a few seconds and close the popup that says it's installed   # Load the Confluence page with the problematic macro on it   # Edit the page (but don't click 'edit' on the macro)   # In the top right corner, click on the '<>' icon (Mouseover will show 'Open in source editor')   # The example below shows the default columns, plus a new one that I added 'Created': Type, Key, Priority, Summary, Created.   # The macro block itself is within the <ac:structured-macro> tag:     # Using the source editor, remove or rearrange the fields/columns that you wish to remove or rearrange from the macro. For example, to remove the 'Created' field, we just need to change the two lines that reference it, changing:    To:     # Click 'Apply' in the bottom-right corner of the source editor, then 'Update' to save the whole page."""
"CONFSERVER-58642","Bug","Apps - Team Calendar",3,"Subscribing to Team Calendars in Confluence with events from restricted or inexistent Jira projects might fail","""h3. Issue Summary  Confluence users can subscribe to Team Calendars and get an updated list of events from Confluence in their preferred calendar _app_ as described in [Subscribe to and from Team Calendars|https://confluence.atlassian.com/teamcal/subscribe-to-and-from-team-calendars-273285883.html].  If users subscribe to a Calendar that has events from a restricted or an inexistent Jira project (see [Add Jira Events|https://confluence.atlassian.com/teamcal/add-jira-events-241566244.html] for further information), then Confluence will throw an error instead of gracefully bypassing events associated to that project.    h3. Steps to Reproduce  # Install a vanilla instance of Jira Software.   #* This was validated with Jira Software 7.9.2 but should not be tied to a specific Jira version.  # As the Jira administrator, create a sample project.   ## Go to *Projects* > *Create project* > *Create sample data*.   ## Select *Project management* and click on *Next*.   ## Use the following information to create the project: _Name_: {{Test Project}} ; _Key_: {{TSTPRJ}}; _Project Lead_: {{jira administrator}}  # Restrict the _Browse Projects_ permissions just to Jira administrators, removing the permission to any logged user.  # Create a regular Jira user, which is added just to the {{jira-software-users}} group.   #* _username_: {{user001}}  # Install a vanilla instance of Confluence.   #* This was validated with Confluence 6.13.3 but should not be tied to a specific Confluence version.  # [Install Team Calendars|https://confluence.atlassian.com/teamcal/install-team-calendars-241566248.html].   #* This was validated with Team Calendars 6.0.37.  # Create a regular Confluence user, which is added just to the {{confluence-users}} group.   #* _username_: {{user001}}  # Create an application link between Confluence and Jira.  # Create a blank space: _Space Name_: {{Test-Team-Calendars}}; _Space Key_: {{TTC}}  # Go to {{<Confluence Base URL>/display/TTC/calendars}} and add a new calendar.   #* _Name_: {{Test Calendar}}  # Within _Test Calendar_, click on *...* > *Add event*.   #* Select _Event Type_: {{Jira Issue Dates}}; _Name_: {{Test Project Calendar}}; _Display_: {{JQL (advanced)}}; _JQL_: {{project = """"Test Project""""}}; _Show_: {{Issue Created Date}}   #* At this point the events are added and the administrator has visibility to the events in the calendar.   # As {{user001}} access {{<Confluence Base URL>/display/TTC/calendars}} and click on _Subscribe_.   #* Choose _Calendar_: {{Test Calendar}}; _Calendar app_: {{iCal}}  # Copy the _Team Calendars URL_ and paste it in the browser.    h3. Expected Results  A pop-up is given by the browser so the user can download an _.ics_ file.  Confluence gracefully handles the fact the Jira project is restricted and doesn't include events from this sub-calendar, but still shows events from other sub-calendars.    h3. Actual Results  Confluence answers with HTTP 500 status and with a {{java.lang.NullPointerException}} to the user.  An error similar to the below is logged in {{atlassian-confluence.log}}:      The user is unable to subscribe to the Calendar.    h3. Notes  The same problem occurs if the target project is unrestricted in Jira, but had its name/key changed after the calendar was created in Confluence, invalidating the JQL query.    h3. Workaround  There's no straightforward workaround to the _subscribe use case_ and still keep the original data in Confluence.  The problematic JQL can be determined by the error in Confluence log.  One of the following options can be used with their possible consequences:   * If the Jira project was renamed, then search for the Calendars pointing to it and update the JQL filter.   * If the Jira project was removed, then search for the event pointing to it and remove it.   * If the Jira project is restricted to certain users, removing it from a _public_ calendar may be an option to certain use cases.    If applicable, exporting the calendar to an _.ics_ file as explained in [this KB|https://confluence.atlassian.com/teamcal/export-team-calendars-content-to-other-calendars-240913738.html] still works.  """
"CONFSERVER-58932","Bug","Core - Workbox",1,"In app notification setting is misaligned","""h3. Issue Summary  h3. Environment    (Optional - If Applicable)   *   *  h3. Steps to Reproduce   * go to [~/plugins/servlet/myworkserviceselector.action|https://bulldogwiki.internal.atlassian.com/wiki/plugins/servlet/myworkserviceselector.action]    h3. Expected Results    Element should align  h3. Actual Results    !Screen Shot 2019-08-26 at 11.30.58.png|width=869,height=344!  h3. Notes    (Optional - If Necessary)  h3. Workaround    Required, if there is no workaround please state:   Currently there is no known workaround for this behavior. A workaround will be added here when available"""
"CONFSERVER-58840","Bug","Web Interface - AUI",1,"Global PDF style and layout page alignment","""h3. Issue Summary  h3. Environment    (Optional - If Applicable)   *   *  h3. Steps to Reproduce   * go to either location   ** Global PDF sytle   ** Global PDF layout    h3. Expected Results    it should align       h3. Actual Results    !image2019-7-31_16-9-26.png|width=557,height=340!  h3. Notes    (Optional - If Necessary)  h3. Workaround    Required, if there is no workaround please state:   Currently there is no known workaround for this behavior. A workaround will be added here when available"""
"CONFSERVER-58839","Bug","Web Interface - AUI",1,"Space import misaligned checkboxes","""h3. Issue Summary  h3. Environment    (Optional - If Applicable)   *   *  h3. Steps to Reproduce   * Space tool → content tool → import     h3. Expected Results    elements align  h3. Actual Results    !image2019-7-31_16-19-53.png!  h3. Notes    (Optional - If Necessary)  h3. Workaround    Required, if there is no workaround please state:   Currently there is no known workaround for this behavior. A workaround will be added here when available"""
"CONFSERVER-58834","Bug","Web Interface - AUI",1,"Spacetool Look and Feel layout copy letter case is not consistent","""h3. Issue Summary  h3. Environment    (Optional - If Applicable)   *   *  h3. Steps to Reproduce   * Spacetool → Look and Feel → layout    h3. Expected Results    Should look consistent  h3. Actual Results    !image-2019-09-03-16-53-21-140.png|width=601,height=540!  h3. Notes    (Optional - If Necessary)  h3. Workaround    Required, if there is no workaround please state:   Currently there is no known workaround for this behavior. A workaround will be added here when available"""
"CONFSERVER-58831","Bug","Web Interface - AUI",1,"Space attachments table layout issue","""h3. Issue Summary  h3. Environment    (Optional - If Applicable)   *   *  h3. Steps to Reproduce   * go to Space tool → content tool → attachments    h3. Expected Results    icons should show correctly  h3. Actual Results   * icon shows when not being hovered   * hovered arrow is misaligned     !image-2019-09-03-17-22-54-353.png|width=255,height=107!        * File name is wrapped to a new line    !image-2019-09-03-17-24-17-526.png|width=267,height=200!  h3. Notes    (Optional - If Necessary)  h3. Workaround    Required, if there is no workaround please state:   Currently there is no known workaround for this behavior. A workaround will be added here when available"""
"CONFSERVER-58836","Bug","Web Interface - AUI",1,"User profile macro - email is truncated","""Create a page with the user profile macro for a user with a long enough email. An example is here https://bulldogwiki.internal.atlassian.com/wiki/pages/viewpage.action?pageId=44564533    Notice the email is truncated."""
"CONFSERVER-58680","Bug","Content - Inline Comments",2,"Navigating through inline comments using the arrows breaks if navigation hits an inline comment on a text warn/info macro","""h3. Issue Summary  Given a Confluence page with a lot of content and has inline comments, navigating between the inline comments will glitch, should the following conditions are met:  # The page contains a warn/info macro with inline comments.   # The above macro is located at the area of page that requires the user to scroll down to view it. (The issue does not happen if the macro is located at the top of the page)  When navigating through all the inline comments using the top and bottom arrows on the left side of the inline comment section, the navigation glitches when you hit the inline comment that is located in the warn/info macro.    In normal cases, when a user navigates through the inline comments the page will auto scroll to the text referred to by a specific inline comment. However, in the case of this bug, Confluence will not scroll to the text referred to by the inline comment in the warn/info macro. Instead Confluence, will auto scroll to the top of the page.       h3. Steps to Reproduce  # Create a page in Confluence with a lot of content. The content needs to be enough, so that you need to scroll down when viewing the page.   # At the bottom of the page, add an warning macro   # Add a text inside that macro and add some inline comments to the text.  # Add inline comments in the various areas of the page.   # Save the page.   # Click on any of the text with inline comment  # Navigate through the comments using the arrows on the top right side of the inline comment.  # Navigate until you reach the info/warn macro's inline comment.    h3. Expected Results  # The browser will auto scroll to where the info/warn macro is.  # The inline comment will be displayed at the same level where the info/warn macro is.    h3. Actual Results  # The browser will move to the top of the page.   # The inline comment will still be displayed at the same level where the info/warn macro is. This means that the user can scroll down until they find the inline comment box and continue navigating from there.       h3. Workaround  No known workaround at the moment.   """
"CONFSERVER-58748","Bug","Apps - Team Calendar",1,"  Browser console  error: No confluence/form-state-control is triggered when opening Team Calendar","""h3. Issue Summary    Browser console error: No confluence/form-state-control is triggered when opening Team Calendar  h3. Steps to Reproduce   # Install Team Calendars plugin   # Enable browser developer tools -> console   # Navigate to """"Calendars"""" tab    h3. Actual Results    Following error is displayed it the browser console    h3. Workaround    Currently there is no known workaround for this behavior. A workaround will be added here when available"""
"CONFSERVER-58751","Bug","User - Management",8,"User Loses all Local Group Memberships If LDAP Sync is Unable to find the User, but the User appears again in subsequent syncs","""h3. Summary    When users are filtered out/synchronized out from Confluence and re-synchronized back into Confluence, they will lose their Local Group Membership.   This is a regression from CONFSERVER-28621  h3. Environment  * Confluence 6.15x  * Cannot replicate this issue on 6.14.0. Expired users are shown as """"Disabled""""   * Unable to replicate on Confluence 7.0.1-beta1    h3. Steps to Reproduce   # Add a connection to LDAP in {{Confluence Admin >> User Directories}} with the *Read Only, with Local Groups* option   # Sync the directory and make sure that LDAP users are returned   # Add 1 LDAP user to a local group (membership)   # Change the User Object Filter in the directory's configuration in {{Confluence Admin >> User Directories}} to a dummy filter, such as the following:       # Sync the directory again (Notice that the LDAP users are missing)   # Revert the User Object Filter to the previous working filter   # Sync the directory again (notice that the LDAP users are back, but their local group memberships are gone)    h3. Notes    This issue could happen if expired users get filtered out from Confluence due to the """"Filter out expired users"""" settings, and re-synchronized back into Confluence after their expiry has been refreshed  h3. Workaround   # Restore the instance's database backup to a new database (i.e. not production) prior to the point where memberships were lost.   # Follow the instructions in step 1 of [Migrating Local Group Memberships Between Directories|https://confluence.atlassian.com/display/CONFKB/Migrate+Local+Group+Memberships+Between+Directories] to generate a CSV file of users and their memberships.   # Run through the rest of the instructions in that KB article to populate the production instance's group memberships."""
"CONFSERVER-58833","Bug","Web Interface - AUI",1,"Hipchat integration plugin wizard second step is not responsive due to js console error","""h3. Issue Summary  h3. Environment    (Optional - If Applicable)   *   *  h3. Steps to Reproduce   # go to admin configurations   # go to Hipchat integration `~/plugins/servlet/hipchat/configure`   # connect to coconut   # install confluence add-on   # select a room    h3. Expected Results    should be able to proceed  h3. Actual Results    there is no interactive element to let the user to proceed and there are console errors    h3. !Screen Shot 2019-08-27 at 14.28.57.png|width=606,height=210!!Screen Shot 2019-08-27 at 14.23.46.png|width=507,height=179!  h3. Notes    This only happens once for a new instance.   h3. Workaround    Refresh the page and the errors will be gone."""
"CONFSERVER-58762","Bug","Apps - Team Calendar",2,"Setting Calendar restriction makes creator of calendar unable to access to some sub-calendars","""h3. Issue Summary  Setting Calendar restriction makes creator of calendar unable to access to sub-calendars that is created by other users.      h3. Environment  Team Calendar    h3. Steps to Reproduce   # Create user1 and user2   # Log in as user1    # Create calendar with name """"user1calendar""""   # Create an event for sub-calendar """"Event""""   # Login as user2   # Add """"user1calendar""""   # Create an event for sub-calendar """"Travel""""   # Login as user1 again.   # Set calendar restriction of """"user1calendar"""" to restrict viewing privilege only to user2    h3. Expected Results  user1 is able to see events on all sub-calendars i.e. """"Event"""" and """"Travel"""" because they are creator of calendar.   Otherwise, user1 shouldn't be able to see any sub-calendars because the calendar is restricted to user2.    h3. Actual Results  user1 can see """"Event"""" but cannot see """"Travel"""".  And user1 keeps seeing Warning on their dashboard and top of calendar.  {quote}  Warning(s) occurred.  Unable to load events of user1calendar. You are not permitted to view its events. For access you may want to contact your administrator.  {quote}   !Screen Shot 2019-08-27 at 11.59.15.png|thumbnail!    !Screen Shot 2019-08-27 at 12.26.50.png|thumbnail!     h3. Note  * Due to CONFSERVER-51216, it's not easy to know who created the calendar. Just respecting calendar restriction even to creator as described in the second option of """"Expected Results"""" would be straightforward.    * In the example above the user1 sees """"Unable to load *user1calendar* """". And this message is *same even after """"user1calendar"""" is renamed*. It makes hard to track which calendar is causing the warning.     h3. Workaround  Explicitly add viewing permission to user1 on the user1calendar on the calendar restriction setting. """
"CONFSERVER-58835","Bug","Web Interface - AUI",1,"Share Link dialog has misaligned button depending on language","""h3. Issue Summary  h3. Steps to Reproduce   # switch the language from english (e.g. to german)   # Go to a page   # Click the """"share"""" button    h3. Expected Results    aligned copy link button  h3. Actual Results    Spinner is misaligned. Button in dialog is misaligned.    !image-2019-08-12-16-02-15-497.png|width=297,height=375!      (flag)    !Screen Shot 2019-09-05 at 10.50.33 am.png|width=333,height=205,thumbnail!       h3. Workaround    Required, if there is no workaround please state:   Currently there is no known workaround for this behavior. A workaround will be added here when available"""
"CONFSERVER-58868","Bug","Content - Sharing",1,"Share dialog UI elements are misaligned in US English","""h3. Steps   # Set browser default language to English (United States) or set Confluence profile language to the same   # Goto a page   # Click on the share dialog    *What happened...*    Copy link button is misaligned from URL box    *What should have happened...*    UI should look nice and tidy    Note this does not happen when the language is set to English (United Kingdom)    *Workaround*    Set your browser language or language in your Confluence profile to English (United Kingdom)"""
"CONFSERVER-58896","Bug","Apps - Team Calendar",3,"Team Calendars time picker uses incorrect time format","""h3. Issue Summary    When using any version of Team Calendars in Confluence version 7.0.x the time picker in displays times in 12h (AM/PM) by default and does not follow the settings in Team Calendar. In other versions of Confluence it works as expected.  h3. Environment    Confluence 7.0.x    Tested with:   Team Calendars 6.0.42   Team Calendars 6.0.37   Team Calendars 6.0.32       h3. Steps to Reproduce   # Install Team Calendars in Confluence 7.0.x   # When creating a new event the time format is in 12h (AM/PM)    h3. Expected Results    It is in 24h format, or follows the configuration settings  h3. Actual Results    It is always set to 12h (AM/PM)  h3. Workaround    No workaround is known at the moment"""
"CONFSERVER-58917","Bug","Macros - Other Macros",2,"Inconsistent status macro colours","""h3. Issue Summary    Status macro uses different background colours in the editor and when viewing the page after. The same in comments.  See attached screenshot.    h3. Steps to Reproduce   # Create page with status macro in it   # Save the page   # Observe status macro look differently than in the editor    h3. Expected Results    Same colours.    h3. Actual Results     !Screen Shot 2019-09-25 at 15.07.31.png!     h3. Workaround     Currently there is no known workaround for this behavior. A workaround will be added here when available"""
"CONFSERVER-58948","Bug","Apps - Team Calendar",1,"Popular Calendars dialog shows list of calendars sorted ascendingly by the Subscribers column","""h3. Issue Summary  When clicking on """"Add existing calendar"""" option on Team Calendars screen, the list of existing calendars is shown ordered by Subscribers in an ascending manner. This results in UI showing the least popular calendars first - in order to see the more popular calendars it's necessary to scroll to the bottom of the list.    h3. Steps to Reproduce   # Add three users in Confluence (user1, user2, user3)   # Create three calendars in Team Calendars (Calendar1, Calendar2, Calendar3)   # Make user1 watch Calendar1   # Make user2 watch Calendar1 and Calendar2   # Make user3 watch all three calendars   # Go to ellipsis and click on """"Add existing calendar""""    h3. Expected Results  A list of existing calendars is shown ordered by """"Subscribers"""" in a *descending* manner.   !Screen Shot 2019-10-02 at 6.37.45 PM.png|thumbnail!     h3. Actual Results  A list of existing calendars is shown ordered by """"Subscribers"""" in an *ascending* manner.   !Screen Shot 2019-10-02 at 6.36.31 PM.png|thumbnail!     h3. Notes  The bug does not manifest itself on older TC versions like 6.0.25.    h3. Workaround    Currently, there is no known workaround for this behavior other than using an older version of Team Calendars. A workaround will be added here when available."""
"CONFSERVER-59396","Bug","User - Global / Space Permissions",3,"ApplicationDirectoryOrderUpdatedEvent is not taken into account by Gatekeeper","""h3. Issue Summary    When the order of directories is changed, Gatekeeper is not aware of it and does not update its user cache.  h3. Environment    N/A  h3. Steps to Reproduce   # Configure two directories with a user which exists in both directories   # Change the order of directories    h3. Expected Results    User cache must contain the user from the directory with the highest priority  h3. Actual Results    User is not updated in user cache  h3. Notes   # ApplicationDirectoryOrderUpdatedEvent is sent when the position of a directory is changed.   # We receive the only one event. For example, we have two directories and moved one of them. Even though positions of both directories are changed, we will get one event only.    h3. Workaround    The system administrator can disable and then enable the plugin to make it refresh the user cache."""
"CONFSERVER-58957","Bug","Content - File Previews",3,"Preview macros for PDF and PowerPoint stops working after sometime","""h3. Issue Summary    Previewing PDF or Office files via Office macros like PDF macro stops working after sometime  h3. Environment    7.0.1 and above  h3. Steps to Reproduce   # Add an Office (or PDF) attachment to a page   # Use Powerpoint (ppt) macro to preview the attachment   # The attachment will work   # Wait overnight   # Open the page with another browser or open with private browsing mode (not to use browser cache)    h3. Expected Results    Browser displays image of the office file   !Screen Shot 2019-10-04 at 14.37.20.png|thumbnail!  h3. Actual Results    The preview image is broken.   !Screen Shot 2019-10-04 at 14.37.00.png|thumbnail!  h3. Notes    The preview image is stored under {{<confluence-home>/viewfile/temp}} directory, and apparently {{scheduledjob.desc.cleanupTrigger}} job is clearing up the temp directory. This is a scheduled job that runs at 2 AM automatically.  h3. Workaround    Disabling the [Scheduled Job|https://confluence.atlassian.com/doc/scheduled-jobs-96567525.html] scheduledjob.desc.cleanupTrigger may *not* stop the job from running. This is due to a new bug that disabling a system scheduled job (e.g. cleanupTrigger) continues to run post restart of Confluence:   - CONFSERVER-59501 - Disabling a system scheduled job continues to run post restart of Confluence    In order to properly disable it, we need to *disable* the *Office Connector* module related to the {{cleanupTrigger}} job.   # Navigate to Manage Apps in Confluence (requires Confluence admin permission)   # Filter it by *System* apps and search for *_Office Connector Plugin_*. Click on it to expand.   # Click on *Modules* to expand the list and look for {{File Cache Cleanup (cleanupTrigger)}}.   # Leave the mouse cursor on it and the *Disable* button will show up. Click on it.   (!) For broken files, it's necessary to reupload in order to recreate them.    Or, utilize the thumbnail feature of [Display Files and Images|https://confluence.atlassian.com/doc/display-files-and-images-245827130.html] instead of Office macro."""
"CONFSERVER-58983","Suggestion","Macros - Widget Connector",2,"Widget Connector should support youtube URLs from youtube-nocookie.com domain","""Widget Connector should support youtube URLs from *youtube-nocookie.com* domain    According to European Data Protection Laws Youtube Videos have to be embedded using the www.youtube-nocookie.com URL.   Widget Connector does not work when using a youtube-nocookie domain.    +*Current Behaviour*+   Widget Connector currently accepts youtube links like the following format:   [https://www.youtube.com/watch?t=15&v=LhHKkodOPFo]    +*Suggested feature*+    Should also be compatible with youtube links from youtube-nocookie domain like the following:   [https://www.youtube-nocookie.com/embed/LhHKkodOPFo]"""
"CONFSERVER-59051","Bug","Content - Edit Files / Companion",2,"Upgrade Confluence from 6.15 to 7.0 Webdav is broken","""h3. Issue Summary  Upgrade Confluence from 6.15.9 to 7.0.2 won't be able to use WebDav.    h3. Steps to Reproduce   # Start up Confluence 6.15 instance (any version before 7.0)    # Go to admin page general configuration -> webdav configuration   # Save on configuration.    # Setup Webdav client following this doc.     # Upgrade Confluence to 7.0 (any version of 7.0)   # Go to admin page general configuration -> webdav configuration      h3. Expected Results  WebDav Client is functional   webdav configuration is accessible    h3. Actual Results  WebDav client shows empty folder    !image-2019-10-25-15-16-59-313.png|thumbnail!   Webdav configuration isn't accessible, showing error below      !image-2019-10-25-15-16-03-650.png|thumbnail!       The below exception is thrown in the atlassian-confluence.log file:      h3. Workaround    """
"CONFSERVER-59096","Bug","Macros - Widget Connector",2,"When using widget connector to embed tweet, the macro loads first time and fails subsequently","""h3. Issue Summary    When using widget connector to embed tweet, the macro loads first time and fails subsequently    Flushing the _Widget Connector - Single Tweets_ cache allows the widget to load successfully again but fails subsequently.    This does not occur in Confluence 6.15.9  h3. Steps to Reproduce   # Insert Widget Connector in a test page   # Load a tweet. Ex: [https://twitter.com/Atlassian/status/1192840265402396674]   # Publish page. Macro loads successfully.   # Reload page.    h3. Expected Results    Macro loads and displays tweet  h3. Actual Results    Macro fails to load.   !broken_widget.png|width=525,height=148!    The below exception is thrown in the atlassian-confluence.log file:  {code:none}  2019-11-08 11:58:05,771 ERROR [http-nio-6704-exec-7] [xhtml.view.macro.ViewMacroMarshaller] handleMacroExecutionException Error rendering macro: widget   -- url: /c704/display/TEST/Widget | page: 884738 | traceId: ef0966adfb81750b | userName: admin | referer: http://localhost:6704/c704/ | action: viewpage  java.util.concurrent.CompletionException: com.atlassian.vcache.ExternalCacheException: Failed due to UNCLASSIFIED_FAILURE   at java.util.concurrent.CompletableFuture.reportJoin(CompletableFuture.java:375)   at java.util.concurrent.CompletableFuture.join(CompletableFuture.java:1934)   at com.atlassian.vcache.VCacheUtils.unsafeJoin(VCacheUtils.java:44)   at com.atlassian.confluence.extra.widgetconnector.chatter.TwitterRenderer.getTweetRetrievalResultFromCache(TwitterRenderer.java:126)   at com.atlassian.confluence.extra.widgetconnector.chatter.TwitterRenderer.getTweetHtml(TwitterRenderer.java:99)   at com.atlassian.confluence.extra.widgetconnector.chatter.TwitterRenderer.getParameters(TwitterRenderer.java:78)   at com.atlassian.confluence.extra.widgetconnector.chatter.TwitterRenderer.getEmbeddedHtml(TwitterRenderer.java:192)   at sun.reflect.GeneratedMethodAccessor1461.invoke(Unknown Source)   at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)   at java.lang.reflect.Method.invoke(Method.java:498)  ...  Caused by: com.atlassian.vcache.ExternalCacheException: Failed due to UNCLASSIFIED_FAILURE  ...  Caused by: java.util.concurrent.CompletionException: com.atlassian.vcache.ExternalCacheException: Failed due to MARSHALLER_FAILURE   at java.util.concurrent.CompletableFuture.reportJoin(CompletableFuture.java:375)   at java.util.concurrent.CompletableFuture.join(CompletableFuture.java:1934)   at com.atlassian.vcache.VCacheUtils.unsafeJoin(VCacheUtils.java:44)   at com.atlassian.vcache.internal.core.service.AbstractStableReadExternalCache.lambda$null$3(AbstractStableReadExternalCache.java:112)  ...  Caused by: com.atlassian.vcache.ExternalCacheException: Failed due to MARSHALLER_FAILURE   at com.atlassian.vcache.internal.core.cas.IdentifiedUtils.unmarshall(IdentifiedUtils.java:51)   at com.atlassian.vcache.internal.legacy.LegacyStableReadExternalCache.directGet(LegacyStableReadExternalCache.java:130)   at com.atlassian.vcache.internal.core.service.AbstractStableReadExternalCache.lambda$null$0(AbstractStableReadExternalCache.java:95)   at java.util.Optional.orElseGet(Optional.java:267)  ...  Caused by: com.atlassian.marshalling.api.MarshallingException: Legacy unmarshall() failed   at com.atlassian.vcache.Marshaller.unmarshallFrom(Marshaller.java:73)   at com.atlassian.vcache.internal.core.metrics.TimedUnmarshaller.unmarshallFrom(TimedUnmarshaller.java:34)   at com.atlassian.vcache.internal.core.cas.IdentifiedUtils.unmarshall(IdentifiedUtils.java:48)   ... 615 more  Caused by: com.atlassian.vcache.MarshallerException: Unable to unmarshall   at com.atlassian.vcache.marshallers.JavaSerializationMarshaller.unmarshall(JavaSerializationMarshaller.java:71)   at com.atlassian.vcache.marshallers.JavaSerializationMarshaller.unmarshall(JavaSerializationMarshaller.java:27)   at com.atlassian.vcache.Marshaller.unmarshallFrom(Marshaller.java:71)   ... 617 more  Caused by: java.lang.ClassNotFoundException: com.atlassian.confluence.extra.widgetconnector.chatter.TwitterRenderer$TweetRetrievalResult   at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1365)   at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1188)   at java.lang.Class.forName0(Native Method)   at java.lang.Class.forName(Class.java:348)   at java.io.ObjectInputStream.resolveClass(ObjectInputStream.java:686)   at java.io.ObjectInputStream.readNonProxyDesc(ObjectInputStream.java:1868)   at java.io.ObjectInputStream.readClassDesc(ObjectInputStream.java:1751)   at java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2042)   at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1573)   at java.io.ObjectInputStream.readObject(ObjectInputStream.java:431)   at com.atlassian.vcache.marshallers.JavaSerializationMarshaller.unmarshall(JavaSerializationMarshaller.java:69)   ... 619 more  {code}  h3. Workaround    A workaround for this is to enable the HTML Macro, and then use [https://publish.twitter.com/] to generate the embed code."""
"CONFSERVER-59098","Bug","User - Mentions",3,"Not able to publish draft when there's a former user mentioned","""h3. Issue Summary  Having a draft to a page where there's a specific user mentioned, if this user is deleted, it will not be possible to publish the draft.    h3. Steps to Reproduce  # Mention a specific user on a page and publish it  # Edit the page and close it without publishing  # Delete that specific user  # Try to publish that draft    h3. Expected Results  The draft should be published    h3. Actual Results  The draft is not published, the message """"There was an error processing the request."""" is shown on the page and on the browser's console:  |  !Screen Shot 2019-04-10 at 16.59.31.png|thumbnail!  |    Errors on internal log:  {code:none}Uncaught exception thrown by REST service: Could not unmarshal a link in the editor. {code}    h3. Notes  This is noticed on the legacy editor only.    h3. Workaround  Remove the former user's mention, refresh the page a couple of times and try to publish it again."""
"CONFSERVER-59134","Bug","Content - Edit Files / Companion",2,"Companion App stops opening the long file name document","""h3. Issue Summary  How many characters are allowed in a file which you want to edit via Companion App?    h3. Test Environment  * Confluence Server latest version   * Compaion-app latest version    h3. Steps to Reproduce  # Create a test page then upload attached csv file to the page  [^invitations_successful_emailaddresses051119_99999999999999999999999999999999dijwsoijdiowsejoijodjeojfdoijfdwejfdjweofjowejfoijwejfoiwejfojwejfhwehfiowehfoihweifohweofhwefhwfoihwefohweoh.csv]   # Navigate to the page > ... > Attachments   # Select the file then click *Edit* > Edit with Excel    h3. Expected Results  The file should be able to open in the Excel    h3. Actual Results  We can see the message *This file is open in Excel* but nothing really happening    h3. Workaround  Currently there is no known workaround for this behavior. A workaround will be added here when available    h3. Note  * We are able to directly open the csv in Excel  * Shorter filename works as expected"""
"CONFSERVER-59164","Bug","Apps - Team Calendar",3,"Latest Team Calendars source code not available on my.atlassian.com","""h3. Issue Summary    Latest Team Calendars source code not available on my.atlassian.com  h3. Steps to Reproduce   # Check latest version on https://my.atlassian.com/download/source/confluence-team-calendar   # Go to https://my.atlassian.com/download/source/confluence-team-calendar    h3. Expected Results    Versions should match up and be available for download  h3. Actual Results    Currently, only Team Calendars 6.0.12 is available  h3. Workaround    Reach out to our support teams for them to provide access"""
"CONFSERVER-59182","Bug","Web Interface - Keyboard Navigation",3,"Edit Keyboard Shortcut 'E' does not work or works irregularly in some newer versions of Firefox","""h3. Issue Summary    Edit Shortcut 'E' does not work or works irregularly in some newer versions of Firefox. Confirmed in Firefox 70.0.  h3. Steps to Reproduce   # Use Firefox version 70.0 and Confluence 7.0.1 and higher.   # View a page with a link to another page. Click on the link to open the other page on new tab.   # Try to use the edit keyboard shortcut 'E' to edit a page on new tabs (Any shortcuts won't work on new tab).    h3. Expected Results    The shortcut opens the editor as expected.  h3. Actual Results    Some users are reporting that it works inconsistently. Others report that it doesn't work at all. In my own tests, with Firefox 65.0 it works without issue, in Firefox 70.0 it doesn't work at all.    h3. Workaround  Refreshing the page seems to resolve the issue, but not consistently.  This workaround below from [~simon.tost] works on Confluence 7.3.1 and Firefox 72.  * Add the following into the *Custom HTML* at the *At end of the HEAD*   ** """
"CONFSERVER-59360","Bug","Content - Edit Files / Companion",2,"Companion should deregister custom protocol on uninstall","""Currently, the custom protocol `atlassian-companion` will remain registered even after Companion is uninstalled. """
"CONFSERVER-59334","Bug","Content - Page",3,"PDF macro doesn't load PDF content and returns an NPE on readTrailer15 method","""h3. Issue Summary    When users insert PDF macro in a page, the macro does not show the content of the PDF. Instead a following error is returned:  {quote}There was a problem converting this attachment  {quote}    This issue seems to be a regression of the following closed bug report that was fixed in 6.14: CONFSERVER-20223    h3. Steps to Reproduce   # Head over to a Confluence page.   # Add a PDF attachment to the page.   # In the Edit mode of the page, head over to the toolbar > Insert > Other Macros > PDF and Insert the macro to the page.    h3. Expected Results    The PDF macro will display the PDF in the page.    h3. Actual Results    An infinite spinning wheel will be displayed and the following error is returned:    The following stack trace appears in the logs:        Example:      or        h5. Note  Sample attachments that are exhibiting this issue can be found in the Attachment section  """
"CONFSERVER-59465","Bug","Content - Page",3,"Scrolling down on a long page has page headers overlap breadcrumb navigation","""h3. Issue Summary  Headers overlap breadcrumb navigation on pages that are long enough to scroll down on.     h3. Steps to Reproduce  # Create a page that's long enough to scroll down on.  # Scroll down and watch the breadcrumb get overlapped by title header until you scroll past it.    h3. Expected Results  Breadcrumb navigation and headers shouldn't overlap.  h3. Actual Results  They overlap when scrolling down on a long page until the breadcrumb and header are off the screen. Scrolling up it works fine, This only happens when scrolling down on page in Chrome. Happens in incognito mode in chrome as well.  Could sticky navbar be missing for this Version of Chrome?    h3. Workaround  FireFox Works as intended  Safari: Works as intended  """
"CONFSERVER-59464","Bug","Content - Blueprints / Templates",3,"Creating a Share a link blueprint produces an error. ","""h3. Issue Summary    Creating a *share a link* blueprint prompt an alert, *We can't create the blueprint right now*  h3. Steps to Reproduce   # Create a page using the ellipses.   # Select share a link   # Enter data in text field and enter.   !shareaLink.png|thumbnail!   h3. Expected Results    Confluence creates shared link page.  h3. Actual Results    Error prompts *We can't create the blueprint right now*   !sharedLinkError.png|thumbnail!     The below exception is thrown in the atlassian-confluence.log file:      h3. Workaround    Check the *External connection enabled* CheckBox in General configuration.   !extConnConfig.png|thumbnail!     h3. Note    Documentation doesn't mention that *External connection enabled* needs to be checked. """
"CONFSERVER-59551","Bug","Editor - Front end - Page / Comment",2,"  Trying to change more than one cell color at a time in page editor on internet explorer does not work.","""h3. Issue Summary  6.15 confluence and above does not allow for changing more than one cell color when used in an IE browser. Other supported browsers allow this.    h3. Steps to Reproduce  Insert a table with any amount of rows on confluence instance 6.15 or higher in an IE browser try to change more than one cell color at the same time.    h3. Expected Results  You should be able to change more than one cell color at a time      h3. Actual Results    You can only change one cell color at time.     h3. Workaround    Use a different supported browser     """
"CONFSERVER-59573","Bug","User - Global / Space Permissions",3,"Gatekeeper will ignore status updates (enabled/disabled) on newly added users from an external directory","""h3. Issue Summary    When adding a new user from an external user directory (connector), any status updates to this user (enabled/disabled) will not be picked up by Gatekeeper. Confluence will show this user as disabled. In Inspect Permissions, when you check the checkbox """"Don't show disabled user accounts"""" Gatekeeper still shows the disabled user.    h3. Steps to Reproduce  # Create a user in an LDAP/AD (Active Directory)  # Synchronize the Active Directory  # Make sure that this user is visible in Inspect Permissions  # Disable that user in LDAP/AD  # Synchronize the Active Directory  # In Confluence, this user will show as disabled  # Go to Inspect Permissions, check the checkbox """"Don't show disabled user accounts""""    h3. Expected Results  The disabled users won't appear in the list    h3. Actual Results  Users are still loaded in that list even though they are disabled    h3. Workaround  Disable the Gatekeeper plugin and enable it again for this to work and any subsequent status updates"""
"CONFSERVER-59569","Bug","User - Global / Space Permissions",3,"Gatekeeper will still load users and groups from a user directory that is disabled","""h3. Issue Summary    When you disable an external user directory, Gatekeeper should not show the users and groups coming from that user directory.    h3. Steps to Reproduce  # Configure an external user directory  # Synchronize the users and groups from there  # Go to Inspect Permissions  # You should see the list of new users and groups there (In the case of a delegated user directory, once a user logs in)  # Now go back to User Directories  # Disable that directory    h3. Expected Results  Those users and groups shouldn't show in the Inspect Users and Groups list    h3. Actual Results  Those users and groups are still in that list and Gatekeeper displays the following message _The explanation for this permission could not be found_   !gatekeeper-error.png|thumbnail!     h3. Workaround  The only workaround is to do the following:  # Remove the user directory  # Enable and Disable the Gatekeeper plugin"""
"CONFSERVER-59568","Bug","User - Global / Space Permissions",3,"ApplicationDirectoryRemovedEvent is not taken into account by Gatekeeper","""h3. Issue Summary    When an existing user directory is removed, Gatekeeper is not aware of it and does not update its user cache.    h3. Steps to Reproduce  # Configure an external user directory  # Synchronize the users and groups from there  # Go to Inspect Permissions  # You should see the list of new users there  # Now go back to User Directories  # Disable and Remove that directory    h3. Expected Results  Those users shouldn't show in the Inspect Users list      h3. Actual Results  Those users are still in that list    h3. Notes  ApplicationDirectoryRemovedEvent is sent when the user directory is removed    h3. Workaround  The system administrator can disable and then enable the plugin to force a refresh of the user cache"""
"CONFSERVER-59575","Bug","User - Global / Space Permissions",3,"GroupUpdatedEvent is not taken into account by Gatekeeper","""h3. Issue Summary    When running a full or incremental remote directory synchronization, the changes pulled in from that remote directory are not reflected in Gatekeeper.    h3. Steps to Reproduce  # Configure an external user directory  # Synchronize the users and groups from there  # Go to Inspect Permissions  # Set some permissions for a group (i.e. *_groupA_*)  # Make some changes in the remote directory (such as update the group name to *_groupA1_*)  # Now go back to User Directories  # Disable that directory, click Synchronize (this will force a full sync when we enable it again)  # Enable it again and click Synchronize    h3. Expected Results  The changes in the remote directory should be reflected in Confluence as well as in Gatekeeper. The group name should be updated and carry the permissions set on the old name      h3. Actual Results  New group with new no permissions set.  (!) If we rename this group to the same one as before, those permissions will appear again    h3. Workaround  The system administrator can disable and then enable the plugin to force a refresh of the user cache"""
"CONFSERVER-59692","Bug","Content - Page",0,"Page Title overlaps with Page Path on Chrome","""h3. Issue Summary    Page Title overlaps with page path when clicking on spaces post opening a page in Confluence.  h3. Steps to Reproduce   # Open a page in Confluence   # Click on """"spaces""""   # Page Title overlaps with page path as depicted in attached screenshot    h3. Expected Results    Page Title should not overlap with Page Path  h3. Actual Results    Page Title overlaps with page path when clicking on spaces post opening a page.  h3. Workaround    Currently there is no known workaround for this behaviour. A workaround will be added here when available"""
"CONFSERVER-59749","Bug","Content - Edit Files / Companion",2,"Companion time since downloaded/saved/uploaded does not update once computer ""sleeps"" ","""How to reproduce:    * Edit file with Companion, note the time (e.g. Downloaded a moment ago)   * Put computer to sleep, wait some time, wake computer   * Note that the time since download has not updated"""
"CONFSERVER-59775","Bug","Macros - JIRA Macros",1,"After upgrading to Confluence 7, Epic Status label is Unreadable With Jira Issues Macro","""h3. Issue Summary  After upgrading to Confluence 7, Epic Status label is Unreadable With Jira Issues Macro    h3. Steps to Reproduce   # Link Confluence 7 with Jira   # Insert Jira Issues Macro and filter for an Epic.   # Under Display Options, add Epic Status    h3. Expected Results  Epic Status displays in readable color. Example from Confluence 6.15.10   !61510_good.png|thumbnail!     h3. Actual Results  Epic Status displays in unreadable color. Example from Confluence 7.0.5, 7.2.0, 7.4.0   !705_bad.png|thumbnail!    !720_bad.png|thumbnail!    !740_bad.png|thumbnail!     h3. Workaround  Add the following to the Space's stylesheet via *Space Tools > Look and Feel*    {code:none}  a.aui-lozenge.aui-lozenge-current, a.aui-lozenge.aui-lozenge-success, a.aui-lozenge.aui-lozenge-default { color: #fff; }  {code}"""
"CONFSERVER-59814","Bug","Content - Edit Files / Companion",3,"Squirrel .exe installed Companion doesn't show 'all set up' welcome screen for new user","""h3. Issue Summary  Squirrel .exe installed Companion doesn't show 'all set up' welcome screen for new user    h3. Steps to Reproduce   # Clean the companion folder with companion.log file   # Open companion.exe file to install and launch Companion    h3. Expected Results  The user should see 'all set up' welcome screen      h3. Actual Results  The user doesn't see 'all set up' welcome screen     h3. Workaround  Currently there is no known workaround for this behavior. A workaround will be added here when available"""
"CONFSERVER-59812","Bug","Content - Edit Files / Companion",1,"An extra colon in edit in office toggle text","""h3. Issue Summary  There is an extra colon in office toggle text    h3. Steps to Reproduce   # Go to edit in office settings    h3. Expected Results  No extra colon    h3. Actual Results  !image-2020-05-12-13-57-58-597.png|width=811,height=224!    h3. Workaround  Currently there is no known workaround for this behavior. A workaround will be added here when available"""
"CONFSERVER-59849","Bug","Macros - Widget Connector",2,"Twitter feed Widget does not respect ""height"" parameter","""h3. Issue Summary    Twitter feed Widget does not respect """"height"""" parameter  h3. Steps to Reproduce   # Insert a Twitter feed widget (e.g. a timeline [https://twitter.com/TwitterDev)]   # Set the height parameter on the macro    h3. Expected Results    Height of macro is restricted to user setting.  h3. Actual Results    Macro shows entire feed.   h3. Workaround    Currently there is no known workaround for this behavior. A workaround will be added here when available"""
"CONFSERVER-59904","Bug","Content - Edit Files / Companion",2,"The ""Upload"" button get pushed out when page title is too long","""h3. Issue Summary  Tested with Atlassian Companion Version 1.1.0 for Mac. If the page title is too long (noticeable when it's 60 characters long), the upload button will get pushed out of the window:   !Screenshot 2020-06-04 at 3.34.03 PM.png|thumbnail!      !Screenshot 2020-06-04 at 3.47.15 PM.png|thumbnail!       h3. Steps to Reproduce  # Create a page with title """"longlonglonglonglonglonglonglonglonglnglonglonglonglongtitle""""  # Add an office file in the page above  # Edit the attachment using Companion App    h3. Expected Results  The """"Upload"""" button will stay intact.    h3. Actual Results  The """"Upload"""" button is hidden out from Companion App pop up window.    h3. Workaround  Try keeping the page title under 60 characters long."""
"CONFSERVER-59942","Bug","Content - Edit Files / Companion",2,"Companion triggers view on save after user clicks view","""*Steps to reproduce*   # Edit a file with Companion, upload it, then click the view button   # Save the same file again    *Expected behaviour*    Companion transitions to file saved state.     *Actual behaviour*    Preview link is opened in browser, companion transitions to file saved state.     """
"CONFSERVER-59941","Bug","Apps - Team Calendar",3,"Setting a reminder on a Jira Release event type fails when using an Oracle database","""h3. Issue Summary    Attempting to set up a notification on a Jira Release Data event type in Team Calendars results in a SQL exception and fails.  h3. Steps to Reproduce   # Integrate Confluence & Team Calendars with a Jira instance (Bug report written with Confluence 7.4.0 -> Jira 8.5.4 -> Team Calendars )   # Create a Team Calendar in Confluence   # Create a few issues in Jira and also create a Release in Jira.   # Associate the issues with the Release and be sure to set a *date* on the Release Date. This date is what Team Calendars will display.   # From the Confluence calendar, create an Event and select Jira Release Dates and choose the project & it's release from the drop down. Secondlay, try to choose a reminder interval from the drop down menu.    h3. Expected Results    You will be able to set a reminder interval for a Jira Release event type.  h3. Actual Results    You'll receive the following SQL exception and setting up the reminder fails.    h3. Workaround   * Don't set a reminder for a Jira release event and the date of the release will still display correctly.   * Mirror the release date to a custom field and use a different event type to display and notify on the custom date rather than the OOTB release date event type option.   * Issue is not reproduced on Postgres    h3. Notes    We need to validate this fix against all Oracle versions (12c and 19c) and above as supported in the upcoming releases of Confluence [Supported Platforms|https://confluence.atlassian.com/doc/supported-platforms-207488198.html]"""
"CONFSERVER-59987","Bug","Content - Attachments|Content - Edit Files / Companion|Macros - Other Macros",2,"Excel Macro edit button only available on the page excel file is attached to","""h3. Problem    When using the Excel Macro, the *Edit* button is only available on the page that the excel sheet is attached to. Other pages using an Excel Macro that is attached to another page no longer include the *Edit* button above the macro.   h3. Environment    Confluence 7.5.0  h3. Steps to Reproduce    * Add an Excel file as an attachment to a page  * Add an Excel Macro to this page using the Excel file.  * Publish the page  * Create a new page   * Add an Excel macro with the *Page Name* set to the previously created page that we added the Excel file to, and set the File Name to the Excel file.  * Publish the page    h3. Expected Results    We expect that when published the Excel Macro on the second page will include an *Edit* button in the upper right corner.   h3. Actual Results    There is no *Edit* button on the second page. However, the *Edit* button can be seen when viewing the Excel Macro on the original page.   h3. Workaround    Enabling the Edit in Office dark feature will restore the missing *Edit* links to the page.   h3. Notes"""
"CONFSERVER-60061","Bug","Macros - Widget Connector",1,"Widget connector can't load Google map on HTTPS server","""h3. Issue Summary    Widget connector can't load Google map on HTTPS server  h3. Steps to Reproduce   # Go to Confluence HTTPS instance   # Open editor   # Paste a google map link, that contains HTTPS, into editor. It is auto converted into a widget connector macro   # Edit the macro   # Click Preview macro, see nothing   # Save the page, google map is not displayed on view page    h3. Expected Results    Display google map  h3. Actual Results    Empty  h3. Workaround    None"""
"CONFSERVER-60029","Bug","Macros - JIRA Macros",3,"Jira Macro doesn't display`Epic Name`, `Epic Colour` and `Epic Status` values","""h3. Issue Summary    It seems a regression according to customer report. The epic name field only exists in epic type issues, which seems not handled well.  h3. Steps to Reproduce   # Insert a Jira macro on a page   # Enter JQL to get a list of Jira issues   # Click `Display options`   # Search and select `Epic Name` (don't select `Epic Link`)   # Save the macro   # Publish the page    h3. Expected Results    A list of issues on the page  h3. Actual Results    Jira macro throws a error on the screen    In log (sensitive information removed)    h3. Workaround    Change `Epic Name` to `Epic Link`"""
"CONFSERVER-60143","Bug","Macros - JIRA Macros",3,"Jira Macro column values not appearing when Custom Field (Jira) name contains comma or semicolon","""h3. Summary    When JIRA Custom Fields name contains comma (,) or (;) JIRA Macro identify the them as separators and does not include the field values in the JIRA Macro table generated in Confluence         Steps to Reproduce   # Create a custom field that include a comma or semicolon, add value.   # Create a JIRA Macro in a Confluence page   # Include the custom field that contains a comma or semicolon   # Publish page.          [^Screenshot from 2017-10-25 18.30.04.png] [^Screenshot from 2017-10-25 18.31.26.png]  h3. Expected Results    Values are shown in Custom field column  h3. Actual Results    _Empty values are shown and the header is separated where the commas or semicolons are positioned._  h3. Workaround      Remove commas from JIRA Custom Fields"""
"CONFSERVER-60157","Bug","Macros - JIRA Macros",2,"Cannot add custom field as columns in Jira Issue Macro (table view) due to case-sensitivity","""h3. Problem    In a Confluence site version *7.4.x* or *7.6.x* connected to a Jira Software via an application link.    We cannot add 2 Jira *custom fields* as *columns* to display in a *Jira Issue Macro* (table view) due to case-sensitivity.  h3. Environment    Confluence version *7.4.x* or *7.6.x* connected to a Jira Software version *8.4.2* via an application link  h3. Steps to Reproduce   # Create 2 custom fields in Jira and configure them to be displayed on some default screens for the user to fill in. In our example, we called these fields *end date* and *End date* and they were date pickers.   # Create a new Jira Issue / Bug and assign a new value to these fields   # Go to Confluence and create a new Confluence page adding a *Jira Issue Macro*   # Customize the Jira Issue Macro and try to make the new custom fields displayed as a column in a Table view    h3. Expected Results    _The user can pick the 2 custom fields as *columns* to display in a *Jira Issue Macro*_  h3. Actual Results    _After picking the first custom field, the second one becomes unavailable for selection in the *Jira Issue Macro*_  h3. Workaround    _No Workaround at this stage except renaming fields on the Jira side that may not be convenient for the user needs._  h3. Notes    A video is attached with my steps to reproduce in Confluence"""
