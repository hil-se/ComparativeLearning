"issuekey","type","components","storypoint","title","description_text"
"NEXUS-540","Bug","Repository",1,"Repositories: Creating new repository returns nothing","""I created a repository using the test harness, and nothing was returned.    The other API's return the created object back,  this is important because some default values might be set or something changed.     This also effects the Groups"""
"NEXUS-5831","Improvement","P2",2,"[p2] serve jarred repository metadata","""nexus p2 plugin should serve jarred repository metadata and not raw xml files"""
"NEXUS-2911","Bug","UI",0,"Authentication error shows up as ""400 bad request"" during smtp validation.","""In the log after hitting """"Test SMTP Settings"""".        So we know that the problem is an authentication error.  However the user sees """"400 bad request"""" (see screenshot).    We should give a reasonable error message in this case."""
"NEXUS-3119","Improvement","UI",1,"Show status (active/disbaled) of user in the list of users (in the Users panel)","""Any users managed by the default Nexus realm can be in an active or disabled status. It would be nice if this info is shown in the Users panel listing all users, e.g. by adding a 'Status' column."""
"NEXUS-3201","Bug","Security",1,"Log spam about LegacyAuthorizationManager when LDAP realm is enabled","""I'm seeing multiple lines like this in the log after enabling the LDAP realm:    2010-01-15 16:36:22 WARN  [tp-1328231241-4] - o.s.s.a.Authorizati~          - LegacyAuthorizationManager is not configured, it should be removed.    I don't see any side effects from this, but I'm filing this issue because it looks like it is possible that LegacyAuthorizationManager should be removed. :-)    """
"NEXUS-3388","Improvement","UI",3,"Improvements to left nav","""Move """"System Files"""" and  """"Licensing"""" to the administration tab.  Move """"Repository Targets"""" to Security    Under Help have:  About Nexus  Documentation  Browse Issue Tracker    Documentation should open a new tab like About Nexus does. Here we should have the rest of the links currently under help.    Administration, Security and Help should be collapsed by default."""
"NEXUS-3435","Improvement","Security",1,"Add Clear Cache method to SecuritySystem","""Should be simple to do, its basically what the .start() method does in the default impl."""
"NEXUS-3448","Bug","Repository",1,"When downloading artifacts through REST redirect the user is not prompted for authorization.","""If a user attempts to download an artifact using the redirect service and they do not have authorization, they get a page saying """"access denied"""".    They should get an authorization dialog."""
"NEXUS-3717","Improvement","Capabilities",3,"Generic source of options for combo/multi selection field","""Currently there is only one combo selection type """"repo-or-group"""". The handling of this is hardcoded in UI so adding a new combo type is impossible without changing the UI = not a pluggable solution.  Solution is to change the combo type to not be related to a specific resource but make type returning the url of a rest resource that can provide possible options values. The rest resource will be expected to return resources of type id/description."""
"NEXUS-3716","Improvement","Capabilities",2,"Capability validation","""There should be possible for a capability to provide additional validations such as for example not allowing multiple capabilities for same repository or value validation beside the regex value validator.  This could be archived by capability provider providing a validator implementation related to capability via capability id (same as for factory). If available, before saving a capability the validator is asked to validate create/update values."""
"NEXUS-3715","Improvement","Capabilities",3,"Multi select form field","""The UI / backend form field should support multi selection type. This allows choosing from a list of possible options similar to combo type only that it allows more then one selection.  The list of possible options should be provided via a rest resource."""
"NEXUS-3722","Bug","UI",1,"Manually uploaded artifacts do not show ""uploaded by"" in artifact information","""I have manually uploaded an artifact to a hosted repo and the upload by field remains empty although I was logged in and anonymous access has been disabled."""
"NEXUS-3817","Improvement","Repository",3,"Backport the rev7251 change to 1.7.2 branch","""Backport the rev7251 change to 1.7.2 branch."""
"NEXUS-3833","Improvement","Search",3,"As a user, I am confused by the re-index task and schedule it unnecessarily.","""Many of our users mistakenly think that the lucene indexes need to be completely rebuilt periodically.    We need to make it clear that this isn't necessary.    Here's a proposal to start the discussion.  Existing """"re-index"""" task goes away, and the new set of tasks looks like this:    *Update Indexes*    Proxy Repositories:  This will check for updates on the remote, and download and process them as appropriate  Hosted Repositories: No-Op    Existing """"re-index"""" jobs would be converted to """"update index"""" jobs.    *Repair Indexes*    Proxy Repositories:  Download and process full index from remote.  Hosted Repositories: Rebuild index from information on disk    We might want to consider prohibiting users from scheduling this task to execute periodically.  If we did this it would impact a few customers who deploy directly to local storage, these would need to run the repair index task via REST.      *Publish Indexes*    Same as today, publishes indexes for downstream consumption      """
"NEXUS-6448","Bug","Staging",2,"Releasing a staging repository doesn't take target repository deployment policy into account","""Just noticed while testing staging for 1.8.0.1 release, that if i have GAV foo:artifact:1.0 deployed to a release repository, and then i stage that same artifact, and release it to the same target repository, i get no errors, even though the target repository has Deployment Policy of Disable Redeploy"""
"NEXUS-3864","Improvement","REST",3,"Remove unused properties from IndexTreeView DTO, to lessen huge payload size","""Remove unused properties from IndexTreeView DTO, to lessen huge payload size.    We have reported about 100k of JSON response payload sizes, since all the node types (except type """"G"""") carries what is know up to that level (""""A"""": GA, """"V"""": GAV, """"artifact"""":GAV+), but the UI uses only properties supplied on """"artifact"""" type nodes.    By removing other properties, we may lessen the payload size a lot."""
"NEXUS-3870","Improvement","Repository",5,"Reordering Repository Entries in Repo Group causes Error","""When I try to reorder the Maven Central Entry, I get the following Stacktrace. The change itself is done by Nexus.     2010-10-25 10:16:45 INFO  [qtp-29781703-25] - o.s.n.c.a.DefaultNe~          - Applying Nexus Configuration...  2010-10-25 10:16:45 ERROR [qtp-29781703-25] - o.s.n.c.v.DefaultAp~          - * * * * * * * * * * * * * * * * * * * * * * * * * *  2010-10-25 10:16:45 ERROR [qtp-29781703-25] - o.s.n.c.v.DefaultAp~          - Nexus configuration has validation errors/warnings  2010-10-25 10:16:45 ERROR [qtp-29781703-25] - o.s.n.c.v.DefaultAp~          - * * * * * * * * * * * * * * * * * * * * * * * * * *  2010-10-25 10:16:45 ERROR [qtp-29781703-25] - o.s.n.c.v.DefaultAp~          - The ERRORS:  2010-10-25 10:16:45 ERROR [qtp-29781703-25] - o.s.n.c.v.DefaultAp~          -  o 1 - Repository central declared more than once!  2010-10-25 10:16:45 ERROR [qtp-29781703-25] - o.s.n.c.v.DefaultAp~          - * * * * * * * * * * * * * * * * * * * * *  2010-10-25 10:16:45 ERROR [qtp-29781703-25] - o.s.n.c.a.DefaultNe~          - Saving nexus configuration caused unexpected error:  org.sonatype.nexus.configuration.validator.ApplicationValidationResponse@3f6c10  2010-10-25 10:16:45 WARN  [qtp-29781703-25] - o.s.n.r.g.Repositor~          - Got IO Exception!  java.io.IOException: Saving nexus configuration caused unexpected error:  org.sonatype.nexus.configuration.validator.ApplicationValidationResponse@3f6c10   at org.sonatype.nexus.configuration.application.DefaultNexusConfiguration.saveConfiguration(DefaultNexusConfiguration.java:252)   at org.sonatype.nexus.rest.groups.AbstractRepositoryGroupPlexusResource.updateRepositoryGroup(AbstractRepositoryGroupPlexusResource.java:151)   at org.sonatype.nexus.rest.groups.AbstractRepositoryGroupPlexusResource.createOrUpdateRepositoryGroup(AbstractRepositoryGroupPlexusResource.java:125)   at org.sonatype.nexus.rest.groups.RepositoryGroupPlexusResource.put(RepositoryGroupPlexusResource.java:159)   at org.sonatype.plexus.rest.resource.RestletResource.storeRepresentation(RestletResource.java:351)   at org.sonatype.nexus.rest.NexusRestletResource.storeRepresentation(NexusRestletResource.java:84)   at org.restlet.resource.Resource.put(Resource.java:706)   at org.restlet.resource.Resource.handlePut(Resource.java:603)   at org.restlet.Finder.handle(Finder.java:359)   at org.restlet.Filter.doHandle(Filter.java:150)   at org.restlet.Filter.handle(Filter.java:195)   at org.restlet.Router.handle(Router.java:504)   at org.restlet.Filter.doHandle(Filter.java:150)   at org.restlet.Filter.handle(Filter.java:195)   at org.restlet.Router.handle(Router.java:504)   at org.restlet.Filter.doHandle(Filter.java:150)   at org.restlet.Filter.handle(Filter.java:195)   at org.restlet.Filter.doHandle(Filter.java:150)   at org.sonatype.plexus.rest.RetargetableRestlet.doHandle(RetargetableRestlet.java:39)   at org.restlet.Filter.handle(Filter.java:195)   at org.restlet.Filter.doHandle(Filter.java:150)   at org.restlet.Filter.handle(Filter.java:195)   at org.restlet.Filter.doHandle(Filter.java:150)   at org.restlet.Filter.handle(Filter.java:195)   at org.restlet.Filter.doHandle(Filter.java:150)   at com.noelios.restlet.StatusFilter.doHandle(StatusFilter.java:130)   at org.restlet.Filter.handle(Filter.java:195)   at org.restlet.Filter.doHandle(Filter.java:150)   at org.restlet.Filter.handle(Filter.java:195)   at com.noelios.restlet.ChainHelper.handle(ChainHelper.java:124)   at com.noelios.restlet.application.ApplicationHelper.handle(ApplicationHelper.java:112)   at org.restlet.Application.handle(Application.java:341)   at org.restlet.ext.wadl.WadlApplication.handle(WadlApplication.java:705)   at org.restlet.Filter.doHandle(Filter.java:150)   at org.restlet.Filter.handle(Filter.java:195)   at org.restlet.Router.handle(Router.java:504)   at org.restlet.Filter.doHandle(Filter.java:150)   at org.restlet.Filter.handle(Filter.java:195)   at org.restlet.Router.handle(Router.java:504)   at org.restlet.Filter.doHandle(Filter.java:150)   at org.restlet.Filter.handle(Filter.java:195)   at com.noelios.restlet.ChainHelper.handle(ChainHelper.java:124)   at org.restlet.Component.handle(Component.java:673)   at org.restlet.Server.handle(Server.java:331)   at com.noelios.restlet.ServerHelper.handle(ServerHelper.java:68)   at com.noelios.restlet.http.HttpServerHelper.handle(HttpServerHelper.java:147)   at com.noelios.restlet.ext.servlet.ServerServlet.service(ServerServlet.java:881)   at javax.servlet.http.HttpServlet.service(HttpServlet.java:820)   at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:502)   at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)   at org.jsecurity.web.servlet.FilterChainWrapper.doFilter(FilterChainWrapper.java:52)   at org.jsecurity.web.servlet.AdviceFilter.executeChain(AdviceFilter.java:105)   at org.jsecurity.web.servlet.AdviceFilter.doFilterInternal(AdviceFilter.java:135)   at org.jsecurity.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:180)   at org.jsecurity.web.servlet.FilterChainWrapper.doFilter(FilterChainWrapper.java:57)   at org.jsecurity.web.servlet.AdviceFilter.executeChain(AdviceFilter.java:105)   at org.jsecurity.web.servlet.AdviceFilter.doFilterInternal(AdviceFilter.java:135)   at org.jsecurity.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:180)   at org.jsecurity.web.servlet.FilterChainWrapper.doFilter(FilterChainWrapper.java:57)   at org.jsecurity.web.servlet.JSecurityFilter.doFilterInternal(JSecurityFilter.java:382)   at org.jsecurity.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:180)   at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1148)   at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:387)   at org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)   at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:181)   at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:765)   at org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:417)   at org.mortbay.jetty.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:230)   at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)   at org.mortbay.jetty.Server.handle(Server.java:326)   at org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:534)   at org.mortbay.jetty.HttpConnection$RequestHandler.content(HttpConnection.java:879)   at org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:747)   at org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:218)   at org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:404)   at org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:409)   at org.mortbay.thread.QueuedThreadPool$PoolThread.run(QueuedThreadPool.java:520)  2010-10-25 10:16:45 ERROR [qtp-29781703-25] - o.s.n.e.r.DefaultEr~          - Detected Error in Nexus  org.restlet.resource.ResourceException: The server encountered an unexpected condition which prevented it from fulfilling the request   at org.sonatype.nexus.rest.groups.AbstractRepositoryGroupPlexusResource.updateRepositoryGroup(AbstractRepositoryGroupPlexusResource.java:193)   at org.sonatype.nexus.rest.groups.AbstractRepositoryGroupPlexusResource.createOrUpdateRepositoryGroup(AbstractRepositoryGroupPlexusResource.java:125)   at org.sonatype.nexus.rest.groups.RepositoryGroupPlexusResource.put(RepositoryGroupPlexusResource.java:159)   at org.sonatype.plexus.rest.resource.RestletResource.storeRepresentation(RestletResource.java:351)   at org.sonatype.nexus.rest.NexusRestletResource.storeRepresentation(NexusRestletResource.java:84)   at org.restlet.resource.Resource.put(Resource.java:706)   at org.restlet.resource.Resource.handlePut(Resource.java:603)   at org.restlet.Finder.handle(Finder.java:359)   at org.restlet.Filter.doHandle(Filter.java:150)   at org.restlet.Filter.handle(Filter.java:195)   at org.restlet.Router.handle(Router.java:504)   at org.restlet.Filter.doHandle(Filter.java:150)   at org.restlet.Filter.handle(Filter.java:195)   at org.restlet.Router.handle(Router.java:504)   at org.restlet.Filter.doHandle(Filter.java:150)   at org.restlet.Filter.handle(Filter.java:195)   at org.restlet.Filter.doHandle(Filter.java:150)   at org.sonatype.plexus.rest.RetargetableRestlet.doHandle(RetargetableRestlet.java:39)   at org.restlet.Filter.handle(Filter.java:195)   at org.restlet.Filter.doHandle(Filter.java:150)   at org.restlet.Filter.handle(Filter.java:195)   at org.restlet.Filter.doHandle(Filter.java:150)   at org.restlet.Filter.handle(Filter.java:195)   at org.restlet.Filter.doHandle(Filter.java:150)   at com.noelios.restlet.StatusFilter.doHandle(StatusFilter.java:130)   at org.restlet.Filter.handle(Filter.java:195)   at org.restlet.Filter.doHandle(Filter.java:150)   at org.restlet.Filter.handle(Filter.java:195)   at com.noelios.restlet.ChainHelper.handle(ChainHelper.java:124)   at com.noelios.restlet.application.ApplicationHelper.handle(ApplicationHelper.java:112)   at org.restlet.Application.handle(Application.java:341)   at org.restlet.ext.wadl.WadlApplication.handle(WadlApplication.java:705)   at org.restlet.Filter.doHandle(Filter.java:150)   at org.restlet.Filter.handle(Filter.java:195)   at org.restlet.Router.handle(Router.java:504)   at org.restlet.Filter.doHandle(Filter.java:150)   at org.restlet.Filter.handle(Filter.java:195)   at org.restlet.Router.handle(Router.java:504)   at org.restlet.Filter.doHandle(Filter.java:150)   at org.restlet.Filter.handle(Filter.java:195)   at com.noelios.restlet.ChainHelper.handle(ChainHelper.java:124)   at org.restlet.Component.handle(Component.java:673)   at org.restlet.Server.handle(Server.java:331)   at com.noelios.restlet.ServerHelper.handle(ServerHelper.java:68)   at com.noelios.restlet.http.HttpServerHelper.handle(HttpServerHelper.java:147)   at com.noelios.restlet.ext.servlet.ServerServlet.service(ServerServlet.java:881)   at javax.servlet.http.HttpServlet.service(HttpServlet.java:820)   at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:502)   at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1157)   at org.jsecurity.web.servlet.FilterChainWrapper.doFilter(FilterChainWrapper.java:52)   at org.jsecurity.web.servlet.AdviceFilter.executeChain(AdviceFilter.java:105)   at org.jsecurity.web.servlet.AdviceFilter.doFilterInternal(AdviceFilter.java:135)   at org.jsecurity.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:180)   at org.jsecurity.web.servlet.FilterChainWrapper.doFilter(FilterChainWrapper.java:57)   at org.jsecurity.web.servlet.AdviceFilter.executeChain(AdviceFilter.java:105)   at org.jsecurity.web.servlet.AdviceFilter.doFilterInternal(AdviceFilter.java:135)   at org.jsecurity.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:180)   at org.jsecurity.web.servlet.FilterChainWrapper.doFilter(FilterChainWrapper.java:57)   at org.jsecurity.web.servlet.JSecurityFilter.doFilterInternal(JSecurityFilter.java:382)   at org.jsecurity.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:180)   at org.mortbay.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1148)   at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:387)   at org.mortbay.jetty.security.SecurityHandler.handle(SecurityHandler.java:216)   at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:181)   at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:765)   at org.mortbay.jetty.webapp.WebAppContext.handle(WebAppContext.java:417)   at org.mortbay.jetty.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:230)   at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)   at org.mortbay.jetty.Server.handle(Server.java:326)   at org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:534)   at org.mortbay.jetty.HttpConnection$RequestHandler.content(HttpConnection.java:879)   at org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:747)   at org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:218)   at org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:404)   at org.mortbay.io.nio.SelectChannelEndPoint.run(SelectChannelEndPoint.java:409)   at org.mortbay.thread.QueuedThreadPool$PoolThread.run(QueuedThreadPool.java:520)  Caused by: java.io.IOException: Saving nexus configuration caused unexpected error:  org.sonatype.nexus.configuration.validator.ApplicationValidationResponse@3f6c10   at org.sonatype.nexus.configuration.application.DefaultNexusConfiguration.saveConfiguration(DefaultNexusConfiguration.java:252)   at org.sonatype.nexus.rest.groups.AbstractRepositoryGroupPlexusResource.updateRepositoryGroup(AbstractRepositoryGroupPlexusResource.java:151)   ... 75 more  """
"NEXUS-3881","Bug","Search",1,"Searching more incorrect than ever","""Searching changed significantly from version 1.7 and we were very motivated to update our running instance. When we realized that the search algorithms do not get better but worsen in terms of overview and transparency we drew back and since work with the older version.    What is most detaining to us is that if you search for a certain keyword you do not get the same results you were getting in version 1.6.x.    For example: we have a lot of artifacts with the keyword 'solution' in both groupId's and artifactId's. when in version 1.6.x you are searching for 'solution' you get:  - com.solution.one:this:1.x  - com.one:solution.this:1.x  - com.one:this_solution:1.x  - com:one.solution.this:1.x    when you search for 'solution' in version 1.7.x and higher you only get:  - com.one:solution.this:1.x    why is that? if i search a keyword the index should filter groupId's as well as artifactId's and the filter must not stop when the string does not start with the keyword.     maybe you a are positive about the concept of searching as it currently is. but we cannot offer this mess of search results to our customers, nobody would find what he / she is looking for. so we keep on using a shortly outdated version of nexus."""
"NEXUS-3911","Bug","Repository",2,"Error 500 downloading file due to corrupt proxy attributes file","""Due to a server crash, a corrupt proxy attributes file for a snapshot pom file was written out, it only had this content:    {code}  <file  {code}    After this the snapshot could not be downloaded from Nexus.    We should be able to recover from this situation.    Also, note that there is no stack trace logged for the NPE.  This made it much harder to diagnose the problem.    """
"NEXUS-3910","Bug","Repository",2,"repository CYCLE detected log message is misleading","""As per NEXUS-2852, it is possible for the same repo to be added twice to a group or via routing rule. The log message for when a request is being processed in this case are as in the below examples:        This issue is about changing the wording of the message. CYCLE is not what is happening. CYCLE implies an infinite loop that needs to be broken out of, something much worse than performing duplicate work processing a request.    Something like """"Repository ID='central' in group ID='nar-group' will be ignored while retrieving '/org/bouncycastle/bcmail-jdk14/1.38/bcmail-jdk14-1.38.pom.md5' since repository ID='central' was processed earlier in this request."""" might be more accurate.            """
"NEXUS-3930","Bug","Repository",1,"Repository deployment policy always shows as ""Disable Redeploy"" after login, even if it is actually something else.","""Reproduce steps:    # Change deployment policy of """"releases"""" repository to """"Allow Redeploy""""  # Log out of nexus, log back in    The deployment policy shows as """"Disable Redeploy"""".  Note that you must log out to see this bug, refresh of the page isn't enough.    This is a UI bug, the values written to the nexus.xml are correct, and the deployment policy works properly."""
"NEXUS-3953","Improvement","Search",1,"Wrong default value in Viewing Repository list","""After a search for an artifact that provides results from different repositories (here one proxy and one hosted), there's a pick list labeled """"Viewing Repository:"""" which contains the different repositories concerned by the search.    See in the attached image that by choosing the version 1.15.0-SNAPSHOT which is contained in the hosted repo, I have by default selected the proxy repo. It lists the artifacts available but not my artifact. I have to select the other one to display it.    This pick list should be in the upper section to filter results (show only results within one of the repo and have a """"all"""" entry as well) or should change its default selection when the user choose a different entry in the search results."""
"NEXUS-3972","Bug","Repository",1,"Content-Type problems mirroring XML based artifacts between nexus instances","""Based on the email thread I started on the Nexus mailing list, I'm raising this as a ticket regarding problems setting a Nexus->Nexus mirror and dealing with XML based artifacts repository artifacts.    After some packet sniffing and testing I found that requesting our Karaf feature file, which is a XML based artifact with a classifier:    curl -v http://remote:8081/nexus/content/repositories/smxmavenrepo/smx3/smx3.demobrands/3.0.27/smx3.demobrands-3.0.27-features.xml        I get a 404 and no upstream is checked, however when requesting an a jar artifact for the same thing:    curl -v http://remote:8081/nexus/content/repositories/smxmavenrepo/smx3/smx3.demobrands/3.0.27/smx3.demobrands-3.0.27.jar        This led to me think there was something about the content type of the artifact, and after putting the nexus logging into DEBUG I see the following:        So it looks like my LOCAL Nexus ( 1.5 ) isn't sending the correct Content-Type headers for the XML files, and the remote Nexus is rejecting it.  The local nexus appears to be sending """"application/xml"""", but it looks like the remote nexus wants """"text/xml"""" when checking the incoming InputStream.  Looking at the Nexus JIRA I see NEXUS-2416 [1] and NEXUS-2688 [2] related to Content-Type issues, as mentioned in NEXUS-2688 I added a mime-types.properties file to my local Nexus to send out .xml files as text/xml ( and saw that coming out fine ), expired the remote servers cache and saw it get the same problems as the original request without any change.    The problem looks to be in AbstractFileTypeValidator#isExpectedFileType when Nexus calls out to eu.medsea.mimeutil.MimeUtil2, I wonder if wrapping the InputStream with a BufferedInputStream is triggering MimeUtil2 to only see the stream as an octet/stream rather than what it should be?    Hopefully there's enough info here for someone to make an informed response - shall I raise this entire email into a JIRA ticket?    Mark    [1] https://issues.sonatype.org/browse/NEXUS-2416  [2] https://issues.sonatype.org/browse/NEXUS-2688  """
"NEXUS-3979","Improvement","Security|UI",20,"Redesign the Security UI","""Need to redesign the users page to support huge numbers of users/roles/privileges.    Currently when there are a large number or users/roles/privileges the pages become non-manageable"""
"NEXUS-3977","Improvement","Scheduled Tasks",20,"Allow to stop or suspend tasks","""For now it is impossible to stop or suspend a task which is started.  If a long task is running but an important one is coming (for exemple internal tasks related to staging repositories management) we have to wait the end of the one running and we have an unstable repository because internal tasks aren't done.  It could be manual to llow to stop/suspend it if it things somethings goes wrong or it could be automated to let internal tasks automatically launched when they are triggered."""
"NEXUS-3996","Bug","Scheduled Tasks",1,"Error creating scheduled task","""I tried to create a scheulded task:  Type: Reindex  Repo: all  Reoccurrence: Once  Date: 12/08/2010 (today, this is key)  time: 17:00 (current local time: ~15:10, server time Wed Dec  8 14:09:47 CST 2010)      """
"NEXUS-3997","Bug","Security",1,"Nexus log too many message: ""Basic authentication scheme selected"" [ENH]","""There are many and many log entry with this message:  {quote}  ...  2010-12-10 09:58:29 INFO  [l-2-thread-3526] - o.a.c.h.a.AuthChall~          - Basic authentication scheme selected  2010-12-10 09:58:29 INFO  [l-2-thread-3531] - o.a.c.h.a.AuthChall~          - Basic authentication scheme selected  2010-12-10 09:58:29 INFO  [l-2-thread-3533] - o.a.c.h.a.AuthChall~          - Basic authentication scheme selected  2010-12-10 09:58:29 INFO  [l-2-thread-3535] - o.a.c.h.a.AuthChall~          - Basic authentication scheme selected  2010-12-10 09:58:29 INFO  [l-2-thread-3538] - o.a.c.h.a.AuthChall~          - Basic authentication scheme selected  2010-12-10 09:58:29 INFO  [l-2-thread-3540] - o.a.c.h.a.AuthChall~          - Basic authentication scheme selected  2010-12-10 09:58:29 INFO  [l-2-thread-3543] - o.a.c.h.a.AuthChall~          - Basic authentication scheme selected  2010-12-10 09:58:29 INFO  [l-2-thread-3534] - o.a.c.h.a.AuthChall~          - Basic authentication scheme selected  2010-12-10 09:58:29 INFO  [l-2-thread-3541] - o.a.c.h.a.AuthChall~          - Basic authentication scheme selected  2010-12-10 09:58:29 INFO  [l-2-thread-3530] - o.a.c.h.a.AuthChall~          - Basic authentication scheme selected  2010-12-10 09:58:29 INFO  [l-2-thread-3542] - o.a.c.h.a.AuthChall~          - Basic authentication scheme selected  2010-12-10 09:58:29 INFO  [l-2-thread-3550] - o.a.c.h.a.AuthChall~          - Basic authentication scheme selected  2010-12-10 09:58:29 INFO  [l-2-thread-3553] - o.a.c.h.a.AuthChall~          - Basic authentication scheme selected  2010-12-10 09:58:29 INFO  [l-2-thread-3527] - o.a.c.h.a.AuthChall~          - Basic authentication scheme selected  2010-12-10 09:58:29 INFO  [l-2-thread-3545] - o.a.c.h.a.AuthChall~          - Basic authentication scheme selected  2010-12-10 09:58:29 INFO  [l-2-thread-3544] - o.a.c.h.a.AuthChall~          - Basic authentication scheme selected  2010-12-10 09:58:29 INFO  [l-2-thread-3555] - o.a.c.h.a.AuthChall~          - Basic authentication scheme selected  2010-12-10 09:58:29 INFO  [l-2-thread-3558] - o.a.c.h.a.AuthChall~          - Basic authentication scheme selected  2010-12-10 09:58:29 INFO  [l-2-thread-3554] - o.a.c.h.a.AuthChall~          - Basic authentication scheme selected  2010-12-10 09:58:29 INFO  [l-2-thread-3529] - o.a.c.h.a.AuthChall~          - Basic authentication scheme selected  ...  {quote}    It should be into debug mode (or deleted) because there is no interesting information into this message to take an action.    Regards.  """
"NEXUS-4009","Bug","Repository",1,"""Expire cache"" from ""local storage"" tab fails with 403 error even when user has ""Clear Repository Caches"" privilege","""Running """"Expire cache"""" by right clicking on the """"local storage"""" tab's tree fails with 403 error even when user has """"Clear Repository Caches"""" privilege    It appears that the reason for this is the DELETE request is sent without a trailing """"/""""?    DELETE http://loclahost:8081/nexus/service/local/data_cache/repositories/releases/content  """
"NEXUS-4090","Bug","Repository",1,"Possible to create cycle of group repositories, results in stack overflow","""# create a maven 2 repository group """"child""""  # crate a maven 2 repository group """"parent"""", add """"child"""" as it's only member  # attempt to add """"parent"""" to the """"child"""" group. This fails with an error, as it should.    Now create a Maven 2 hosted repository.    After this, the """"parent"""" is a member of """"child"""".  Attempting to access either group results in a stack overflow.    """
"NEXUS-4099","Bug","Repository",1,"Artifact maximum age has no effect for release repositories, but is enabled.","""Artifact maximum age does not have any effect for proxied release artifacts (NEXUS-3069).    However, the UI element for this is still enabled.     We need to revisit the reason for NEXUS-3069 (and it's original reason NEXUS-3065), and if possible restore this functionality (since it breaks staging).  If we cannot restore it, we should at least disable the UI."""
"NEXUS-4107","Bug","Repository",2,"Sonatype repositories - cant browse repositories","""Cant browse remote repositories:    https://repository.sonatype.org/content/repositories/central/  https://repository.sonatype.org/content/repositories/flexmojos-releases/  https://repository.sonatype.org/content/repositories/flexmojos-snapshots/  https://repository.sonatype.org/content/repositories/flex/"""
"NEXUS-4114","Improvement","UI",1,"UI broken in nexus 1.9 with repository group ""all""","""just tried to upgrade to 1.9 and found an critical error for us. All repostories besides the group all are not shown in the ui. After some try and error i figured out.   If you add an repository group with the id """"all"""", this error occurs. Maven works, just the ui is broken, so it renders this version useless for us.  Can be reproduced with an clean installation.  """
"NEXUS-4117","Bug","Security",3,"Nexus should print required privileges in log at DEBUG level when denying access to something","""This is a regression.  The new security does not print the privileges it is looking for (even at DEBUG) before issuing a 403.      It is extremely difficult to figure out what privileges are needed for specific operations because of this."""
"NEXUS-4123","Bug","Repository",1,"NPE deleting group repositories if route list is empty","""Remove all repository Routes from Nexus.    You will get an NPE when trying to visit the routing screen.  You will also get an NPE if you attempt to delete a repository from the repositories view.    This cannot be worked around in the UI, attempts to add new routes will fail.    """
"NEXUS-4133","Improvement","Security",1,"Update Shiro to latest version","""I think the latest released is 1.1.1  There are a bunch of fixes we want to consume."""
"NEXUS-4138","Bug","UI",1,"REST documentation for repo-group XML payload is incorrect.","""The REST documentation for the XML payload of type repo-group is incorrect.    It only shows the repositories list, it does not show any of the required/optional attributes for the group itself."""
"NEXUS-4137","Bug","UI",1,"REST documentation for user-to-role XML payload is incorrect.","""The XML payload shown for user-to-role is incorrect.  It shows:        This should be:    """
"NEXUS-4134","Bug","Repository",1,"Documentation for repositories REST XML payload is incorrect.","""If you attempt to create a repository using the XML payload described in the documentation it fails, you get error 400.  No further information is printed in the log, even at debug level.    This is due to missing required fields.  If you send up all fields that come from GET request it works.    """
"NEXUS-4151","Bug","Repository",1,"Nexus creates zero byte files in /content if content type header is in correct","""I'm not sure yet how widespread this problem is, but at least in some cases Nexus silently creates files with no content if the Content-Type header is set incorrectly.    The following gives a zero byte file in the """"snapshots"""" repository:        Set the content type correctly (to """"application/xml"""") and it works correctly.    This was very difficult to diagnose because we are returning """"201"""" created, and no log message can be found about the failure, even at DEBUG level.    If we are going to reject based on content type we should return 400, and log an appropriate message.    """
"NEXUS-4150","Bug","Browse Remote",2,"Browse remote doesn't seem to be working for https url's","""The request sent from Nexus to the remote is incorrect if the remote URL is using https.    Here's a request sent to central for the """"org"""" node:    http://repo1.maven.org/maven2/org/?delimiter=/    Here's a request to apache snapshots for the """"org"""" node:    http://repository.apache.org/snapshots/https://repository.apache.org/content/groups/snapshots/org/?delimiter=/    The apache snapshots request returns 404.    """
"NEXUS-4158","Bug","UI",8,"External role mapping UI doesn't scale well","""It isn't uncommon for a large LDAP system to have hundreds of groups.      The external role mapping UI loads all of these into a droplist.  Loading this list can take a very long time.     It is also very cumbersome to find roles in this list since there is no search capability.    """
"NEXUS-4163","Bug","UI",1,"Documentation for role-request XML payload is incorrect","""The role-request XML payload is not documented correctly.           This should be:        """
"NEXUS-4164","Bug","Security|UI",1,"Role ""UI: LDAP Admin"" grants access to Administration - Server link, but results with 403 when opening it","""Role """"UI: LDAP Admin"""" grants access to Administration - Server link, but results with 403 when opening it.    I took new deployment of Nexus OSS trunk build, started it up. As """"admin"""", I granted """"UI: LDAP Admin"""" role to user """"deployment"""". Logged out. Logged in as """"deployment"""" user. The Administration -> Server became visible -- along with the expected Security -> LDAP Configuration. But opening Server administration page results in 403 Forbidden popup error presented by UI."""
"NEXUS-4166","Bug","Scheduled Tasks|UI",1,"Menu option ""run"" disappears from right-click menu in Scheduled tasks after running a task","""When manually executing a task in the scheduled tasks screen by right-clicking and selecting """"run"""", that option then disappears (for that specific task) unless I refresh.    To re-produce:  * Create a scheduled task. The ones I've seen this issue with are scheduled daily/weekly, but I would assume a manual execution task would also show it.  * Click refresh.  * Select the task and right-click. Select """"run"""".  * Now, right-click again. The """"run"""" options is now gone. The only way to get it back is to hit refresh.  """
"NEXUS-4180","Improvement","Repository",3,"As a user, I would like to be able to override the location of the storage directory.","""It's increasingly common for Nexus to be run on machines which have most of their storage on network mounted drives (san, iscsi, etc.).      Ideally in this situation most of the work directory should be stored on local disk for high performance, but the storage directory should be placed on the larger external drive.    Currently we recommend use of symlinks to achieve this configuration, but this isn't possible for users who run Nexus on older versions of Windows.  So they must manually override all of the local storage settings for every repository, which is very tedious, and can't even be done for some types of repositories (such as staging).    We should provide a setting for this.      """
"NEXUS-4188","Bug","Search",1,"Nexus uses wrong content-type from Index GZ files","""Nexus uses wrong content-type from Index GZ files.    See http://jira.codehaus.org/browse/MINDEXER-13 for details.    In short, Nexus serves Index GZ files with content-type of {{application/x-compressed}} that is usually associated with Unix old {{compress}} utility.    It should use {{application/x-gzip}} instead (or some variant)."""
"NEXUS-4207","Improvement","UI",1,"make default value of Publish URL ""True"" when creating a group repository","""When creating a group, provide default value for """"Publish URL"""".    In 99.8% of cases it's """"true"""""""
"NEXUS-4205","Improvement","Repository",1,"Enable file content validation for new proxy repositories.","""Seems to me that the file content validation feature is pretty well proven at this point.    I think we should enable it by default for new proxy repositories (and for the proxy's that ship in the default configuration)."""
"NEXUS-4203","Bug","Build",1,"Bad class version in .war 1.9.0.2 release","""Nexus.war won't start on Tomcat running on Java 1.5:    java.lang.UnsupportedClassVersionError: Bad version number in .class file (unable to load class org.sonatype.nexus.web.PlexusContainerContextListener)    My best guess is it's probably compiled on Java 1.6."""
"NEXUS-4209","Bug","Repository",1,"FileItems generated by ContentGenerator has wrong behavior wrt ""conditional GET""s, they always report 304 Not Modified","""FileItems generated by ContentGenerator has wrong behavior wrt """"conditional GET""""s, they always report 304 Not Modified. I bet this is true for all Nexus version since we introduces ContentGenerators (Nexus 1.4 or so?).    With """"normal"""" File items, the file's timestamp is taken to compare with timestamp sent by conditional GETs, and this works with normal files (like maven metadata or JARs), since in case of deploy/redeploy, the file timestamp did change (nexus maintains filestamps, and set's it to either the sent value or """"now"""").    But, ContentGenerator generated files are almost exactly same to File items, except their -- usually just placeholder with component's id -- content is discarded, and ContentGenerator component is invoked to generate content on the fly. But there is a problem: their timestamp _never changes_, since they got created.    Browsers and clients, that tries to optimize traffic best, once fetch generated content, will never be able to refetch it! Proof (reproduce steps):    * start up _empty_ Nexus OSS with factory config  * use Chrome to fetch {{archetype-catalog.xml}} of third-party repository, should be empty  * upload over UI an artifact that has packaging """"maven-archetype"""" (POM and JAR).  * refetch the archetype catalog in browser. _No way_ to get new content  * try {{wget}} (or some similar tool that issues unconditional GET), voila, it's there!    Note about archetype catalog: how it went unnoticed? The trick is, that Archetype Catalog plugin _installs_ (simply put, saves the {{archetype-catalog.xml}} generated file _as part of boot process_ of Nexus! Meaning, the file timestamp would actually change and actualized on every boot. Testers and QAs would hardly notice this. But on long running instances with Chrome makes your head dizzy.  """
"NEXUS-4218","Improvement","Repository",1,"Suppress generation of maven 3 metadata when older maven versions are detected","""If you rebuild metadata on a hosted snapshot repository that has artifacts with multiple classifiers Nexus will generate the new maven-metadata.xml file with classifier information.    Since many customers are reluctant to change their Maven version on older branch builds, we should provide an option to suppress this."""
"NEXUS-4217","Bug","Browse Remote|UI",1,"Browse Remote tab does not shows upon adding Proxy repository","""Browse Remote tab does not shows upon adding Proxy repository.    Steps to reproduce:    * start clean Nexus  * log in as admin  * click Repositories  * add proxy repository (just another for central, fill all in as usual)  * click Save  * the lower half of panel is focused on Browse Storage, but there is no Browse Remote tab  * highlight another repository, come back to newly added (to force UI refresh), still no Browse Remote  * close the whole Repositories tab, open it again, click newly added repo, there is it!"""
"NEXUS-4215","Bug","System Feeds",2,"artifact ignored due to failing content validation is logged as cached in feed","""If enabled """"File content validation"""" for a proxy repo for Maven central. Nexus retrieves files through a virus scanner, which returns html error page for some artifacts.  Nexus correctly ignores these invalid downloaded files (the error page) as I can't see it cached, but in the feeds (e.g. CachedArtifacts) is says that the artifact was cached. This is not correct."""
"NEXUS-4219","Bug","Security",1,"nexus is silent when it does not have permissions to update security.xml","""so last night oss.sonatype.org is rebooted and today I got many complaints from ossrh users, saying they are having 401 errors  then I found their roles are lost and the cause is:        and        Nexus should return something like 500 error when it can not persist security data."""
"NEXUS-4228","Bug","Search",1,"Documentation for data_index REST endpoint should indicate that it is deprecated","""The """"data_index"""" endpoint is slated for removal.  We should indicate that it is deprecated in the documentation.    https://repository.sonatype.org/nexus-indexer-lucene-plugin/default/docs/rest.data_index.html"""
"NEXUS-4226","Bug","Search",5,"Unable to update proxy repository's configuration for minutes after adding it.","""I added a proxy repositories for http://repository.jboss.org/nexus/content/groups/public and https://repository.jboss.org/nexus/content/repositories/releases/    Immediately after, I tried to change the """"public"""" URL to use """"https"""".  The save timed out.  It was nearly 5 minutes before I could get it to go through.    """
"NEXUS-4225","Bug","Repository",2,"Redirect from http to https breaks remote repository browser","""Add a proxy repository for:    http://repository.jboss.org/nexus/content/groups/public      Request from Nexus is sent as:  http://repository.jboss.org/nexus/content/groups/public/https://repository.jboss.org/nexus/content/groups/public/activespace/?delimiter=/    If you add the proxy for the """"https"""" url it works.         """
"NEXUS-4235","Improvement","Repository",5,"Allow UI upload of artifacts with new classifiers","""We should allow uploading of addition artifacts which differ by classifer.  The typical use case for this would be when someone wants to add javadoc or sources to an existing released artifact.    Currently, if a user wants to upload an additional artifact into a GAV using the UI they currently have to:    # Change the release repository's deployment policy to """"allow redeploy""""  # Download the pom file for the GAV  # Upload the new artifact along with the old pom file  # Change the release repository's deployment policy back to """"disallow redeploy""""    """
"NEXUS-4232","Improvement","REST",5,"Add a component to nexus that allows or disallow some clients based on it's UA","""Add a component to nexus that allows or disallow some clients based on it's UA.    Typically [INFRA-3151|https://issues.apache.org/jira/browse/INFRA-3151] for example.    Maven 2.2.0 is known to be """"bad"""". Simply, by _excluding_ it's UA would help a lot maintaining healthy repository."""
"NEXUS-4271","Bug","UI",1,"Change -1 Transaction Aborted message to something more user friendly","""  Change it to something like:  The request has timed out.    """
"NEXUS-4275","Bug","Search",1,"If index download fails due to error then ""download index"" task should end in ""broken"" state.","""If a remote index fails to download due to 401/403/50x problems we should end the """"download index"""" task with a """"broken"""" state.      Note that 403 is very common when going through a proxy that blocks """".gz"""" downloads.    """
"NEXUS-4292","Improvement","UI",1,"Download button's URL should be copy-able (into mails, jira comments, ...)","""To reproduce, go to:    https://repository.jboss.org/nexus/index.html#nexus-search;quick~drools-distribution  Now select an entry (for example 5.2.0-SNAPSHOT)  then open tab """"Artifact information""""  then right click on the button """"Download""""  and there 's no """"Copy link location"""".    So how can I mail someone the link to that zip/jar/pom?  For now, there's a complex way of getting that download URL, or I could mail them a link of hudson to the zip.  Note: nexus's main task is to distribute our binaries, so it's a good way to distribute our nightly zips too, no?"""
"NEXUS-4329","Bug","Security",2,"Concurrent modification exception in security","""Concurrent modification exception in security (see NXCM-2918 for logs).    """
"NEXUS-4339","Bug","Security|UI",1,"Upload hangs forever if the user does not have sufficient privileges","""Consider we have a user that has the """"Artifact Upload"""" privilege and their upload rights are restricted by a repository target. If that user tries to upload an artifact which they are not allowed to, they are presented with an upload progress bar that stays there forever. The only way to get rid of this is to close the browser window/tab. The user should be presented a reasonable error message instead.   In order to find out what was going on I had to turn on debug logging. I'd say such things should be logged at least at info level. Generally, I think the info level logging could be a little bit more talkative."""
"NEXUS-5880","Improvement","UI",0,"Server form validation errors should not log at WARN level","""Many simple form validation errors are logged at WARN level. These are not critical errors and should be logged at DEBUG instead since a user receives a suitable error in the UI in these cases.    Example:  """
"NEXUS-4429","Bug","Build",1,"Tweaks related to solaris scripts","""There are two tweaks to the solaris scripts that are included with the build that would prevent errors when running the script as a different user.    1. change the nexus scripts  they are under:  {quote}  <nexus package>/bin/jsw/solaris-x86-32/nexus  <nexus package>/bin/jsw/solaris-x86-64/nexus  <nexus package>/bin/jsw/solaris-x86-32/nexus  {quote}    by changing the following line:  {code}  su -m $RUN_AS_USER -c """"\""""$REALPATH\"""" $2""""   {code}  this does not work in solaris since it does not recognize the '-m' switch. The script runs fine if the '-m' switch is removed    2. Change the SMF script  It is found under:  {quote}  <nexus package>/bin/jsw/solaris-x86-32/sample-smf/app.xml  {quote}  The way is is now, if the smf script is set to run as a user other than root, it will fail.    change:  {code:xml}   <method_context>    <method_credential user='nexus' group='nexus'      privileges='basic,!proc_session,!proc_info,!file_link_any,net_privaddr' />  </method_context>  {code}  to  {code:xml}   <method_context>    <method_credential user='nexus' group='nexus'      privileges='basic,!proc_session,proc_info,!file_link_any,net_privaddr' />  </method_context>  {code}  """
"NEXUS-4431","Bug","REST",1,"REST API documentation for /repositories/{repositoryID}/content is missing","""There isn't any documentation for the """"/repositories/{repositoryID}/content"""" rest endpoint."""
"NEXUS-4465","Bug","Scheduled Tasks",1,"Next run is wrong for scheduled tasks using advanced cron expression","""I have 2 snapshots cleanup jobs I'm launching one day on two. For that I have one of these tasks with the following cron : 0 0 20 ? * TUE,THU,SAT I start nexus and it says that the next launched is scheduled to the 10 august (where are on 27th july) It worked with nexus &lt; 1.9.2 It seems that if I launch manually the job the next run is back to the good value (I have to reverify it)"""
"NEXUS-4493","Improvement","Security",5,"Nexus does not follow static nested LDAP groups","""Hello,    I am having an issue with LDAP configuration of our Nexus OSS instance and don't see a documented way to get out of it.  I was under the impression that my setup was fairly common, but perhaps this is not so...    Our (OpenLDAP) directory uses static, nested groups.  The users are all in one tree under ou=Users and all the groups are under ou=Groups (there is no nesting of group levels).  Each project has a set of groupOfUniqueNames under ou=Groups such as:    acme-users  acme-developers  acme-administrators    The groups follow the standard method of nesting static groups and use a DN to point to the nested group.   Example:    In cn=acme-users,ou=Groups,dc=my,dc=site,dc=com:   uniqueMember: uid=user1, ou=Users, dc=my, dc=site, dc=com   uniqueMember: uid=user2, ou=Users, dc=my, dc=site, dc=com   uniqueMember: uid=user3, ou=Users, dc=my, dc=site, dc=com   uniqueMember: cn=acme-developers, ou=Groups, dc=my, dc=site, dc=com    In cn=acme-developers,ou=Groups,dc=my,dc=site,dc=com:   uniqueMember: uid=developer1, ou=Users, dc=my, dc=site, dc=com   uniqueMember: uid=developer2, ou=Users, dc=my, dc=site, dc=com   uniqueMember: cn=acme-administrators, ou=Groups, dc=my, dc=site, dc=com    In cn=acme-administrators,ou=Groups,dc=my,dc=site,dc=com:   uniqueMember: uid=admin1, ou=Users, dc=my, dc=site, dc=com    In our other LDAP-enabled applications, this works perfectly well.  There are options to configure nested groups, and if you were to query the contents of acme-users, you would see the user records for     user1, user2, user3, developer1, developer2, admin1    However, in Nexus OSS (at least), there doesn't seem to be any recognition that nested memberships are allowed.  that same admin1 user only shows up in the directory in which he actually exists:    admin1   ....     Roles: acme-administrators    Looking at the DefaultLdapGroupDAO, it appears to me that Nexus is probably not currently capable of handling this user setup. This is making permissions much more difficult to organize than they should be, as some of our project administrators (tech leads) are also developers.    I realize that converting the userbase to use dynamic groups is a possible workaround, but that isn't a method I want to explore right now; it hides the problem rather than fixing it.  Is there any possible filter magic I can use to make this work properly, or does nested group support simply need to be added to the LDAP implementation?  """
"NEXUS-6388","Bug","LDAP|UI",1,"LDAP servers are sorted in alphabetical order in the UI, so you can't see what the real order is.","""The list of LDAP servers in the enterprise ldap UI is being sorted alphabetically in the UI.  This means it is not possible to see the real order that Nexus will use when consulting the servers.    Note that the order is stored correctly in the ldap.xml file."""
"NEXUS-4515","Bug","UI",1,"Rename jetty.properties to nexus.properties","""<bundle-root>/conf/jetty.properties needs to be named <bundle-root>/conf/nexus.properties  """
"NEXUS-6367","Improvement","Staging|UI",1,"Clarify ""Promote Repository Notification Settings"" for Staging Profile","""When creating a staging profile, there is a section """"Promote Repository Notification Settings"""". But for artifacts for a staging profile can only be dropped or released, not promoted. I think the text in the UI should be changed to """"Release Repository Notification Settings"""".  (If the UI template is shared for Build Promotion Profile, it could be changed into """"Promote/Release Repository Notification Settings"""".)"""
"NEXUS-4545","Bug","Search",2,"Index is still active for out of service repositories, searches result in a 503","""RSO has the java.net m2 repo Out of Service.    Searching for: com.sun.xml.fastinfoset in the UI (i.e.)  https://repository.sonatype.org/index.html#nexus-search;quick~com.sun.xml.fastinfoset    will result in a 503 when displaying the artifact details      """
"NEXUS-4562","Bug","Security",1,"Authorization rejection is logged at the wrong level","""Seeing a lot of this on RSO:      {quote}  2011-09-26 08:17:28 INFO  [1305124728-3756] - org.sonatype.nexus.security.filter.authz.NexusTargetMappingAuthorizationFilter - Unable to authorize user [xxxxxxx] for read(HTTP method """"GET"""") to /content/groups/private-nexus-dev/com/atlassian/jira/jira-project/4.4.1/jira-project-4.4.1.pom.sha1 from IP Address 198.240.128.752011-09-26 08:17:28 INFO  [1305124728-3756] - org.sonatype.nexus.security.filter.authc.NexusSecureHttpAuthenticationFilter - Request processing is rejected because user """"xxxxxxx"""" lacks permissions.2011-09-26 08:17:33 INFO  [1305124728-3733] - org.sonatype.nexus.security.filter.authz.NexusTargetMappingAuthorizationFilter - Unable to authorize user [xxxxxxx] for read(HTTP method """"GET"""") to /content/groups/private-nexus-dev/com/atlassian/jira/jira-func-tests/4.4.1/jira-func-tests-4.4.1.pom from IP Address 198.240.128.752011-09-26 08:17:33 INFO  [1305124728-3733] - org.sonatype.nexus.security.filter.authc.NexusSecureHttpAuthenticationFilter - Request processing is rejected because user """"xxxxxxx"""" lacks permissions.  {quote}    This is correct, repo target privileges don't allow users of that group to read this artifact.  But we need to move this to DEBUG, it's filling up the logs."""
"NEXUS-4700","Bug","Security",2,"User can get to a log in state in the UI even if he doesn't have that priv","""For a user account that does not have the """"Login to UI"""" priv, it is possible to get into a logged in state.    To reproduce:  1. Create a user account that has the """"Nexus Anonymous Role"""".  2. Try logging in with that user. You will get an error message saying no permission to use the UI. Then click ok and close the log in window by clicking the 'X' button in upper right corner.  3. Now refresh the browser window. The UI will now say that the user is logged in.    Not sure if this is just a UI issue or even a server side issue."""
"NEXUS-4581","Bug","Repository",1,"Hosted maven-site repository summary Distribution Management section wrong - refers to snapshotRepository","""On a maven-site repository, when viewing in the repository browser and selecting the Summary tab, the distrib management snippet is incorrect:        The {{<snapshotRepository>}} tag should be a {{<site>}} tag"""
"NEXUS-4580","Improvement","Scheduled Tasks",2,"Empty trash task should allow specifying repositories","""Users will likely want different trash removal policies for release and snapshot repositories.  The empty trash task should allow specifying a target repository.    Upgrade of existing tasks could specify """"all repositories""""."""
"NEXUS-4579","Improvement","Scheduled Tasks",5,"Snapshot removal task should make moving to trash optional","""Snapshot removal is typically done to free disk space, and snapshots are not necessarily valuable commodities. We should add a flag to the snapshot removal task to make moving them to the trash optional (default value of """"true"""")."""
"NEXUS-4594","Bug","Repository",1,"Requests to an auto-blocked repository are added to NFC","""Requests which come into a proxy repository while it is auto-blocked are being added to NFC.  This is a big problem, because we no longer clear caches when it is un-blocked.  {quote}  2011-10-26 11:31:16 DEBUG [5.0/bar-5.0.jar] - org.sonatype.nexus.proxy.maven.maven2.M2Repository - aaa.retrieveItem() :: /foo/bar/5.0/bar-5.0.jar 2011-10-26 11:31:16 DEBUG [5.0/bar-5.0.jar] - org.sonatype.nexus.proxy.maven.maven2.M2Repository - /foo/bar/5.0/bar-5.0.jar :: localOnly=false, remoteOnly=false, ProxyMode=BLOCKED_AUTO 2011-10-26 11:31:16 DEBUG [5.0/bar-5.0.jar] - org.sonatype.nexus.proxy.storage.local.fs.DefaultFSLocalRepositoryStorage - /foo/bar/5.0/bar-5.0.jar --> /Users/rseddon/nexus/nexus-professional-webapp-1.9.2.3/./../sonatype-work/nexus/storage/aaa/foo/bar/5.0/bar-5.0.jar 2011-10-26 11:31:16 DEBUG [5.0/bar-5.0.jar] - org.sonatype.nexus.proxy.maven.maven2.M2Repository - Item /foo/bar/5.0/bar-5.0.jar not found in local storage. 2011-10-26 11:31:16 DEBUG [5.0/bar-5.0.jar] - org.sonatype.nexus.proxy.storage.local.fs.DefaultFSLocalRepositoryStorage - /foo/bar/5.0/bar-5.0.jar --> /Users/rseddon/nexus/nexus-professional-webapp-1.9.2.3/./../sonatype-work/nexus/storage/aaa/foo/bar/5.0/bar-5.0.jar 2011-10-26 11:31:16 DEBUG [5.0/bar-5.0.jar] - org.sonatype.nexus.proxy.maven.maven2.M2Repository - Item /foo/bar/5.0/bar-5.0.jar not found in local storage. 2011-10-26 11:31:16 DEBUG [5.0/bar-5.0.jar] - org.sonatype.nexus.proxy.maven.maven2.M2Repository - Item /foo/bar/5.0/bar-5.0.jar does not exist locally and cannot go remote, throwing ItemNotFoundException. 2011-10-26 11:31:16 DEBUG [5.0/bar-5.0.jar] - org.sonatype.nexus.proxy.maven.maven2.M2Repository - aaa retrieveItem() :: NOT FOUND aaa:/foo/bar/5.0/bar-5.0.jar 2011-10-26 11:31:16 DEBUG [5.0/bar-5.0.jar] - org.sonatype.nexus.proxy.maven.maven2.M2Repository - Adding path /foo/bar/5.0/bar-5.0.jar to NFC. 2011-10-26 11:31:16 DEBUG [5.0/bar-5.0.jar] - org.sonatype.nexus.proxy.maven.maven2.M2Repository - bbb.retrieveItem() :: /foo/bar/5.0/bar-5.0.jar 2011-10-26 11:31:16 DEBUG [5.0/bar-5.0.jar] - org.sonatype.nexus.proxy.maven.maven2.M2Repository - The serving of item /foo/bar/5.0/bar-5.0.jar is forbidden by Maven repository policy. 2011-10-26 11:31:16 DEBUG [5.0/bar-5.0.jar] - org.sonatype.nexus.proxy.maven.maven2.M2Repository - bbb retrieveItem() :: NOT FOUND bbb:/foo/bar/5.0/bar-5.0.jar 2011-10-26 11:31:16 DEBUG [5.0/bar-5.0.jar] - org.sonatype.nexus.proxy.maven.maven2.M2Repository - Adding path /foo/bar/5.0/bar-5.0.jar to NFC. 2011-10-26 11:31:16 DEBUG [5.0/bar-5.0.jar] - org.sonatype.nexus.proxy.maven.maven2.M2GroupRepository - public retrieveItem() :: NOT FOUND public:/foo/bar/5.0/bar-5.0.jar 2011-10-26 11:31:16 DEBUG [5.0/bar-5.0.jar] - org.sonatype.nexus.proxy.maven.maven2.M2GroupRepository - Adding path /foo/bar/5.0/bar-5.0.jar to NFC. {quote}"""
"NEXUS-4593","Bug","Repository",1,"Nexus auto-blocks repositories if a request for an artifact fails with access denied (403)","""Was attempting to build against the rso """"nexus-private-dev"""" group.  Found this to be extremely unstable, it kept being auto-blocked.    Root cause is that every time an artifact request comes in which is blocked by the repository target privileges in that repo we're auto-blocking the proxy.    Make a proxy for this URL in your local nexus (note, you will need to supply authorization credentials) : https://repository.sonatype.org/content/groups/private-nexus-dev/    Request something through it that there isn't a repository target privilege for:    http://localhost:8081/nexus/content/repositories/private-nexus-dev-proxy/foo/bar/1.0/bar-1.0.jar    In local Nexus log you will see we auto-block:    {quote}  2011-10-26 11:21:15 WARN  [p-1312724941-50] - org.sonatype.nexus.proxy.maven.maven2.M2Repository - Remote peer of proxy repository """"aaa"""" (id=aaa) threw a org.sonatype.nexus.proxy.RemoteAccessDeniedException exception. Please set up authorization information for this repository. Auto-blocking this repository to prevent further connection-leaks and known-to-fail outbound connections until administrator fixes the problems, or Nexus detects remote repository as healthy. - Cause(s): Forbidden  2011-10-26 11:21:15 INFO  [atusChecker-aaa] - org.sonatype.nexus.proxy.registry.DefaultRepositoryRegistry.aaa - Next attempt to auto-unblock the """"aaa"""" (id=aaa) repository by checking it's remote peer health will occur in 40 seconds.    {quote}      """
"NEXUS-4595","Bug","Security",1,"Using an LDAP filter to allow certain user to connect","""I'm trying to set a filter on LDAP configuration to restrict the users allowed to use nexus.  The LDAP have users that don't have to use nexus. The users allowed to use nexus have a attribut set.     In the configuration, it is not possible to create such a filter. I found this on internet but no way to make it working: http://code.google.com/p/nexus-ldap/wiki/SearchFilterExpressionConfig"""
"NEXUS-4599","Bug","REST|Search",1,"/service/local/lucene/search docs indicate wrong result type","""https://repository.sonatype.org/nexus-indexer-lucene-plugin/default/docs/rest.lucene.search.html states that the output payload should be <search-results> (i.e. searchResponse). However as can be seen https://repository.sonatype.org/service/local/lucene/search?repositoryId=central-proxy&g=commons-logging&v=1.1.1 returns <searchNGResponse>. The <data> section contains a list of <artifact> while it should then according to the XSD return <nexusNGArtifact>. I downloaded the XSD and compiled corresponding java classes using xjc and obviously am not able to unmarshal the data correctly as the result is mixed."""
"NEXUS-4600","Bug","Build",1,"org.sonatype.nexus.plugins.migration.nexus3301.Nexus3301MavenDownloadRedirectSecurityIT.downloadWithPermition fails retrieving artifacts","""Reference: https://builds.sonatype.org/view/nexus/job/nexus-oss-its/57/jdk=java-6x,label=win/testReport/junit/org.sonatype.nexus.plugins.migration.nexus3301/Nexus3301MavenDownloadRedirectSecurityIT/downloadWithPermition/    Please change the method name when this gets fixed.        Assigning fix version as possible regression."""
"NEXUS-4619","Improvement","Repository",5,"Reduce the thread baseline for Nexus","""There are two threads created for every repository in a Nexus instance.  We should investigate whether we can eliminate these.    Description is below, from Tamas on development list.    {quote}    * One thread per indexed repository (so basically one for every repo), used to keep the lucene cache warm    Maven Indexer keeps one thread per IndexingContext (which maps 1:1 to repositories in Nx), to implement the """"async commit"""" feature. The fact that indexer are """"warmed"""" upon commit is just a """"bonus"""". Lucene writer writes synchronously the change to index, but to have readers up to date, they need to be reopened, and reopening Lucene readers are expensive. Hence, Maven Indexer does this async commit thing (async reader reopening more precisely), with assumptions that index changes has to go out, and the fact that readers (and components consuming them, like search UI and archetype catalog) may """"lag"""" behind is not a big concern and problem. Simply put, what you deploy is not searchable immediately (talking about millis), but only after async commit happened (in silent period). Also, this requires context locking, hence no search or any other index """"consumption"""" might be running in that moment. This is the implication of having IndexerContext being able to handle one repository (was designed as such) and Maven Indexer's incapability to have multiple contexts in single Lucene index.     * One thread per proxy repository to check the status of the remote.    These threads are mostly dormant (timed wait), until UI pulls the status, and status cache is invalidated (in most cases UI gets the cached remote status, except in very 1st request or when forced the cache purge). Again, since the REST exposes this for each repo as separate resource, and the remote checks might take long time (see NEXUS and old NX Jiras), this was the one of the ways to fulfill acceptable UI response, to have dedicated thread doing remote checks.    Initially remote status was handled by one thread, but the UI delay it caused (one bad remote might delay all the others for more minutes) was noted as problematic, not acceptable and then we switched to per-repo threads.    {quote}"""
"NEXUS-4616","Improvement","UI",5,"Scheduled Tasks start/run times should be displayed with local timezone","""The next run/last run columns values are calculated on the server, using the servers timezone."""
"NEXUS-4622","Bug","Repository",3,"HTTP header: ""Accept: text/css"" on CSS file results in a 406 (CSS not loaded)","""When CSS files hosted below a 'maven-site' repo (any sub folder) are requested with """"Accept text/css"""" a 406 response for the CSS file is returned - this means the CSS file in question will not be loaded by the browser. (This happens when IE9 is configured to use browser modus """"IE9"""" and document modus """"IE9-Standards"""".)    When the same CSS file is requested with """"Accept \*/\*"""" (e.g. via a direct URL) the CSS file is delivered correctly with """"Content-Type text/css"""" in the response header.    shell log:    > curl -u <user> -H """"Accept:\*/\*"""" https://<site-repo>/x.css -D -    HTTP/1.1 200 OK  Date: Fri, 04 Nov 2011 18:02:08 GMT  Server: Noelios-Restlet-Engine/1.1.6-SONATYPE-5348-V4  Content-Type: text/css  Last-Modified: Thu, 27 Oct 2011 17:39:32 GMT  ETag: """"eebcd5378dc6c17685ffa4694a12580723fdcf2a""""  Vary: Accept-Charset,Accept-Encoding,Accept-Language,Accept  Content-Length: 222  Set-Cookie: JSESSIONID=81c0d344-0296-42fe-9e0d-581d37ede4f6; Path=/nexus; HttpOnly  Set-Cookie: rememberMe=deleteMe; Path=/nexus; Max-Age=0; Expires=Thu, 03-Nov-2011 18:02:08 GMT  Connection: close    #banner, #footer, #leftcol, #breadcrumbs, .docs #toc, .docs .courtesylinks, #leftColumn, #navColumn {          display: none !important;  }  #bodyColumn, body.docs div.docs {          margin: 0 !important;          border: none !important  }    > curl -u <user> -H """"Accept:text/css"""" https://<site-repo>/x.css -D -    HTTP/1.1 406 The resource identified by the request is only capable of generating response entities which have content characteristics not acceptable according to the accept headers sent in the request  Date: Fri, 04 Nov 2011 18:03:05 GMT  Server: Noelios-Restlet-Engine/1.1.6-SONATYPE-5348-V4  Content-Type: text/html; charset=iso-8859-1  Cache-Control: must-revalidate,no-cache,no-store  Content-Length: 1782  Set-Cookie: JSESSIONID=898ee864-ec6a-4bce-8daf-4d98d6585531; Path=/nexus; HttpOnly  Set-Cookie: rememberMe=deleteMe; Path=/nexus; Max-Age=0; Expires=Thu, 03-Nov-2011 18:03:05 GMT  Connection: close    <html>  [...]    """
"NEXUS-4624","Bug","Search",1,"Regression: org.sonatype.nexus.integrationtests.nexus3626.Nexus3626SimpleSearchIT.wagonDeploy fails","""https://builds.sonatype.org/view/nexus/job/nexus-oss-its/73/jdk=java-6x,label=linux/testReport/junit/org.sonatype.nexus.integrationtests.nexus3626/Nexus3626SimpleSearchIT/wagonDeploy/  """
"NEXUS-4630","Improvement","Security",5,"Anonymous user sporadically gets authorization errors downloading artifacts","""Placeholder issue for SUPPORT-1109, once we get latest logs we'll be able to start work on this."""
"NEXUS-4629","Bug","Search",1,"org.sonatype.nexus.integrationtests.nexus977tasks.Nexus977GroupOfGroupsDownloadIndexesTaskIT.downloadIndexes fails on grid","""https://builds.sonatype.org/job/nexus-oss-its/75/jdk=java-6x,label=linux/testReport/junit/org.sonatype.nexus.integrationtests.nexus977tasks/Nexus977GroupOfGroupsDownloadIndexesTaskIT/downloadIndexes/      """
"NEXUS-4643","Bug","Repository",3,"Concurrent modification exception when adding repositories","""If you add two repositories at the same time you get a concurrent modification exception.  This occurred when using a script which creates release and snapshot repositories simultaneously using the REST API:    """
"NEXUS-4642","Bug","Scheduled Tasks",1,"Empty trash removes ""sonatype-work/nexus/trash"" directory if age is set to -1","""If the """"Purge items older than (days)"""" is set to """"-1"""" the empty trash task removes the """"sonatype-work/nexus/trash"""" directory.      This causes a problem if this has been symlinked to another directory.      Note that you must set the age to -1 to have this directory emptied due to NEXUS-4468"""
"NEXUS-4641","Bug","Build",1,"app-lifecycle Maven plugin does not handle non-ascii chars correctly","""For a Nexus plugin I have some Swedish (non-ascii) chars in the description of the Maven project. These chars are not handled correctly by the app-lifecycle Maven plugin."""
"NEXUS-4645","Bug","UI",2,"Delete artifact from UI Delete button causes location to be lost","""This relates to https://issues.sonatype.org/browse/NEXUS-3992 which has been fixed, but now when deleting via the Delete button in the """"Artifact Information"""" panel, the position in the """"Browse Storage"""" panel is lost.    It is then necessary to repeat the process of finding the folder.    This make the button all but useless.    The right-click delete option does not have this problem. so it ought to be fixable for the delete button."""
"NEXUS-4644","Improvement","UI",1,"Uploading a Bundle creates hashes for all content","""Recently tried uploading a bundle I'd created.    Nexus added .md5 and .sha1 hashes for the .asc files.    Previously I had created the bundle which already contained the .md5 and .sha1 hashes, and Nexus created hashes for those too.    Nexus should either require (and check) hashes, but not create them, or it should create any required missing hashes."""
"NEXUS-4653","Improvement","Scheduled Tasks|UI",1,"Local Timezone description should be displayed in screens editing times of a scheduled task","""When creating or editing a scheduled task that is not manually run, a """"Start Time"""" field is shown in the south panel ( edit panel ).    This time is displayed relative to the logged in UI user's timezone.    We have NEXUS-4616, which attempts to ensure display of the time value is proper.    *This issue is about appending the user's timezone description ( as it is currently displayed in grid ) after the Start Time field's value to help the user understand the context in which they are setting up the scheduled task to run."""
"NEXUS-4659","Bug","Repository",1,"Upgrade maven-aether-provider to fix MNG-4987","""Nexus is affected by this metadata merge bug:  http://jira.codehaus.org/browse/MNG-4987    We need to upgrade the maven-aether-provider to fix this."""
"NEXUS-4674","Bug","Search",1,"Reindexing one GAV of a GA removes other versions from index","""This needs to be verified, Brian F. noticed this on RAO.    * Right click and reindex a single version of a GA  What you see: The other versions of that GA have been removed from the index    Expected: Previous versions to remain in index, the right-clicked version to be added to index."""
"NEXUS-6376","Improvement","Browse Storage|NuGet",3,"Enhancement: Browse Index tab for NuGet repos","""Given that a user can browse an Index of Maven artifacts via the Browse Index tab, and given oData information may be made indexable with lucene in Nexus UI, it may be suitable to support a Browse Index view of nupkg artifacts from within the Nexus UI.    The usefulness of this may be in question for NuGet repos however since developers will typically use NuGet Package Explorer to 'explore' nupkg artifacts."""
"NEXUS-4683","Bug","Transport",1,"Nexus doesn't work through NTLM proxy which redirects","""This may also affect non-ntlm usage. Underlying bug is here:    https://issues.apache.org/jira/browse/HTTPCLIENT-856    This is fixed in HttpClient 4.x.      Note the last comment on the above bug, in June 2009 the developer says that HttpClient 3.1 is EOL.   I think it's time we considered upgrading."""
"NEXUS-4679","Bug","Repository|UI",1,"Creating a repo with id equal to existing repo group id does not result in an error message","""If you create a repo with id """"A"""" and then try to create a repo group with id """"A"""", you will get a form error when trying to save the repo group indicating a repo already exists.      However, if you create a repo group with id """"A"""" and then try to create a repo with id """"A"""", you will NOT get a form error when trying to save the repo - instead the form *appears* to save without error, yet once the repo list is refreshed, you still only have the conflicting repo group and no repo.  """
"NEXUS-4688","Improvement","Repository",3,"Better errors when access is denied because of routing settings","""I've opened three support cases here already because of issues which were caused by routing settings.    My main problem is that when access is denied because of routing settings, you get a 404 or a 504 (Gateway timeout) but nothing in the error log of Nexus, not even when I enable debugging."""
"NEXUS-4692","Improvement","Repository",3,"Make HTTPClient 4.1 the default transport in Nexus","""Current plan is to provide HTTPClient 4.1 as an alternate transport for repositories in the 2.0 release.     Once we have enough confidence in this new implementation we should make it the default.  This will be done in the following (2.1) release at the earliest."""
"NEXUS-4691","Bug","Build",1,"Nexus4529HighlyConcurrentRepoAdditionsAndRemovalsIT.doTheTest triggers NullPointerException in ProgressListener","""https://builds.sonatype.org/view/nexus/job/nexus-oss-its/107/jdk=java-6x,label=win/testReport/junit/org.sonatype.nexus.integrationtests.nexus4529/Nexus4529HighlyConcurrentRepoAdditionsAndRemovalsIT/doTheTest/          There is more to this than it appears. Was this caused by some other test's failure? Testng does weird things when @Before executions fail."""
"NEXUS-4697","Improvement","Capabilities",1,"Add password text field","""Add a password masking text field.  ie. StringTextFormField which uses """"*"""" or something to mask the input."""
"NEXUS-4696","Improvement","Capabilities",2,"Add enable/disable context menu item to capabilities table","""... to quickly enable or disable a capability.  This is a short-cut of selecting the entry, toggling the enabled checkbox and clicking save."""
"NEXUS-6380","Bug","NuGet|Scheduled Tasks",1,"Expire Repository Caches scheduled task not available for NuGet Group Repos","""# Create a Nuget Repo Group containing one each of Nuget Proxy, hosted, virtual repos.  # Create an Expire Repository Caches task. Notice that the NuGet proxy and Nuget Hosted Repos are available to select in the task configuration, however NuGet Group is not.    Compare this with the fact a Maven 2 Group Repo can be selected for this task.   """
"NEXUS-4704","Bug","UI",1,"Log configuration UI shows ""log4j"" string","""The log configuration UI mentions """"Log4j Configuration"""" as the title.  This should be """"Log Configuration""""."""
"NEXUS-4702","Bug","Configuration",1,"4 files for logback configuration seem like overkill","""Currently has these files:    * logback-default.xml  * logback-events.xml  * logback.properties  * logback.xml    This is IMO way overkill to configure logging, which is essentially a very simple configuration.     I understand we want to retain the properties to cope with the simlpe 4 parameter Log Configuration panel, so that would be:    * logback.properties  * logback.xml    Why is this configuration so complicated?    Solution from kick off:  1.) Add DO NOT TOUCH messages to top of files (except the logback-nexus.xml which should tell users what to do.)  2.) Add good documentation to logback.xml to tell a user what to do to change the logging levels  3.) rename logback-default.xml to logback-nexus.xml (this is the one the users can edit)    """
"NEXUS-4701","Improvement","Capabilities",1,"Capability type needs a description in addition to the capability instance","""Currently capability has a dynamic """"description"""" which is generated for an instance configuration.  This is nice to document what the instance of the capability does, but we need some way to generically provide documentation/description/help information about what type of capability is.    When browsing the list of capabilities to add, there is no way except for the name currently to provide details to the user as to what the capability is, and often the name doesn't really provide enough detail to explain what its for.    CapabilityDescriptor should get description() field (or something) which can return the static multi-line content with rich details about the capability type (ie. not about created instances, like describe(Map) does.  """
"NEXUS-4709","Bug","Repository",2,"M1-M2 Shadow repository NFC can cause excessive network traffic","""The NFC for an M1-M2 shadow repository is 15 minutes.    If you have an M1-M2 shadow of an M2 proxy repository Nexus makes a remote network call through the M2 proxy repository every time this limit is reached.    Note that we ship with an M1-M2 shadow of maven central."""
"NEXUS-4708","Improvement","Capabilities",1,"Avoid empty ""Settings"" box for capability which has no configuration (ie. only lifecycle)","""Similar to """"status"""" only show when there is content, otherwise hide."""
"NEXUS-4707","Improvement","Capabilities",1,"Capability description should always get refreshed from component when loading","""Right now the capability description, which is auto generated, is stored in the configuration file.  If the capability code changes and the configuration is the same (ie. no need to reconfigure to trigger save) then the description can't update to reflect any changes.    Perhaps description asis now since its generated shouldn't be persisted at all?"""
"NEXUS-4706","Bug","Scheduled Tasks",3,"Synchronize Shadow Repository task can be applied to repository types other than shadow ( virtual ) repositories","""Create a Synchronize Shadow Repository. In the repository selection list, all repositories are shown - however this task only applies to Virtual/Shadow repositories.    Expected only the repository type that applies to this task to be listed.    *Clarification:* setting up the task against a repo that does not apply does no harm - those repos are just ignored."""
"NEXUS-4710","Improvement","Capabilities",3,"Add support to declare a global capability as a singleton","""Some capabilities can only be added once, need some way to configure this and prevent duplicates.    For this issue I'm only talking about global capabilities, per-repository singletons will eventually be required, so perhaps keep that in mind, but not required to implement the global singleton capabilities."""
"NEXUS-4712","Improvement","Capabilities",1,"Do not propagate undefined factory for a capability back to UI","""When a capability factory does not exist do not propagate the exception back to UI  """
"NEXUS-4722","Improvement","Capabilities",1,"Cancel of capability behaves oddly if selected more than one capability to view","""If you select a few capabilities, then click cancel, it takes you back to the previous capability you were looking at vs. back to """"select a capability view"""".  Seems a bit odd to me."""
"NEXUS-4724","Improvement","Capabilities",1,"Use alias for capabilities-list/data/... for CapabilityListItemResource","""    """
"NEXUS-4737","Improvement","Repository",1,"Add extra columns to the repository targets view","""There isn't enough information shown in the repository target table, trying to figure out what targets in the system might apply to a particular artifact involves clicking on each target in turn and looking at the regex's.    There's lots of space in the table, we should add columsn for the repository type and the pattern expressions.  Note that there won't always be enough room to display all of the pattern expressions, but it will still help a lot."""
"NEXUS-4754","Bug","Security|UI",1,"Generated ""All <type> Repositories View"" is empty if there are no repositories of that type ","""we should not validate read only roles.  This will hide the error, and it will appear as everything is working fine (which in this case it is)"""
"NEXUS-4927","Bug","Repository|UI",1,"When I try to add a new virtual repo wrong field is focused","""http://screencast.com/t/qhyGw9SH4EB    I just click repository add virtual repo  Source Nexus Repository ID got focus  When I go to the first field to start the form the validation error pops..."""
"NEXUS-4764","Bug","Repository",2,"Cannot rename file IOException when uploading duplicate GAV under load","""Was performing deploys using multiple threads (users) of the same set of release artifacts to a releases repo.     File locking seemed to fail avoiding IOException:        See attached wrapper.log for complete log where this happened twice"""
"NEXUS-4773","Bug","Browse Remote",1,"INFO log message from NettyAsyncHttpProvider on every click of remote repository browser tree node","""Every mouse click of the remote repository browser tree node in the UI prints one log line at INFO level. Here I expanded three nodes:        Why isn't this using httpclient? Why print this line at INFO. If it must stay, please explain the value of it in solving customer issues. At the least move the category log level to WARN by default."""
"NEXUS-4772","Improvement","Repository|UI",40,"Create Repository UI for each type of repository","""There are two options for this.  1.) Allow each repository type to contribute its own UI  2.) Create a generic descriptor used to generate a UI (e.g. like scheduled tasks, rules, etc)    The current UI is VERY tied to maven2 repositories, all other repository implementations hack around this fact."""
"NEXUS-4771","Bug","Capabilities|UI",1,"Delete capability confirmation dialog uses description of capability rather than capability type","""If a capability is created and then encounters a configuration error, the description will contain the word FAILED: followed by the class name of the exception.( see NXCM-3681 )  When trying to delete the capability you will be asked for confirmation with a message such as """"Delete the """"FAILED: java.lang.IllegalStateException"""" capability?""""  It would be more logical to use the capability type instead of description here, or neither of these.  See attached screenshot for an example of how this looks."""
"NEXUS-4770","Bug","Repository",2,"Attributes Upgrader logs duplicate stack trace when a file is not found and stops","""Noticed duplicate logging with stack of same problem at INFO and WARN by the background attributes upgrader task.    This in my Nexus logs after upgrading from 1.9.2 WAR file running in tomcat.        Would like to understand why it seemed to abort because of some missing file. And would also like to see only one log of this message at the correct log level if possible. I didn't notice the attributes upgrader ever try to rerun itself - is that expected? Can it be a little more forgiving?"""
"NEXUS-6385","Bug","Security",2,"Nexus Cookies do not specify port, resulting in cookies from myhostname:8081 are sent to myhostname:8082","""I tracked this down to cookies do not typically set the port.  So per RFC can be sent to a different server as long as the host name is the same.  http://stackoverflow.com/questions/1612177/are-http-cookies-port-specific      Setting the port in the cookie may cause other issues with browsers (and how does this play with firewalls and proxies)    One simple solution is to make the cookie name configurable.  If we ever switch to shiro-guice (which will remove a bunch of other code) we could easily inject/configure the cookie name.    Or if we are going to keep our boiler plate code, we could configure the cookie name in org.sonatype.nexus.security.NexusWebRealmSecurityManager.init() to call webSessionManager.setSessionIdCookie(...)      Original Setup:  {quote}  I started two nexus pro instances locally.    Nexus A - http://lcaolhost:8081/nexus - publisher  Nexus B - http://localhost:8082/nexus - subscriber    Established a Smart Proxy trust between A and B.    Created apache-snapshots-proxy repo on Nexus B proxied to Nexus A http://localhost:8081/nexus/content/repositories/apache-snapshots    Besides logging into the UI only a few times I noticed the following after a short while in the Nexus B logs:    {quote}  jvm 1    | 2012-01-19 15:45:22 INFO  [Thread-25      ] - org.apache.shiro.session.mgt.AbstractValidatingSessionManager - Validating all active sessions...  jvm 1    | 2012-01-19 15:45:22 INFO  [Thread-25      ] - org.apache.shiro.session.mgt.AbstractValidatingSessionManager - Finished session validation.  [274] sessions were stopped.  {quote}      Nexus A seemed to have 169 sessions cleaned up.    How is it that 274 sessions were created? Are these being created by smart proxy?  {quote}"""
"NEXUS-4782","Improvement","Build",1,"Add support for Jetty JMX into Nexus Bundle.","""We should allow people to turn on Jetty JMX support in the Nexus server.    Two changes needed:    1) Add org.eclipse.jetty:jetty-jmx:7.4.2.v20110526 into the <nexus-root>/lib directory  2) Provide a sample jetty.xml that shows how to enable it      jetty-jmx.xml has been attached, the new configuration is at the bottom.    Note:  This issue is for Nexus 2.0, which uses Jetty 7.4.2"""
"NEXUS-4783","Bug","Capabilities",1,"Capability lower display area heading should be cleared when ""Advanced"" button unchecked","""See attached image.  If you click to check the """"Show Advanced"""" button in the capabilities pane, selected an advanced item and then uncheck """"Show Advanced"""", the heading is not cleared."""
"NEXUS-4789","Bug","Repository",3,"""Remote storage settings change detected"" is being logged over and over on RSO","""The RSO logs are showing these messages a lot since we put the 2.0 build on it.  We need to investigate.    {quote}  2012-01-24 17:04:09 INFO  [oviders-1.3.pom] - org.sonatype.nexus.proxy.storage.remote.commonshttpclient.CommonsHttpClientRemoteStorage - Remote storage settings change detected for ProxyRepository ID=""""mc-repo"""" (""""mc-repo""""), updating HttpClient...  2012-01-24 17:04:09 INFO  [oviders-1.3.pom] - org.sonatype.nexus.proxy.storage.remote.commonshttpclient.CommonsHttpClientRemoteStorage - Remote storage settings change detected for ProxyRepository ID=""""spring"""" (""""Spring External""""), updating HttpClient...  2012-01-24 17:04:09 INFO  [-dao-1.1.28.jar] - org.sonatype.nexus.proxy.storage.remote.commonshttpclient.CommonsHttpClientRemoteStorage - Remote storage settings change detected for ProxyRepository ID=""""GWT-plugin-repo"""" (""""GWT Plugin Repo""""), updating HttpClient...  2012-01-24 17:04:09 WARN  [oviders-1.3.pom] - org.sonatype.nexus.proxy.storage.remote.commonshttpclient.CommonsHttpClientRemoteStorage - The proxy repository """"Spring External"""" (ID=spring) is backed by Amazon S3 service. This means that Nexus can't reliably detect the validity of your setup (baseUrl of proxy repository)!  2012-01-24 17:04:09 INFO  [oviders-1.3.pom] - org.sonatype.nexus.proxy.storage.remote.commonshttpclient.CommonsHttpClientRemoteStorage - Remote storage settings change detected for ProxyRepository ID=""""github-oss"""" (""""github (from oss)""""), updating HttpClient...  2012-01-24 17:04:10 INFO  [model-1.0.1.jar] - org.sonatype.nexus.proxy.storage.remote.commonshttpclient.CommonsHttpClientRemoteStorage - Remote storage settings change detected for ProxyRepository ID=""""eclipselink"""" (""""EclipseLink""""), updating HttpClient...  2012-01-24 17:04:10 ERROR [urces-1.5.8.jar] - org.sonatype.nexus.rest.repositories.RepositoryContentPlexusResource - Got exception during processing request """"HEAD http://repository.sonatype.org/service/local/repositories/central/content/org/slf4j/slf4j-api-sources/1.5.8/slf4j-api-sources-1.5.8.jar"""": Access denied on repository ID='central', path='/org/slf4j/slf4j-api-sources/1.5.8/slf4j-api-sources-1.5.8.jar', action='read'!  2012-01-24 17:04:10 ERROR [urces-1.5.8.jar] - org.sonatype.nexus.rest.repositories.RepositoryContentPlexusResource - Got exception during processing request """"HEAD http://repository.sonatype.org/service/local/repositories/jboss/content/org/slf4j/slf4j-api-sources/1.5.8/slf4j-api-sources-1.5.8.jar"""": Access denied on repository ID='jboss', path='/org/slf4j/slf4j-api-sources/1.5.8/slf4j-api-sources-1.5.8.jar', action='read'!  2012-01-24 17:04:10 INFO  [0.1-sources.jar] - org.sonatype.nexus.proxy.storage.remote.commonshttpclient.CommonsHttpClientRemoteStorage - Remote storage settings change detected for ProxyRepository ID=""""central-proxy"""" (""""Central Proxy""""), updating HttpClient...  2012-01-24 17:04:10 INFO  [0.1-sources.jar] - org.sonatype.nexus.proxy.storage.remote.commonshttpclient.CommonsHttpClientRemoteStorage - Remote storage settings change detected for ProxyRepository ID=""""atlassian"""" (""""Atlassian""""), updating HttpClient...  2012-01-24 17:04:10 INFO  [0.1-sources.jar] - org.sonatype.nexus.proxy.storage.remote.commonshttpclient.CommonsHttpClientRemoteStorage - Remote storage settings change detected for ProxyRepository ID=""""aduna"""" (""""Aduna Software""""), updating HttpClient...  2012-01-24 17:04:10 INFO  [-1.0.1.jar.sha1] - org.sonatype.nexus.proxy.storage.remote.commonshttpclient.CommonsHttpClientRemoteStorage - Remote storage settings change detected for ProxyRepository ID=""""apache-staging"""" (""""Apache Staging""""), updating HttpClient...  {quote}"""
"NEXUS-4788","Bug","Repository",1,"Log spam if someone proxies repositories from the /service rest endpoint","""Not sure how this happened, but someone is making a lot of GET requests RSO on the /service/local/repositories/<repoid> rest endpoint.    This isn't valid, but the in any case log message shouldn't be an ERROR, it should be DEBUG.    {quote}  2012-01-24 17:03:30 ERROR [adoc-2.3.15.jar] - org.sonatype.nexus.rest.repositories.RepositoryContentPlexusResource - Got exception during processing request """"HEAD http://repository.sonatype.org/service/local/repositories/central/content/freemarker/freemarker-javadoc/2.3.15/freemarker-javadoc-2.3.15.jar"""": Access denied on repository ID='central', path='/freemarker/freemarker-javadoc/2.3.15/freemarker-javadoc-2.3.15.jar', action='read'!  2012-01-24 17:03:30 ERROR [adoc-2.3.15.jar] - org.sonatype.nexus.rest.repositories.RepositoryContentPlexusResource - Got exception during processing request """"HEAD http://repository.sonatype.org/service/local/repositories/jboss/content/freemarker/freemarker-javadoc/2.3.15/freemarker-javadoc-2.3.15.jar"""": Access denied on repository ID='jboss', path='/freemarker/freemarker-javadoc/2.3.15/freemarker-javadoc-2.3.15.jar', action='read'!  2012-01-24 17:03:36 ERROR [i-1.5.8-ivy.xml] - org.sonatype.nexus.rest.repositories.RepositoryContentPlexusResource - Got exception during processing request """"HEAD http://repository.sonatype.org/service/local/repositories/central/content/org/slf4j/slf4j-api/1.5.8/slf4j-api-1.5.8-ivy.xml"""": Access denied on repository ID='central', path='/org/slf4j/slf4j-api/1.5.8/slf4j-api-1.5.8-ivy.xml', action='read'!  2012-01-24 17:03:36 ERROR [i-1.5.8-ivy.xml] - org.sonatype.nexus.rest.repositories.RepositoryContentPlexusResource - Got exception during processing request """"HEAD http://repository.sonatype.org/service/local/repositories/jboss/content/org/slf4j/slf4j-api/1.5.8/slf4j-api-1.5.8-ivy.xml"""": Access denied on repository ID='jboss', path='/org/slf4j/slf4j-api/1.5.8/slf4j-api-1.5.8-ivy.xml', action='read'!  2012-01-24 17:03:38 ERROR [4-1.1.0-ivy.xml] - org.sonatype.nexus.rest.repositories.RepositoryContentPlexusResource - Got exception during processing request """"HEAD http://repository.sonatype.org/service/local/repositories/central/content/org/jboss/javaee/jboss-jacc-api_JDK4/1.1.0/jboss-jacc-api_JDK4-1.1.0-ivy.xml"""": Access denied on repository ID='central', path='/org/jboss/javaee/jboss-jacc-api_JDK4/1.1.0/jboss-jacc-api_JDK4-1.1.0-ivy.xml', action='read'!  2012-01-24 17:03:38 ERROR [4-1.1.0-ivy.xml] - org.sonatype.nexus.rest.repositories.RepositoryContentPlexusResource - Got exception during processing request """"HEAD http://repository.sonatype.org/service/local/repositories/jboss/content/org/jboss/javaee/jboss-jacc-api_JDK4/1.1.0/jboss-jacc-api_JDK4-1.1.0-ivy.xml"""": Access denied on repository ID='jboss', path='/org/jboss/javaee/jboss-jacc-api_JDK4/1.1.0/jboss-jacc-api_JDK4-1.1.0-ivy.xml', action='read'!  2012-01-24 17:03:51 ERROR [t-1.5.8-ivy.xml] - org.sonatype.nexus.rest.repositories.RepositoryContentPlexusResource - Got exception during processing request """"HEAD http://repository.sonatype.org/service/local/repositories/central/content/org/slf4j/slf4j-parent/1.5.8/slf4j-parent-1.5.8-ivy.xml"""": Access denied on repository ID='central', path='/org/slf4j/slf4j-parent/1.5.8/slf4j-parent-1.5.8-ivy.xml', action='read'!  2012-01-24 17:03:51 ERROR [t-1.5.8-ivy.xml] - org.sonatype.nexus.rest.repositories.RepositoryContentPlexusResource - Got exception during processing request """"HEAD http://repository.sonatype.org/service/local/repositories/jboss/content/org/slf4j/slf4j-parent/1.5.8/slf4j-parent-1.5.8-ivy.xml"""": Access denied on repository ID='jboss', path='/org/slf4j/slf4j-parent/1.5.8/slf4j-parent-1.5.8-ivy.xml', action='read'!  2012-01-24 17:03:53 ERROR [t-1.6.5-ivy.xml] - org.sonatype.nexus.rest.repositories.RepositoryContentPlexusResource - Got exception during processing request """"HEAD http://repository.sonatype.org/service/local/repositories/central/content/ant/ant/1.6.5/ant-1.6.5-ivy.xml"""": Access denied on repository ID='central', path='/ant/ant/1.6.5/ant-1.6.5-ivy.xml', action='read'!  2012-01-24 17:03:53 ERROR [t-1.6.5-ivy.xml] - org.sonatype.nexus.rest.repositories.RepositoryContentPlexusResource - Got exception during processing request """"HEAD http://repository.sonatype.org/service/local/repositories/jboss/content/ant/ant/1.6.5/ant-1.6.5-ivy.xml"""": Access denied on repository ID='jboss', path='/ant/ant/1.6.5/ant-1.6.5-ivy.xml', action='read'!  {quote}"""
"NEXUS-4792","Improvement","Scheduled Tasks",3,"Extend task UI to allow for automatically scheduled system tasks.","""We have a use case where a task gets run periodically by the Nexus system.  We want the user to be able to disable, cancel or stop this task, but not change other aspects of it.    Currently there is no good way to accomplish this.  We need to make changes to the Nexus core to allow for this."""
"NEXUS-4794","Improvement","Capabilities",1,"Fix repository fields value","""Currently the UI is adding repo_ or group_ in front of repository id for repository type fields. This may be from the times when the two were separated but is no longer necessary and is actually unwanted as this wil require every capability to take extra care to encode/decode this value."""
"NEXUS-4799","Bug","Repository",1,"Attributes upgrade logs exception when it doesn't encounter README.txt","""Attributes upgrade blows up when README.txt isn't at root of old directory:    {quote}  jvm 1    | 2012-01-27 16:40:53 ERROR [host-1-thread-3] - org.sonatype.nexus.proxy.attributes.upgrade.DefaultAttributeUpgrader - Unable to perform file read from legacy attributes directory: /home/rseddon/test/nexus/nexus-professional-2.0-SNAPSHOT/./../sonatype-work/nexus/proxy/attributes  jvm 1    | java.io.FileNotFoundException: /home/rseddon/test/nexus/nexus-professional-2.0-SNAPSHOT/./../sonatype-work/nexus/proxy/attributes/README.txt (No such file or directory)  jvm 1    |  at java.io.FileInputStream.open(Native Method) ~[na:1.6.0_29]  jvm 1    |  at java.io.FileInputStream.<init>(FileInputStream.java:120) ~[na:1.6.0_29]  jvm 1    |  at org.codehaus.plexus.util.FileUtils.fileRead(FileUtils.java:383) ~[plexus-utils-2.1.jar:na]  jvm 1    |  at org.codehaus.plexus.util.FileUtils.fileRead(FileUtils.java:359) ~[plexus-utils-2.1.jar:na]  jvm 1    |  at org.sonatype.nexus.proxy.attributes.upgrade.DefaultAttributeUpgrader.isUpgradeDone(DefaultAttributeUpgrader.java:269) [nexus-proxy-2.0-SNAPSHOT.jar:na]  jvm 1    |  at org.sonatype.nexus.proxy.attributes.upgrade.DefaultAttributeUpgrader.isUpgradeFinished(DefaultAttributeUpgrader.java:136) [nexus-proxy-2.0-SNAPSHOT.jar:na]  jvm 1    |  at org.sonatype.nexus.proxy.attributes.upgrade.DefaultAttributeUpgrader.upgradeAttributes(DefaultAttributeUpgrader.java:221) [nexus-proxy-2.0-SNAPSHOT.jar:na]  jvm 1    |  at org.sonatype.nexus.proxy.attributes.upgrade.DefaultAttributeUpgrader.upgradeAttributes(DefaultAttributeUpgrader.java:202) [nexus-proxy-2.0-SNAPSHOT.jar:na]  jvm 1    |  at org.sonatype.nexus.proxy.attributes.upgrade.AttributesUpgradeEventInspector.inspect(AttributesUpgradeEventInspector.java:47) [nexus-proxy-2.0-SNAPSHOT.jar:na]  jvm 1    |  at org.sonatype.nexus.events.DefaultEventInspectorHost$EventInspectorHandler.run(DefaultEventInspectorHost.java:164) [nexus-app-2.0-SNAPSHOT.jar:na]  jvm 1    |  at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886) [na:1.6.0_29]  jvm 1    |  at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908) [na:1.6.0_29]  jvm 1    |  at java.lang.Thread.run(Thread.java:662) [na:1.6.0_29]  {quote}"""
"NEXUS-4796","Bug","UI",3,"Form values are HTML encoded multiple times on save","""The REST layer encodes special characters in message payload as HTML entities as a means to protect the UI from XSS attacks.  The encoded values are rendered ok, but configuration pages send the literal (still encoded with html entities) values by default.  These values will be encoded again.    ||Location||First save||Second Save||Third Save||  |Form Field||||  |Value returned via REST||||  |Displayed in other UI||||    See attached video.    This is already fixed in some places (Repository Name, generated fields like parts of the task and capabilities configuration, custom metadata grid).  See the htmlDecode configuration for Ext.form.TextField. Consider making that true by default.  """
"NEXUS-4801","Bug","Repository",1,"Proxy attributes in virtual repositories don't get upgraded","""After upgrading from 1.9.2.4 to 2.0 the proxy/attributes in my central-m1 shadow repository were not upgraded.    """
"NEXUS-4807","Bug","Repository",1,"Repositories on removal from System does not get unregistered from Plexus container ","""Repositories on removal from System does not get unregistered from Plexus container.    This is causing """"slow leak"""" (a proper leak, but grows slowly), since all the created and dropped repositories are actually kept pinned in memory and in plexus, queued for potential """"lifecycle management"""".    Think any use cases, where repositories are created and dropped at fast pace (ie. staging)."""
"NEXUS-4804","Bug","Repository",1,"Unable to deploy a project to m1 hosted repository","""While testing NXCM-3145 I tried to deploy a project to m1 hosted repository and got the following error:      Out of curiosity I changed the layout to RELEASE and then nothing was deployable:      So it looks like the problem only occur with SNAPSHOT artifact WITH classifier."""
"NEXUS-4803","Bug","UI",1,"Tabs on repository panel do not scroll","""The upper tab pane ('Welcome', 'Repositories', ...) will offer scroll buttons, but the repository tab pane is just out of reach."""
"NEXUS-4815","Improvement","UI",1,"Minor recommended changes to logging configuration UI","""See attached image"""
"NEXUS-6397","Bug","UI",1,"Regression: Error dialog for bad metadata search value is formatted poorly and has bad link","""Enter         as the search term for the key and value fields in metadata search.    You get an ugly error dialog in 2.0    In 1.9.2.4, the error dialog is less ugly although the error message could be improved to be less technical.    The 'home page'  link in the error dialog is broken. ( 404)  """
"NEXUS-6450","Bug","Staging",2,"Staging promotions puts the staging group into target group but does not remove previously put members of staging group from target group","""Started off from NEXUS-4845    The reason why we have cycle, is a bug in staging plugin: when a staging repository is closed, apparently it is put into """"target"""" group. But, if you promote it -- it is implemented as a group internally in nexus -- the group is put also into """"target"""" group.    Hence, the initial staging repository is put twice into """"target"""" group.    Proposed fix: either remove initially put staging repository from """"target"""" group before putting in promoted group, or simply do not put the promotion group into """"target"""" group, since all the members are already put into """"target"""" group."""
"NEXUS-4854","Bug","Search",2,"Information Panels vanish from UI when clicking on SNAPSHOT with classifier","""http://screencast.com/t/qXs4oRPcrp5v    <hanzelm> can anyone confirm: selecting nexus-maven-plugin-2.1-SNAPSHOT-site.xml breaks information tab on the right https://repository.sonatype.org/index.html#nexus-search;gav~org.sonatype.plugins~nexus-maven-plugin~~~~kw,versionexpand    """
"NEXUS-4853","Bug","Scheduled Tasks",2,"Weekly tasks show next run as today","""I created a task scheduled to run WEEKLY on monday, but UI shows next run as being friday.  http://screencast.com/t/IVWTU6C7"""
"NEXUS-4862","Bug","Scheduled Tasks",1,"Snapshot remover task should not stop if it encounters a zero length file","""Zero length files will get created in the storage area if a user runs out of disk space, or file handles.    The snapshot remover should not stop processing if it encounters these.    As a matter of fact, a strong argument can be made that it should just remove them.      """
"NEXUS-4872","Improvement","Build",1,"Add an example jetty.xml which shows how to configure access logging.","""We should add an example jetty.xml into <nexus_root>/conf/examples"""" which shows how to enable access logging.    I've attached the file which needs to be included."""
"NEXUS-4870","Bug","Transport",1,"NonProxyHosts broken for HttpClient 4 remote storage","""Set global proxy to something but don't start a proxy. With nexus.codehaus.org as a non-proxy host, httpclient3 remote storage is able to use the repo. httpclient4 breaks.    {code}    <globalHttpProxySettings>      <proxyHostname>localhost</proxyHostname>      <proxyPort>8888</proxyPort>      <nonProxyHosts>        <nonProxyHost>nexus.codehaus.org</nonProxyHost>      </nonProxyHosts>    </globalHttpProxySettings>  {code}    """
"NEXUS-4875","Bug","UI",2,"Search error message disappears when Repository panel queries 'repository_statuses' resource","""Nexus is set up with a proxy on localhost, but the port is closed. When the 'Repositories' panel is open, it queries a REST resource every few seconds (autoblock status or sth?).    That causes an """"invalid search query"""" message on the search panel to disappear.    See attached video."""
"NEXUS-4880","Bug","Repository|UI",1,"Artifact paths with special characters cannot be found or deleted from UI Browse local storage","""# in your local hosted releases repo create the following paths:  {{mkdir 'sonatype-work/nexus/storage/releases/>foo'}}  {{mkdir 'sonatype-work/nexus/storage/releases/&foo'}}  {{mkdir 'sonatype-work/nexus/storage/releases/%foo'}}  {{mkdir 'sonatype-work/nexus/storage/releases/\{foo'}}  # start Nexus if you haven't already. Login as admin. Browse releases repo local storage. You should see the file paths above.  # right click on each one and select delete and click Ok to confirm.   Result '&foo' can be deleted, the others cannot.  Expected any path shown in UI to be deleted and/or looked up from UI upon request.  # Also notice the '(Not Found)' text appended to tree paths when selected in the tree.    See attached video for overview.    1.9.2.4 behaved slightly different, finding more paths, but also returning server error for the one with percent sign, where 2.0 simply says Not Found.          """
"NEXUS-4879","Bug","LDAP",1,"nexus ldap plugin should run tests use JUnit 4 runner instead of JUnit38ClassRunner","""I tried adding a unit test to org.sonatype.security.ldap.dao.LdapGroupDAOTest in ldap-common module.    Since all the unit test methods are using Junit 4x annotations I assumed these were being used to run the tests. It turns out that this is not forced ( it used to be afaik ) and instead Junit delegates to org.junit.internal.runners.JUnit38ClassRunner instead since in above case depends on AbstractLdapTestEnvironment from https://github.com/sonatype/sisu-ldap-testsuite/tree/plexus-ldap-testsuite-1.4 which extends PlexusTestCase which finally extends Junit 3x TestCase. Surefire decides that Junit 3 runer must be used then.    This leads to confusion in writing additional tests and who knows if some test methods are not being run because they are not named properly.    {quote}  -------------------------------------------------------------------------------  Test set: org.sonatype.security.ldap.dao.LdapGroupDAOTest  -------------------------------------------------------------------------------  Tests run: 3, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 2.803 sec <<< FAILURE!  testUsingInvalidGroupMemberFormat(org.sonatype.security.ldap.dao.LdapGroupDAOTest)  Time elapsed: 0.768 sec  <<< ERROR!  org.sonatype.security.ldap.dao.NoLdapUserRolesFoundException: No roles found for user: cstamas          at org.sonatype.security.ldap.dao.DefaultLdapGroupDAO.getGroupMembership(DefaultLdapGroupDAO.java:86)          at org.sonatype.security.ldap.dao.LdapGroupDAOTest.doTestWithGroupMemberFormat(LdapGroupDAOTest.java:79)          at org.sonatype.security.ldap.dao.LdapGroupDAOTest.testUsingInvalidGroupMemberFormat(LdapGroupDAOTest.java:48)          at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)          at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)          at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)          at java.lang.reflect.Method.invoke(Method.java:597)          at junit.framework.TestCase.runTest(TestCase.java:168)          at junit.framework.TestCase.runBare(TestCase.java:134)          at junit.framework.TestResult$1.protect(TestResult.java:110)          at junit.framework.TestResult.runProtected(TestResult.java:128)          at junit.framework.TestResult.run(TestResult.java:113)          at junit.framework.TestCase.run(TestCase.java:124)          at junit.framework.TestSuite.runTest(TestSuite.java:243)          at junit.framework.TestSuite.run(TestSuite.java:238)          *at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:83)*          at org.apache.maven.surefire.junit4.JUnit4TestSet.execute(JUnit4TestSet.java:53)          at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:123)          at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:104)          at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)          at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)          at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)          at java.lang.reflect.Method.invoke(Method.java:597)          at org.apache.maven.surefire.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:164)          at org.apache.maven.surefire.booter.ProviderFactory$ProviderProxy.invoke(ProviderFactory.java:110)  {quote}"""
"NEXUS-4897","Bug","Search|UI",1,"Bookmarking search does not work for some (illegal?) values","""Some search queries like '!@#$%^&*()_+}{[]|\/?><' cause a js error in the indexer plugin code for the URL bookmarks, causing bookmarked URLs like http://localhost:8081/nexus/index.html#nexus-search;quick~!@#$%^&*%28%29_+}{[]|\/?%3E%3C to not issue a search request at all.      """
"NEXUS-4907","Improvement","UI",1,"Staging upload GUI does not allow sufficient room for displaying uploaded artifacts","""The """"Artifacts"""" box on the """"Staging Upload"""" screen is far too small for many use cases, and cannot be resized.    It should be wider, and the user should be able to make it longer."""
"NEXUS-4906","Improvement","Repository|UI",1,"Nexus creates useless hashes for uploaded sig files","""Recently used Nexus 2.0 to upload a pom, as well as several artefacts, and also the signature (.asc) files for each.    Nexus created hashes for everything, including the .asc (signature) files.    Such hashes are useless, and just get in the way when trying to check that all the required files have been uploaded."""
"NEXUS-4905","Bug","System Feeds",1,"Files not ending in ""pom"" or ""jar"" don't show up in ""new cached files"" system feed","""Files which don't end in """"pom"""" or """"jar"""" don't get recorded in system feeds which record file changes."""
"NEXUS-4910","Bug","Security",1,"Role ""Repo: All  Repositories (View)"" has no privileges assigned","""The built-in role """"Repo: All  Repositories (View)"""" should have the privilege """"All Repositories - (view)."""" See attached screenshot."""
"NEXUS-4918","Bug","Repository",1,"Nexus is generating invalid maven-metadata.xml at GA level","""<velo> bentmann, http://screencast.com/t/Dp4QzP1Vn  <velo> bentmann, so, right side metadata.xml is generated by nexus  <velo> bentmann, I just wanna you confirm to me it is invalid  <bentmann> velo: no, this is GA-level metadata which never mentions timestamped snapshots  <bentmann> GA-level metadata only uses the generic -SNASPHOT suffix, resolution of that to a timestamp is job of the GAV-level metadata  <velo> bentmann, thanks, I'm gonna fix this one nexus  <bentmann> the presence of latest/release should be fine, although latest is normally only seen in plugin metadata  """
"NEXUS-4920","Bug","Repository|Transport",3,"Nexus should have item retrieval using only the canonical source","""Even requests for nexus metadata like """"/.meta/repository-metadata.xml"""" are relayed to mirrors if it is not found in the main proxy.  Could be fixed by introducing an 'canonicalOnly' flag like 'local/remoteOnly'.    {quote}  cstamas: That is the real one, reason is this class [NexusRawTransport|https://github.com/sonatype/nexus/blob/master/nexus/nexus-app/src/main/java/org/sonatype/nexus/repositories/metadata/NexusRawTransport.java] that delegates to actual repository.  {quote}"""
"NEXUS-4932","Bug","Configuration",1,"Update Nexus configuration version","""nexus.xml version is 2.0.0, nexus version is 2.1-SNAPSHOT."""
"NEXUS-4939","Bug","Repository",5,"DefaultMetadataUpdater.undeployArtifact() does not remove metadata.","""I am writing a plugin that prunes old release candidate builds from a repository. I am using ArifactStoreHelper.deleteArtifact(..., true, true, true), and things are mostly successful. Ultimately this method calls DefaultMetadataUpdater.undeployArtifact(), and I've found a few problems with this and related methods.    First, undeployArtifact() seems to use add operations instead of remove operations (maybe C&P from deployArtifact()?) for the GA and G metadata. I initially attempted to make a fix for this by using remove operations, but this led to a few additional issues.    For the GA metadata, RemoveVersionOperation.perform() correctly removes the version from the versions collection, but there are some additional cases that aren't handled: 1) the version removed was the latest, 2) the version removed was the only version.    I found this issue in 1.9.2.4, but I've also looked at code on the master branch and it seems to be the same.    One additional question: is ArifactStoreHelper.deleteArtifact() the right API to use for deleting a GAV?  """
"NEXUS-4938","Bug","REST",1,"Extend ReferenceFactory with a new method: createThisReference","""Extend ReferenceFactory with a new method: createThisReference(Request)    This new method would, similarly to existing createChildReference(Request, child) create a reference (obeying force URL etc) to """"this""""."""
"NEXUS-4955","Bug","Repository",1,"FSPeer wrongly assumes target.getName is always a good candidate for tmp file creation","""FSPeer wrongly assumes target.getName is always a good candidate for tmp file creation.  This might not always be true (especially for non-maven layouted repositories, but even Maven layouted ones might contain such files, made by some custom Nexus plugin or external tooling).  The code in question is here: https://github.com/sonatype/nexus/blob/982f62b530768e490cf83c916d3aa2692d38ede2/nexus/nexus-proxy/src/main/java/org/sonatype/nexus/proxy/storage/local/fs/DefaultFSPeer.java#L316 """
"NEXUS-4957","Bug","REST|UI",1,"When setting ""Publish URL"" to false, prevent repo Summary tab from displaying 'undefined' distribution management section","""If you set the *Publish URL* repository setting to *False* then when you refresh the grid, under the column *Repository Path* it renders a link named *undefined* and url *http://<host>/nexus/undefined*    Also, if the type of the repository is *Hosted* then under the *Summary* tab on the section *Distribution Management* it shows *<url>undefined</url>*    I attached a screenshot. See the red squares.    I traced the REST calls I detected that when if True the response JSON data contains the field """"data.contentResourceURI"""" with the correct url, but when it is False this field doesn't exists in the response JSON. So I think the undefined showed comes from a Javascript variable concatenation that doesn't exists.    Also this behavior is the opposite of NEXUS-3574 and maybe could be the cause of NEXUS-4064 (which still happens in 2.0.2)"""
"NEXUS-4976","Bug","UI",1,"Revert: Link to nexus book logging section in the logger UI","""Really would be nice to give user some info on this tab to explain how to further configure nexus logging. Even something pointing to an updated section of http://www.sonatype.com/books/nexus-book/reference/confignx-sect-log.html .    {quote}More information on how to configure logging can be found [here|http://www.sonatype.com/books/nexus-book/reference/confignx-sect-log.html].  {quote}  """
"NEXUS-4997","Bug","UI",1,"SMTP config panel uses ""SSL"" and ""TLS"" incorrectly","""""""SSL enabled"""" and """"TLS enabled"""" don't do what they say.  SSL and TLS are slight variations of basically the same authentication/privacy protocol.  What the checkboxes actually enable are:    o  (""""SSL"""") Start an SSL/TLS session (probably on alternate SMTP port 465) and then start an SMTP session inside it.  This is sometimes referred to as SSMTP.  o  (""""TLS"""") Start a plaintext SMTP session (probably on port 25) and then attempt upward negotiation to encrypted by issuing a STARTTLS verb, to start an SSL/TLS session inside the SMTP session.    May I suggest labelling these something like """"enable Secure SMTP"""" and """"enable STARTTLS negotiation"""", and enhancing the tip texts to explain more fully.  (Aside:  the current tip texts essentially just repeat the field labels and add nothing to one's understanding).    Actually, come to think of it, this really should be a single three-state field:  plain SMTP, SMTP-in-TLS, STARTTLS.  It makes no sense to use SSMTP and STARTTLS independently."""
"NEXUS-4996","Bug","UI",1,"Uppercase in email domain rejected as ""invalid""","""Testing SMTP setup using my own address, which I habitually enter in mixed case (mwood@IUPUI.Edu) kept giving me an """"invalid address"""" dialog.  It's certainly not invalid -- an RFC2822 address can contain uppercase letters.  Eventually I found SmtpSettingsValidationPlexusResource.EMAIL_PATTERN which contains only a lowercase range in the final character-class brackets.  Simplest way to prevent user surprise is probably to change [a-z] to [a-zA-Z].  (Now that many more TLDs are to be created, it may only be a matter of time before it has to be [a-zA-Z0-9].)"""
"NEXUS-5031","Improvement","Security",1,"Upgrade to latest Jetty 7.x to solve known denial of service security vulnerabilities","""  Upgrading to latest Jetty 7 would eliminate these vulnerabilities.      """
"NEXUS-5065","Improvement","P2",1,"Block access to P2 aggregated repository when capability is disabled","""When a P2 aggregator capability is disabled the P2 metadata (.meta/p2) should not be accessible (404)."""
"NEXUS-5094","Improvement","Scheduled Tasks",2,"Purging snapshot task should take into account classifier","""We deploy multiple classifiers and it would be helpful if the purging task would recognize the artifact's classifier and keep a minimum number of copies of those.    """
"NEXUS-5103","Bug","P2",2,"Snapshots are not correctly published in P2","""The .meta/p2/artifacts.xml references wrong version of snapshot artifact if there are more than one snapshot per artifact. Basically it references the first found snapshot instead of the latest one.    For example, we have an artifact com.test-osgi version 1.0.0-SNAPSHOT and  at least 2 snapshots: one from 20120615 and the latest from 20120619.  Looking into .meta/p2/plugins/com.test-osgi_1.0.0.SNAPSHOT.jar we see that there is a proper reference to the latest snapshot:  LINK to snapshots:/com/1.0.0-SNAPSHOT/test-osgi-1.0.0-20120619.082428-7.jar    but .meta/p2/artifacts.xml still includes the oldest available:    <artifact classifier='osgi.bundle' id='com.test-osgi' version='1.0.0.SNAPSHOT'>  <properties size='4'>    <property name='artifact.size' value='2011110'/>    <property name='download.size' value='2011110'/>    <property name='download.md5' value='03e3c736168585ea944d32e004b37138'/>    <property name='repositoryPath' value='com\test-osgi-1.0.0-20120615.072346-3.jar'/>  </properties>  </artifact>      """
"NEXUS-6379","Improvement","NuGet",1,"Code housekeeping: make sure all NuGet DB problems are logged","""Not all operations are logged on failure"""
"NEXUS-5112","Bug","P2",5,"P2 Proxy repository keeps huge linked hash map in memory","""P2 Proxy repository keeps huge linked hash map in memory. With one P2 proxy for Indigo site, it consumes 1/4th of total heap.    By using MAT, it seems it contains all the mappings for the artifacts in memory? Does it mean that Nexus P2 proxy repository memory needs raises with _size of the proxied repository_? Seems wrong."""
"NEXUS-5173","Improvement","Capabilities",0,"Fix CompositeCapability","""CompositeCapability is missing some parts as:    # Combine status from all member capabilities  # Combine description from all member capabilities  # Create an AND between all activation conditions  # Create an AND between all validity conditions"""
"NEXUS-5300","Bug","LDAP",5,"LDAP group search should use paged result sets","""When attempting to retrieve the list of users associated with a group Nexus will issue the following query if the LDAP server uses dynamic group mapping:        This can return a very large result set.  Nexus isn't currently using paged result sets, so this can result in an OOM, or in the server truncating the result set:    [DefaultLdapGroupDAO.java|https://github.com/sonatype/nexus/blob/master/nexus/nexus-core-plugins/nexus-ldap-plugin-parent/ldap-common/src/main/java/org/sonatype/security/ldap/dao/DefaultLdapGroupDAO.java#L258]    We should be using a paged result set, as shown here:    http://docs.oracle.com/javase/7/docs/api/javax/naming/ldap/PagedResultsControl.html    """
"NEXUS-5403","Bug","LDAP|Security|UI",0,"LDAP Roles show a realm of ""Nexus"" when they should be LDAP","""When adding an LDAP group as a Role, it still shows a realm of """"Nexus"""". We think this may be a display issue because security still functions correctly."""
"NEXUS-5402","Bug","Browse Remote",0,"User able to see all contents of host when browsing remote through proxy","""Hello Nexus Support Team,    We have deployed one Nexus """"host"""" with multiple """"proxies"""" in other locations. We have identified an issue in which a user, who is Browsing Storage of a repo on the host, is only able to see contents based on that user's defined roles (i.e. the user can only see data underneath their Repository Targets, as expected). However, when the same user goes to a Nexus Proxy and uses the """"Browse Remote Storage"""" feature, they are able to see all contents of the host. Is this a bug or by design? Basically, we were expecting the same level of permissions on the host (using Browse Storage) to also apply on the proxy (using Browse Remote Storage) so that users are unable to see contents they shouldn't have access to."""
"NEXUS-5409","Improvement","Capabilities",5,"Make easy to implement a capability","""Make possible to implement capabilities just by having annotations on class/properties. This will cover most of the use cases.   For more complex implementations, one should still be able to use the current way of implementing capabilities"""
"NEXUS-5408","Improvement","Capabilities",3,"Multi selection lists field type","""Add new type of property that will allow multi-selection from a list"""
"NEXUS-5406","Improvement","Capabilities",2,"[capabilities] Dynamic source for selections for combos","""Dynamic source for selections = be able to define that the source for a combo or (multi)selection lists.     The field definition will have an ID or rest path to be called to get the list to be displayed. On server side there should be a rest resource that will respond with a generic list of key/value pairs.  Once this is done also the js of capabilities and tasks can be simplified by removing the internal hardcoded repositories combo handling.  Advantages are that specific lists can be done for example to only select proxy repositories/groups/...    We should consider also including some eventual filter beside of type so we do not have to define multiple sources when they return same kind of data just filtered as for example the repositories groups/proxy example.    In case of yum capabilities this will allow selection of """"Repository targets"""" to be included in views concept.  In case of SP plugin this could be used to allow only proxies for Subscribe capability or select the format of File Sink."""
"NEXUS-5405","Bug","Yum",1,"Group Yum metadata not regenerated when a member proxy repository metadata changes","""When yum metadata changes in a proxy repository (new files retrieved), that is included in a yum enabled group, the metadata for group is not regenerated"""
"NEXUS-5484","Bug","P2",1,"P2 Metadata not generating for public group","""I set up three M2 repositories for hosting p2 artifacts (snapshot, release, third-party). I added these three repositories to an M2 group. I then configured the P2 Metadata Generator and P2 Repository Aggregation plugins to point to the group.    The p2 repository config files (artifacts.xml and content.xml) are present in .meta/p2, but they do not contain any actual information. I've attached the generated output.    If I change the Nexus plugins to point to just one of the repositories directly, the metadata for that repository seems to be generated correctly. I also tried using a P2 group, but that produced the same results.    Let me know if I can provide more information. Thanks."""
"NEXUS-5514","Bug","Configuration|Repository|UI",0,"Nexus does not strip trailing spaces from URL's in proxy repository configuration","""Nexus does not strip trailing spaces from remote URL's in proxy repository configuration.    Not sure if this is a regression or not."""
"NEXUS-5515","Bug","Configuration",2,"Nexus upgrade does not properly back up changed configuration files.","""Start with a sonatype-work directory created with Nexus 2.1.2, and then upgrade it to 2.3.0-04.    Two problems emerge.    First, nexus.xml.bak contains:    {code:XML}    <version>2.2.0</version>    <nexusVersion>2.3.0-04</nexusVersion>      Second, logback-events.xml was changed, but logback-events.xml.bak was not created.    So a user cannot role back to the previous release without manually editing two files.    """
"NEXUS-5557","Improvement","UI",5,"Use logging framework for js","""console implementations are pretty broken on some browser. UI should use a logging framework like e.g. http://log4javascript.org to have reliable logging in place.    Bonus: log4javascript would be able to log remotely to Nexus backend"""
"NEXUS-5635","Improvement","Capabilities",0,"Capabilities icon column showing ""..."" on IE","""Looks like extjs is rendering """"..."""" for the icon column on IE due to it thinking there is not enough room for the entire content.    Should increase the column width slightly to avoid this."""
"NEXUS-5674","Bug","Security",3,"Disabled security not happy with shiro annotations","""Cannot access shiro protected jersey resources when security is disabled."""
"NEXUS-5681","Bug","REST",1,"REST API documentation for /repositories/{repositoryID}/content is missing","""There isn't any documentation for the """"/repositories/{repositoryID}/content"""" rest endpoint."""
"NEXUS-5724","Improvement","Scheduled Tasks",2,"Add repository target setting to snapshot remover","""For organizations that make heavy use of repository partitioning using repository targets it can be desirable to have different snapshot removal policies for these partitions.    We should add a repository target to the snapshot removal task's configuration."""
"NEXUS-5800","Improvement","Build",2,"migrate nexus-yum-plugin to nexus-oss repo","""nexus-yum-plugin should be moved to nexus-oss git repo for build simplicity.    After a brief discussion with Jason Dillon, it looks like the following need to happen:    1) Make any unit tests no depend on any external cmd line tools. If the tests require repotool, then convert to ITs.  2) Move into nexus-oss, but also change the GA of the plugin to match rest of Nexus oss plugins. Also change the version to match nexus-oss version   3) Update nexus-oss bamboo.zion jobs to make sure that ITs for this plugin can run on the appropriate agents with required cmd line tool    """
"NEXUS-5803","Bug","UI",1,"RequireJS Load timeout for modules on ""slow"" ISP","""Using Nexus 2.5.1-01, RequireJS timed out due to """"slow"""" ISP.        Our ISP in Indonesia is probably slow by US/EU standards, and bad latency. We're accustomed to waiting minutes for a complex page to load but this depends that the browser/scripts won't give up first. RequireJS should be configured by default to have higher timeout value."""
"NEXUS-5825","Improvement","Scheduled Tasks",2,"Remove Releases by Time","""The """"Remove Releases from Repository"""" Scheduled Task only lets you choose the minimum number of GA releases to keep.  It would be nice to be able to apply an age filter as well, to keep all GA releases newer than some age (eg 6months), even it the number of releases within that age exceeds that number.    This is similar to the """"Remove Snapshots from Repository"""", and I hope that sharing the code for those options between the tasks would not be a difficult thing to add to Nexus."""
"NEXUS-5832","Bug","Repository",1,"File content validation for XML files fails if file only contains whitepace","""Something strange is going on with this server, it is full of artifacts like this one that contain nothing but 99 spaces:    http://repo-demo.jfrog.org/artifactory/simple/repo1-cache/com/disney/pubsys/gopublish/cms/cms/6.4.3.0002/cms-6.4.3.0002.jar    Unfortunately this is proxied by grails:    http://repo.grails.org/grails/core/    And if Nexus has a proxy of either of these it starts to store the invalid files as artifacts.    We should modify file content validation.  If a file is a candidate for validation we should first pass it through String.strip().  If the result is zero length we should reject it.    """
"NEXUS-5830","Bug","Security|Transport",1,"/service/local/status resource creates http sessions","""Starting in Nexus 2.1, authenticated requests to /service/local/status are creating http sessions, even despite a user agent that should not create sessions:    {noformat:title=Nexus 2.1}  > for i in {1..2}; do curl -u admin:admin123 http://localhost:2100/nexus/service/local/status -I -H """"User-Agent: curl/""""; done  HTTP/1.1 200 OK  Date: Fri, 16 Aug 2013 14:32:23 GMT  Set-Cookie: JSESSIONID=64b626d9-5cd4-490b-bdfc-d22221b19191; Path=/nexus; HttpOnly  Set-Cookie: rememberMe=deleteMe; Path=/nexus; Max-Age=0; Expires=Thu, 15-Aug-2013 14:32:23 GMT  Content-Type: application/xml; charset=UTF-8  Date: Fri, 16 Aug 2013 14:32:23 GMT  Vary: Accept-Charset, Accept-Encoding, Accept-Language, Accept  Server: Noelios-Restlet-Engine/1.1.6-SONATYPE-5348-V4  Content-Length: 10983    HTTP/1.1 200 OK  Date: Fri, 16 Aug 2013 14:32:24 GMT  Set-Cookie: JSESSIONID=bb59fe42-0019-4583-b1ba-ea81f0948fd7; Path=/nexus; HttpOnly  Set-Cookie: rememberMe=deleteMe; Path=/nexus; Max-Age=0; Expires=Thu, 15-Aug-2013 14:32:24 GMT  Content-Type: application/xml; charset=UTF-8  Date: Fri, 16 Aug 2013 14:32:24 GMT  Vary: Accept-Charset, Accept-Encoding, Accept-Language, Accept  Server: Noelios-Restlet-Engine/1.1.6-SONATYPE-5348-V4  Content-Length: 10983      There is a cookie IT that apparently does not check for this specific condition because it has been passing:    testsuite/legacy-testsuite/src/test/java/org/sonatype/nexus/testsuite/security/nexus4257/Nexus4257CookieVerificationIT.java    Also I can no longer find anywhere in code where specific user agents strings are checked in order to decide if a session should be created.    NexusApplication.java adds some """"noSessionCreation"""" filter bits, but it is not entirely obvious how all this works.        """
"NEXUS-5839","Bug","Search",5,"scanning empty central repo to build an index takes unusually long time","""Start Nexus, Download central index. At the end of the download, a scan is performed of storage to create local merged index.    What I don't understand is why it takes 23 seconds to scan nothing?      """
"NEXUS-5838","Bug","Browse Remote",1,"Repositories -> Browse Remote uses wrong URL on remote and gets HTTP/404","""Repositories -> Browse Remote uses wrong URL on remote and gets HTTP/404    I did some debugging with 'tcpdump' network packet checker to see why Remote Browse did not work when it works in Firefox.    The prefix that is configured into the remote repo URL is emitted twice:    Nexus config: Remote Storage Location => """"http://maven.repository.redhat.com/techpreview/all/""""    Actual URL in HTTP request from Nexus 2.6.1-02 is:    GET /techpreview/all//techpreview/all/?delimiter=/ HTTP/1.1    The Server then responds with HTTP/404 Not Found."""
"NEXUS-5840","Bug","LDAP",1,"DN values containing "","" (comma) can result in improperly escaped LDAP filters","""Simple concatenation filter values in getGroupMembershipFromGroups method create invalid filter when DN contains escaped characters.  Attached patch resolve this issue.  I can not create tests to demonstrate this issue and working patch because ApacheDS version 1.5.4 used in IT tests also  works incorrect with escaped DN values in attributes   (see https://issues.apache.org/jira/browse/DIRSERVER-1311)."""
"NEXUS-5842","Bug","Yum",2,"Yum Generate Metadata Task does not expose newly deployed RPMs after first metadata generation","""1) Create yum-hosted repo  2) Create yum-proxy of yum-hosted  3) Deploy test-artifact rpm to Hosted  4) Generate Yum Metadata on Hosted using scheduled task  5) Notice sonatype-work/tmp/nexus-yum-plugin/.cache-yum-hosted/.packageFiles/yum-hosted.txt contains the test-artifact rpm    ----    1) Manually Update prefixes.txt/automatic routing file for yum-proxy  2) Download test-artifact rpm from Proxy  3) Generate Yum Metadata on Proxy using scheduled task  4) Notice sonatype-work/tmp/nexus-yum-plugin/.cache-yum-proxy/.packageFiles/yum-proxy.txt contains the test-artifact rpm    ----    1) Deploy test-rpm rpm to Hosted  2) Manually Update prefixes.txt/automatic routing file for yum-proxy  3) Download test-rpm rpm from yum-proxy  4) Generate Yum Metadata for yum-proxy    ----    1) Generate Yum Metadata for yum-hosted  ----    Problem: Notice the yum metadata cache for proxy does not include the new test-rpm it only includes the test-artifact rpm    Expected: The second run of generate metadata on proxy should expose metadata for newly downloaded artifacts    Could the reuse of the {{--pkglist}} option prevent the inclusion of the new artifacts?  """
"NEXUS-5854","Bug","UI",1,"Role ID field should not appear editable after save of External Role Mapping","""Add External Role Mapping for crowd  1) Create Mapping  2) Before the mapping is saved, Role ID field is greyed out ( non-edtable ) as expected  3) Save Mapping  4) Role ID field is no longer greyed out, yet still is not editable.    Expected: Role ID filed to remain greyed out."""
"NEXUS-6384","Improvement","Crowd",2,"Allow configuring Crowd HTTP client with specific HTTP connection retry count","""Crowd connection may have its own retry characteristics, similar to how proxy repos may have.    The Crowd configuration should expose customizing this value, like it does connection timeout. Otherwise it will pick up the global server retry value default of 3."""
"NEXUS-5860","Improvement","Security",3,"add a log line that prints all the permissions a subject has per request","""There are various loggers that will print what permissions are needed to access a particular Nexus resource while a request is being processed.    Problem is I can find no logger that prints all the permissions ( roles/privs ) a specific authenticated principal user has.    Therefore when debugging security problems in Nexus, you effectively only have one side of equation to go by. This often leads to a bunny trail figuring out what to give a Nexus user so they can access a resource.    Please print in one line, all the permissions a requests principal has, unless there is some performance reason this cannot be done.    adding it at TRACE level is fine. DEBUG may be better.        """
"NEXUS-6366","Bug","Crowd",3,"Crowd: excessive requests to crowd server when listing crowd users","""Configure Crowd Server. Open Users tab of Nexus. Select Realm list drop down on Users tab toolbar. Click Magnifying glass icon without any search criteria.    Nexus then sends one request to Crowd server to list *all* crowd users ( max results is http://localhost:8095/crowd/rest/usermanagement/1/search?entity-type=user&start-index=0&max-results=2147483647&expand=user. Once this response comes back, for each user in the response a request is sent to get that user's roles.    This could have a large performance impact where the remote crowd server maps lots of users.    We should improve performance impact here. Examples:    - limit the max number of users returned to the initial query - maybe 500?  - do not request each user's roles ( to display in role column ) until the user is selected in the list.      """
"NEXUS-5871","Improvement","Scheduled Tasks|UI",1,"Scheduled task drop down is not sorted","""The scheduled task drop down is not sorted, which makes it painful to add new tasks (very difficult to find some of them)."""
"NEXUS-5873","Improvement","Security",1,"RUTAUTH plugin should auto enable Realm when capability enabled","""RUTAUTH plugin should auto enable Realm when capability enabled.    Still, as capability _has a parameter_ (the header name), I am not clear what should happen the other way: user enables the Realm without configuring capability... (to have it behave in symmetrical way: would not matter do you enable capability or the Realm, it would """"just work"""").    Maybe have some predefined """"default"""" value for HTTP header like """"REMOTE_USER"""" and use that to auto-activate Capability?"""
"NEXUS-5883","Improvement","Staging",0,"Add order column so that sorting can be restored to default order","""If you click on a column header in the staging profiles list it will sort the column.  This is fine, but there is no way to get back to the original order.  And the original order is important, because that shows you the evaluation order.    We should add a """"clear sort"""" button to the toolbar that removes any column specific sorting."""
"NEXUS-5888","Improvement","LDAP|Staging",3,"Replace move up/down ordering UX with dialog box","""The ordering _feature_ of staging profiles, and ldap servers, is fundamentally broken due to the ability to sort columns.  This results in very confusing experience when anything other than the default sorting by order field is set.    Since this column is not actually shown to users, its also impossible (without reloading the browser page or re-opening the tab) to restore the default sorting order.    The dialog box should show a simple list with primary identifier, which is *not sortable* and provide options to move up/down to reorder.    Save button, will persist the change,  Cancel button (or close dialog) will abort ordering."""
"NEXUS-5887","Improvement","UI",1,"Licensing page does not mask UI when loading","""Should show wait mask always when loading data."""
"NEXUS-5898","Improvement","Proxy Repository",1,"Make connection request retry attempts work for connection reset exceptions","""Currently the request retry count in Nexus http settings does not take effect if a """"connection reset"""" exception is thrown.    I think we should extend the retry count to work for any SocketException received."""
"NEXUS-5897","Improvement","Capabilities",5,"Add authorization support to capabilities","""Capabilities should support authorisation by being able to provide per capability type (at descriptor level) what permissions are required for a capability to be read/created/updated/deleted.    * Grid entries will be filtered out based on read permission.  * Capability types will be filtered out based on read permission.  * Capability types will be filtered out based on create permission when creating a new capability.  * Capability details will be disabled based on update permission  * Enable/disable a capability will be disabled based on update permission  * Delete button/menu will be disabled based on delete permission  * Permissions will be enforced in backend  """
"NEXUS-5906","Improvement","Build Tooling|Staging",1,"Add ""releaseAfterClose"" option to the nexus-staging-maven-plugin","""It will help our CLM evaluations/deployments a lot if we can add a mode to the nexus-staging-maven-plugin where we immediately release a staging repository if it has been successfully closed. This is because a lot of end users don't want real staging, they just want their deployed artifacts scanned by CLM.    This is possible with the current plugin, but the configuration is quite complex.    I propose doing this with a """"releaseAfterClose"""" flag.  The default value for this will be false."""
"NEXUS-5904","Improvement","Repository|UI",2,"Remove the mirrors tab from hosted repositories","""It no longer makes sense to have a mirrors tab in hosted repositories due to NEXUS-5789.    We need to remove this UI also."""
"NEXUS-5932","Improvement","Staging",1,"expose 'userAgent' on com.sonatype.nexus.staging.client.StagingRepository model","""This was requested by a customer and seemingly trivial to implement.    Per https://sonatype.zendesk.com/agent/#/tickets/2680    {quote}  Hi, we need to filter all staging repositories by userAgent. As com.sonatype.nexus.staging.client.StagingRepository is missing the """"userAgent"""" we have to implement a call to Staging REST """"/staging/profile_repositories/{profileIdKey}"""" while all other stuff can easily be done with the StagingWorkflowV1Service.    We would really appreciate if the class com.sonatype.nexus.staging.client.StagingRepository would get at least the field """"userAgent"""" from the additional fields org.sonatype.nexus.restlight.stage.StageRepository had. Can you add it in an upcoming release?    {quote}     """
"NEXUS-5941","Improvement","Capabilities",1,"Add support for tagging to capabilities","""The should be possible to tag capabilities at descriptor/capability level with key/value information.    The information should be used in capabilities UI to allow grouping based on available tags.    Examples:    * mark all smart proxy capabilities with a Category """"Smart Proxy"""" tag  * mark all security related capabilities with a Category """"Security"""" tag  * mark all capabilities that are specific to a repository with a Repository <Repository Name> tag"""
"NEXUS-5944","Bug","Repository",2,"Repository is auto-blocked if ""allow file browsing"" is disabled on remote","""If you disable """"allow file browsing"""" on a hosted repository, and then create a proxy repository to it in another Nexus instance the repository will be auto-blocked.    We should be able to handle this situation, there are well known paths that can be used for testing such as """"/.meta/repository-metadata.xml"""".    Rich  """
"NEXUS-5949","Improvement","Build|Installer",3,"Need workaround for cases where trial installer cannot be run.","""We've found that the Linux installer cannot always be run successfully.  Typically causes of this are lack of X11 libraries (NXCM-4628) or strange http proxy setups.    For cases where the installer fails we need a way to provide Nexus Pro + trial configuration without a full installer.  This could be the standard pro distribution + a trial configuration bundle for instance.    """
"NEXUS-5948","Improvement","Scheduled Tasks",1,"enable sorting of scheduled tasks columns","""Scheduled tasks are sorted by Name as default. There are no other sort options.    For a Nexus Pro with many tasks, this is very frustrating, since you often want to look at tasks by Type instead. However, there are no sort options for any of the columns. The number of task entries is quite large now due to the many Healthcheck related tasks there.    Look at RSO for an example."""
"NEXUS-5959","Improvement","Smart Proxy",3,"Detect when smartproxy nodes have out-of-sync clocks","""When smartproxy nodes have clocks which are out of sync, all sorts of strange problems can happen.  Smartproxy should try and detect if the clocks are out of sync and complain, perhaps even on handshake report failure to connect if clocks are out-of-sync?"""
"NEXUS-5957","Bug","Yum",2,"Yum proxy repository metadata is not refetched if request for it comes through a group repo","""Create a group repository that contains a hosted repository which has yum metadata generation enabled, and also a proxy repository of a remote which contains yum metadata.  Create a merge metadata capability for this group.    Requests for metadata to the group for """"repodata/repomd.xml"""" never trigger a request to the proxy repository's remote for this file, regardless of cache timeout settings.    This means that new artifacts created on the remote will never become available through the group."""
"NEXUS-5956","Bug","Yum",3,"Old yum metadata is never cleaned up from yum proxy repository.","""Every time an rpm is deployed into a yum repository it causes a brand new set of metadata files to be created (these all have sha1 sums embedded in their file names).    If you have a proxy of a yum repository, this means a new version of the metadata is downloaded every time, and after a while these consume significant space.    Maybe if repmod.xml is downloaded we should remove the rest of the metadata files from the repodata directory?    {quote}  $ ls  003bfcf89201c1a2ed591531c66effc3a4e027fe641d219377684a9aeba20169-filelists.xml.gz  08828c0881e310aa4dbee6214d077e8e15ad90b6254a01e1598cb69d3cb5c14f-other.sqlite.bz2  150aa0c323606b53090b01d44e73e58ea776df12a2523a99d82e027b908921b0-other.xml.gz  186e3ab67ffc76df9b164dc119b7a5f3cf265fde19da2531e79a9baa5068879d-filelists.sqlite.bz2  189a204d4d0469e105bba086656705cac04c3d1f2eae3b02aa5f3dc4b3b64a97-other.xml.gz  27cad8418cc46a381004ca03cc8b6cd8b74d74710b3ea034704824e45ceebd5a-filelists.sqlite.bz2  2d3d0431515ec9755030d618befb82c9fcee5c10dc6478714d639751eebb3a8b-other.sqlite.bz2  3df248f0d472c45e332dc77ce63634f1332f0a8e358c60975e312adafe0a3013-filelists.sqlite.bz2  54c03951fe73f3e64ba4025674fde4ba6165a2ea97b56c4286a084bf9baf6799-filelists.sqlite.bz2  5c7e42b0f096cbfc6fb2dec96db01164ee34fd55d5f198297b96b91aea7d79d3-filelists.xml.gz  62983c24247ac537efb30fb84e49757ee5692cc8371f278056aa5431eab55370-other.sqlite.bz2  69cc43f574f49aced9f79fb3d0935ba73201de4bde6f8eb01bfd15ee38e7a61a-primary.sqlite.bz2  6eab60c43f89ac10ee6dce5ef815428c0987afc77f09ce92176bd37ee40559c3-filelists.sqlite.bz2  70d7278e115f2d601cb50f4c9898d8bc0b16e647357d4db1423b80ce712cadf1-primary.sqlite.bz2  7b42db3950a9cd7a36f0bfeca78d84e7bd07d4f12c6a2cf2215570f9b8ec1f2a-other.sqlite.bz2  82d364e082b4d24d74a95e8fa9428cf29753252a205799b87fad8984930afd1f-primary.xml.gz  87ce8c5229877bb63e873f20cdc69a8b1d2a0678de1252702c4aed52c415fd95-other.xml.gz  8ced9f96f28df680e23529ebea075e267b4ae0756086a27c85407c93fa53bcf4-primary.xml.gz  8e2dc4494bb4ac5d799034b42bc4afab80d66ed5a466a15a7bc5f92c2b7c8a30-other.xml.gz  91610135649ef8059312f7d935860d272c759bd0edce7cd9fed2bff0b097fe29-other.xml.gz  9c20ae2b5b43e13b0d385bdb70dacaf486ca75c507a2e440c175fe635ba49cfa-other.sqlite.bz2  a87708732e325a1eeff6c3bddbba184d251c5baafcf571e687bc2238958ffc6a-primary.sqlite.bz2  a93b808d31f4cfec7b1ae8463270e0cd6fd30206a16545196c08a810d4890c9e-primary.xml.gz  b5e7ffa0b66e1199ec7580e3bd14f92d9a63cf2eedc979d53880d916f919a0c4-filelists.xml.gz  d9abd67d9db26be5e9303a529965b482505feca7e49f739ccb1a1b7794a31669-primary.sqlite.bz2  e3acecf7d4dc3d35b6757593d65d6840d17d2e68bf4aa4e33cf9b235d7ca4d44-primary.xml.gz  e5288252c53835b15d1a3cfb1ee79d9fabc7e41a4039518f2c5461b04928bc6f-primary.xml.gz  ebabb5cdcfd90b56ba9c1250958c01442f266ba5d0d4c287a99509de5f85f7b3-filelists.xml.gz  ebc9769b8b38af08a612a420bf5107b4a50f9d9517c7c218ca6bc7382aa24f7d-primary.sqlite.bz2  eda629e1037985fa72aeb80c0054d5638fcbb0265624091b369a513ffbc00399-filelists.xml.gz    {quote}"""
"NEXUS-5955","Bug","Routing|Yum",2,"Automatic routing interferes with yum repo metadata","""See here, the automatic routing prefix file contains the yum metadata files:    {quote}  ## repository-prefixes/2.0  #  # Prefix file generated by Sonatype Nexus  # Do not edit, changes will be overwritten!  /repodata/ebabb5cdcfd90b56ba9c1250958c01442f266ba5d0d4c287a99509de5f85f7b3-filelists.xml.gz  /repodata/e5288252c53835b15d1a3cfb1ee79d9fabc7e41a4039518f2c5461b04928bc6f-primary.xml.gz  /repodata/6eab60c43f89ac10ee6dce5ef815428c0987afc77f09ce92176bd37ee40559c3-filelists.sqlite.bz2  /repodata/91610135649ef8059312f7d935860d272c759bd0edce7cd9fed2bff0b097fe29-other.xml.gz  /repodata/8e2dc4494bb4ac5d799034b42bc4afab80d66ed5a466a15a7bc5f92c2b7c8a30-other.xml.gz  /archetype-catalog.xml  /repodata/62983c24247ac537efb30fb84e49757ee5692cc8371f278056aa5431eab55370-other.sqlite.bz2  /com/mycompany  /repodata/a93b808d31f4cfec7b1ae8463270e0cd6fd30206a16545196c08a810d4890c9e-primary.xml.gz  /repodata/2d3d0431515ec9755030d618befb82c9fcee5c10dc6478714d639751eebb3a8b-other.sqlite.bz2  /repodata/eda629e1037985fa72aeb80c0054d5638fcbb0265624091b369a513ffbc00399-filelists.xml.gz  /repodata/186e3ab67ffc76df9b164dc119b7a5f3cf265fde19da2531e79a9baa5068879d-filelists.sqlite.bz2  /repodata/54c03951fe73f3e64ba4025674fde4ba6165a2ea97b56c4286a084bf9baf6799-filelists.sqlite.bz2  /repodata/189a204d4d0469e105bba086656705cac04c3d1f2eae3b02aa5f3dc4b3b64a97-other.xml.gz  /repodata/9c20ae2b5b43e13b0d385bdb70dacaf486ca75c507a2e440c175fe635ba49cfa-other.sqlite.bz2  /repodata/70d7278e115f2d601cb50f4c9898d8bc0b16e647357d4db1423b80ce712cadf1-primary.sqlite.bz2  /repodata/repomd.xml  /repodata/69cc43f574f49aced9f79fb3d0935ba73201de4bde6f8eb01bfd15ee38e7a61a-primary.sqlite.bz2  /repodata/8ced9f96f28df680e23529ebea075e267b4ae0756086a27c85407c93fa53bcf4-primary.xml.gz  /repodata/d9abd67d9db26be5e9303a529965b482505feca7e49f739ccb1a1b7794a31669-primary.sqlite.bz2  /repodata/5c7e42b0f096cbfc6fb2dec96db01164ee34fd55d5f198297b96b91aea7d79d3-filelists.xml.gz  {quote}    These file names (the ones with the embedded checksums) change every time an rpm is deployed into a yum enabled repo.  This means that every time an rpm is deployed the files listed in the repomod.xml file will not be available for download until auto-routing is fetched again, regardless of cache timeout settings."""
"NEXUS-5968","Improvement","Staging",3,"provide option to not poll for staging operation success using nexus-staging-maven-plugin and ant tasks","""In some cases, user may not want to wait to see if nexus-staging  operations are successful.    Their workflow may be that they will manually check later to see if close,promote,drop,release failed or wait for notification email. This is especially relevant where staging operations take a long time to complete.    nexus-staging-maven-plugin and nexus-ant-tasks should expose such an option, the default preserving the current behavior.   """
"NEXUS-5966","Bug","Procurement",3,"Search indexes are not propagated through procurement repositories","""If you create a procurement repository against a repository that has indexes the search indexes of the source are not made available through the procurement repository.    This is similar to NXCM-1593, but not quite the same.  NXCM-1593 got bogged down in a discussion about applying procurement rules to search indexes.    I don't think that is necessary.  In fact, one could argue it would be a good thing to be able to see everything that is available in the procurement repository through the indexes.  That way end users could ask their nexus administrators to allow access.    This *is* similar to NXCM-5515, in that the (partial) workaround is to allow read access to the source repository, which kind of defeats the purpose of procurement.  """
"NEXUS-5965","Bug","Configuration",1,"defacto jetty.xml and examples need cleanup","""Worked on a customer issue with our Jetty examples for https redirect. In the process discovered our example is outdated and even the defacto jetty.xml could be simplified a bit.    This issue is to note these changes are needed and tie an issue to improvements I will submit a pull request for.        """
"NEXUS-5963","Bug","Configuration",1,"System property http.proxyHost incompatible regular expressions, server wide","""We are running nexus and jenkins on the same tomcat server.  When setting the proxy settings in nexus, these settings are saved in proxy system properties. These properties are shared for everything running in tomcat. Nexus requires the non proxy hosts to be configured as regular expressions. This leads to a system property http.nonProxyHosts=.\*\.honda-eu\.com|.\*\.eu\.honda\.com. This is however not a valid value according to http://docs.oracle.com/javase/7/docs/technotes/guides/net/proxies.html (This is a list of patterns separated by '|'. The patterns may start or end with a '*' for wildcards. Any host matching one of these patterns will be reached through a direct connection instead of through a proxy.).   In short: if nexus uses it's own proxy configuration standards, it should not modify, nor use the system properties."""
"NEXUS-5969","Bug","Staging",2,"improve logging for signature validation failures","""Failures validating signatures on ossrh.    unfortunately the logging of the failures are not helping diagnose the issue    The current logs really don't say much of anything ... just a null message at the end of the line where one would expect something helpful.    {quote}  jvm 1    | 2013-10-03 03:55:22 DEBUG [pxpool-1-thread-20] xxxxxxxxx com.sonatype.nexus.pgp.DefaultPGPKeyManager - Signature invalid for artifact: """"/io/netty/netty-transport-sctp/4.0.10.Final/netty-transport-sctp-4.0.10.Final.jar"""": null  {quote}    See OSSRH-5675    Improve the logging so we can find out what is wrong.  """
"NEXUS-5982","Bug","Staging",1,"Staging ""finish"" privilege is confusing","""The description of the staging """"finish"""" privilege is confusing.  It appears that this allows a user to close a staging repository associated with a profile?    If so, we should change the description to use the word """"close""""."""
"NEXUS-5981","Improvement","Procurement|Staging",1,"Remove pgp.mit.edu from list of uses SKS Keyservers","""nexus-pgp-plugin uses a list of SKS servers to perform signature validation (used by Staging and Procurement plugins).    The default entries are:  * http://pool.sks-keyservers.net:11371/  * http://pgp.mit.edu:11371/    While the first itself is a _SKS server pool_, the latter is a """"simple standalone"""" one. Moreover, the latter one _was removed from the former's pool_ as it's not maintained. It uses SKS Server version 1.1.1 while the pool is on version 1.1.3, 1.1.4 and above (1.1.4+).    With latest changes (NEXUS-5969 for example), the MIT SKS server will just create log pollution, as for example GPG subkey search is added and works only in SKS Server version 1.1.3 and above    https://bitbucket.org/skskeyserver/sks-keyserver/src/4069c369eaaa718c6d4f19427f8f164fb9a1e1f0/CHANGELOG?at=default#cl-65    Hence, even if the check will succeed, log will contain spam if MIT server is tried first (and we randomly choose servers from the list AFAIK).    Proposed solution: remove MIT from default configuration    More about this: The hostname """"pool.sks-keyservers.net"""" will be resolved to an actual server based on requester location and other factors. Problem with retries (ie. you got assigned a server that is 0xdeadbeef, unlikely but still possible), is that OS and Java will cache DNS resolution result. A """"real retry"""" would be to resolve that hostname again, and retry with new IP.  """
"NEXUS-5989","Task","UI",1,"If ""application server settings (optional)"" is not checked than administration/server page can't be saved.","""Uncheck """"application server settings (optional)"""", under """"administration/server"""" and save.    Now make another change on the page and attempt to save.  This fails.    Why this section is optional anyhow?"""
"NEXUS-5988","Task","Procurement|Scheduled Tasks",2,"No task will clean up snapshots from a procurement repository","""There is no way to clean up cached artifacts from a procurement repository.     This isn't usually a problem, but in the case of snapshots it definitely is, since these will accumulate over time, and old versions generally aren't needed.    It seems to me the """"""""Evict unused proxied items"""" task should work for this use case, since procurement repositories are essentially proxy repositories with rules.    The snapshot removal task is definitely not appropriate, it rewrites the metadata files, and the procurement repository should be serving the metadata from the remote.  """
"NEXUS-5985","Improvement","Staging",1,"nexus-staging-maven-plugin should record ID of build promotion repository, then use this during release","""The nexus-staging-maven-plugin:promote goal currently does not record the build promotion repository.    This makes it difficult to automate a stage->close->promote->release workflow.    If a staging repository has been promoted we should record the ID, and then use this during a subsequent release goal."""
"NEXUS-5993","Improvement","Repository",3,"review File.mkdirs() usage, replace with Files.createDirectory(file.toPath()); to not hide IOExceptions","""see summary - we don't want to hide low level IOExceptions anymore in buggy code"""
"NEXUS-5997","Bug","Yum",3,"xml:base URL embedded in yum metadata breaks proxy repositories","""In fixing NEXUS-5806 we started to embed the server base URL into the xml:base of the yum primary.xml.gz file.    This causes proxy's of yum enabled group repositories to fail, requests to download artifacts from yum are made to the proxy's remote instead of the proxy itself."""
"NEXUS-6014","Improvement","Transport",1,"Nexus should respect X-Forwarded headers by default","""To minimize any potential problems fronting nexus with Apache mod_proxy or other reverse proxies using the X-Forwarded-* headers, we should configure Jetty to acknowledge and respect any X-Forwarded headers by default.    See Jetty Logic here:  http://download.eclipse.org/jetty/stable-8/xref/org/eclipse/jetty/server/AbstractConnector.html#432    See Jetty Docs describing how to front Jetty with reverse proxy SSL:  http://wiki.eclipse.org/Jetty/Howto/Configure_mod_proxy    Related forum post:  http://wiki.eclipse.org/Jetty/Howto/Configure_mod_proxy    We should also update the book to mention how to set the X-Forwarded-Proto header in httpd as well.    http://books.sonatype.com/nexus-book/reference/install-sect-proxy.html    """
"NEXUS-6022","Bug","Maven|Repository",1,"The undeployArtifact in DefaultMetadataUpdater attempts to add version instead of removing","""The method org.sonatype.nexus.proxy.maven.DefaultMetadataUpdater.undeployArtifact(ArtifactStoreRequest) uses an AddVersionOperator where it probably should use a RemoveVersionOperator. At present, it performs the same task as the deployArtifact method."""
"NEXUS-6030","Bug","UI",1,"Nexus serving insecure content: add.png, delete.png","""See attached from loading RSO.    This prevents a """"Green"""" lock icon when browsing nexus securely using https.        """
"NEXUS-6028","Bug","NuGet",1,"Browse remote tab is visible for Nuget repos but should not be","""Browse Remote tab for NuGet proxy repos is visible.    This is a regression. Not sure which version it first regressed but original issue to hide it was https://issues.sonatype.org/browse/NXCM-3543"""
"NEXUS-6039","Bug","Smart Proxy",5,"Repository auto-block can trigger a deadlock in smart proxy.","""See the attached jstack.out file.  Smart proxy is attempting to shut down the jms connection because repository is being auto-blocked.  This is causing request threads to pile up on the UID lock."""
"NEXUS-6053","Bug","REST",2,"Use of FormDataBodyPart results in failure to discover resource","""I'm converting my plug-in to use the new siesta/jersey based framework. One of the resources has a POST method that consumes """"multipart/form-data"""". Declaring a parameter like this:  {code:none}  @FormDataParam(""""value"""") FormDataBodyPart value  {code}  results in that the resource fails to be discovered (it doesn't show up in the log under """"org.sonatype.nexus.plugins.siesta.SiestaModule - Resources:"""" during boot). If I change the FormDataBodyPart into a String, then the resource shows up and can be called. Using a String results in a value that contains the full raw content of the part so it's not really an option.    I'm currently using 2.7.0.m4"""
"NEXUS-6050","Bug","Routing",1,"Automatic routing warnings should include repository ID","""We need to include the repository ID in automatic routing log messages.  Without this it is very difficult to track the cause down.    {quote}  2013-10-28 07:52:58 WARN [ar-4-thread-3] Task-User org.sonatype.nexus.proxy.maven.routing.internal.RemoteContentDiscovererImpl - Remote strategy prefix-file error: RemoteAccessDeniedException   {quote}"""
"NEXUS-6048","Improvement","Scheduled Tasks",3,"improve Remove Releases from Repository task performance","""As said in summary. When first scheduled, we had an oom exception. So we increased the max memory to 1 GiB. After that we had no more oom issues. The task ran for 147h 43m 57s and finished successfully. During this time he cleaned up 8270 releases (as derived from the log entries """"Recreating Maven2 metadata in repository ID='releases' from path=..."""". Disk space went from 134GiB down to 75GiB. While it was successfull I think this is incredibly slow. The fix might be similar to the one from issue NEXUS-4640.    Fix: A new task option is added to make the task perform better. [Refer to comment|https://issues.sonatype.org/browse/NEXUS-6048?focusedCommentId=301151&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-301151]"""
"NEXUS-6072","Improvement","Capabilities",1,"Failure during capability load prevents the rest of capabilities to be loaded","""An exception thrown during capability.load will result in the rest of them to not be loaded (capabilities not yet loaded).    """
"NEXUS-6071","Improvement","Smart Proxy",1,"Smart Proxy secure connector capability should validate fields","""""""Port"""" should be validated as a positive integer  """"Advertise Uri"""" should be validated as URI"""
"NEXUS-6063","Improvement","Transport",1,"update Nexus and components to use httpclient 4.2.6 to pick up SSL and NTLM related fixes","""Important SSL and NTLM related fixes    https://issues.apache.org/jira/secure/ReleaseNote.jspa?projectId=12310360&version=12324353    These seems less risky than upgrading to 4.3.x of httpclient at this stage.( 2.7 )"""
"NEXUS-6062","Improvement","Staging",1,"update httpclient dependencies in nexus-ant-tasks and nexus-maven-plugins","""Noticed nexus-ant-tanks still depend on httpclient 4.2.2 - this version has known bugs and should be updated to match what the recent version of nexus-staging-maven-plugin is using at the very least."""
"NEXUS-6061","Bug","IQ Integration|Staging",1,"CLM failure on Staging Close rendering seems broken","""Followed the """"Staging Profile Fail on Close Repository"""" from CLM testing scenario. Everything when fine, and happened as expected, except the """"Activity"""" rendering seems broken. Instead of the rendering shown in video, I got """"raw"""" data it seems. While following the x.appScan.url did lead me to report."""
"NEXUS-6060","Bug","Staging",1,"CLM App Management link of profile editor leads to wrong URL","""See attached video.    In short, with CLM configured, at Staging profile south panel, the """"CLM Application Management"""" link is shown, but it leads to wrong URL (having CLM Brain responding with 404):    http://localhost:8070//assets/index.html#/management/application/0001/policies    Note the double slash ({{//assets}}). Manually removing one slash leads to page okay.    When no application selected, the """"CLM Dashboard"""" is correct, leads to proper page on Brain."""
"NEXUS-6057","Bug","Capabilities",1,"Yum merge metadata capability cause Stack Overflow when repository is put Out of Service","""The test scenario contains a step, that a capability that depend on a repository should get passivated.    I tried this with """"Yum Generate Metadata"""" using Releases repository.    Then Releases put out of service, UI got Server Error 500 response and Nexus log had a stack overflow exception:    {quote}  jvm 1    | java.lang.StackOverflowError: null  jvm 1    |  at java.util.regex.Pattern$GroupTail.match(Pattern.java:4615) ~[na:1.7.0_45]  jvm 1    |  at java.util.regex.Pattern$CharProperty.match(Pattern.java:3694) ~[na:1.7.0_45]  jvm 1    |  at java.util.regex.Pattern$GroupHead.match(Pattern.java:4556) ~[na:1.7.0_45]  jvm 1    |  at java.util.regex.Pattern$Branch.match(Pattern.java:4500) ~[na:1.7.0_45]  jvm 1    |  at java.util.regex.Pattern$Branch.match(Pattern.java:4500) ~[na:1.7.0_45]  jvm 1    |  at java.util.regex.Pattern$Branch.match(Pattern.java:4500) ~[na:1.7.0_45]  jvm 1    |  at java.util.regex.Pattern$BranchConn.match(Pattern.java:4466) ~[na:1.7.0_45]  jvm 1    |  at java.util.regex.Pattern$GroupTail.match(Pattern.java:4615) ~[na:1.7.0_45]  jvm 1    |  at java.util.regex.Pattern$Curly.match0(Pattern.java:4177) ~[na:1.7.0_45]  jvm 1    |  at java.util.regex.Pattern$Curly.match(Pattern.java:4132) ~[na:1.7.0_45]  jvm 1    |  at java.util.regex.Pattern$GroupHead.match(Pattern.java:4556) ~[na:1.7.0_45]  jvm 1    |  at java.util.regex.Pattern$Branch.match(Pattern.java:4502) ~[na:1.7.0_45]  jvm 1    |  at java.util.regex.Pattern$Branch.match(Pattern.java:4500) ~[na:1.7.0_45]  jvm 1    |  at java.util.regex.Pattern$BmpCharProperty.match(Pattern.java:3715) ~[na:1.7.0_45]  jvm 1    |  at java.util.regex.Pattern$Start.match(Pattern.java:3408) ~[na:1.7.0_45]  jvm 1    |  at java.util.regex.Matcher.search(Matcher.java:1199) ~[na:1.7.0_45]  jvm 1    |  at java.util.regex.Matcher.find(Matcher.java:618) ~[na:1.7.0_45]  jvm 1    |  at java.util.Formatter.parse(Formatter.java:2517) ~[na:1.7.0_45]  jvm 1    |  at java.util.Formatter.format(Formatter.java:2469) ~[na:1.7.0_45]  jvm 1    |  at java.util.Formatter.format(Formatter.java:2423) ~[na:1.7.0_45]  jvm 1    |  at java.lang.String.format(String.java:2797) ~[na:1.7.0_45]  jvm 1    |  at org.sonatype.nexus.proxy.utils.RepositoryStringUtils.getHumanizedNameString(RepositoryStringUtils.java:25) ~[nexus-core-2.7.0-SNAPSHOT.jar:2.7.0-SNAPSHOT]  jvm 1    |  at org.sonatype.nexus.proxy.RepositoryNotAvailableException.<init>(RepositoryNotAvailableException.java:32) ~[nexus-core-2.7.0-SNAPSHOT.jar:2.7.0-SNAPSHOT]  jvm 1    |  at org.sonatype.nexus.proxy.repository.AbstractRepository.checkConditions(AbstractRepository.java:1155) ~[nexus-core-2.7.0-SNAPSHOT.jar:2.7.0-SNAPSHOT]  jvm 1    |  at org.sonatype.nexus.proxy.repository.AbstractRepository.retrieveItem(AbstractRepository.java:590) ~[nexus-core-2.7.0-SNAPSHOT.jar:2.7.0-SNAPSHOT]  jvm 1    |  at org.sonatype.nexus.yum.internal.capabilities.MetadataCapabilitySupport.renderStatus(MetadataCapabilitySupport.java:138) ~[na:na]  jvm 1    |  at org.sonatype.nexus.capability.support.CapabilitySupport.status(CapabilitySupport.java:78) ~[na:na]  jvm 1    |  at org.sonatype.nexus.yum.internal.capabilities.MetadataCapabilitySupport.renderStatus(MetadataCapabilitySupport.java:157) ~[na:na]  jvm 1    |  at org.sonatype.nexus.capability.support.CapabilitySupport.status(CapabilitySupport.java:78) ~[na:na]  jvm 1    |  at org.sonatype.nexus.yum.internal.capabilities.MetadataCapabilitySupport.renderStatus(MetadataCapabilitySupport.java:157) ~[na:na]  jvm 1    |  at org.sonatype.nexus.capability.support.CapabilitySupport.status(CapabilitySupport.java:78) ~[na:na]  jvm 1    |  at org.sonatype.nexus.yum.internal.capabilities.MetadataCapabilitySupport.renderStatus(MetadataCapabilitySupport.java:157) ~[na:na]  jvm 1    |  at org.sonatype.nexus.capability.support.CapabilitySupport.status(CapabilitySupport.java:78) ~[na:na]  jvm 1    |  at org.sonatype.nexus.yum.internal.capabilities.MetadataCapabilitySupport.renderStatus(MetadataCapabilitySupport.java:157) ~[na:na]  jvm 1    |  at org.sonatype.nexus.capability.support.CapabilitySupport.status(CapabilitySupport.java:78) ~[na:na]  jvm 1    |  at org.sonatype.nexus.yum.internal.capabilities.MetadataCapabilitySupport.renderStatus(MetadataCapabilitySupport.java:157) ~[na:na]  jvm 1    |  at org.sonatype.nexus.capability.support.CapabilitySupport.status(CapabilitySupport.java:78) ~[na:na]  jvm 1    |  at org.sonatype.nexus.yum.internal.capabilities.MetadataCapabilitySupport.renderStatus(MetadataCapabilitySupport.java:157) ~[na:na]  jvm 1    |  at org.sonatype.nexus.capability.support.CapabilitySupport.status(CapabilitySupport.java:78) ~[na:na]  jvm 1    |  at org.sonatype.nexus.yum.internal.capabilities.MetadataCapabilitySupport.renderStatus(MetadataCapabilitySupport.java:157) ~[na:na]  jvm 1    |  at org.sonatype.nexus.capability.support.CapabilitySupport.status(CapabilitySupport.java:78) ~[na:na]  jvm 1    |  at org.sonatype.nexus.yum.internal.capabilities.MetadataCapabilitySupport.renderStatus(MetadataCapabilitySupport.java:157) ~[na:na]  jvm 1    |  at org.sonatype.nexus.capability.support.CapabilitySupport.status(CapabilitySupport.java:78) ~[na:na]  jvm 1    |  at org.sonatype.nexus.yum.internal.capabilities.MetadataCapabilitySupport.renderStatus(MetadataCapabilitySupport.java:157) ~[na:na]  jvm 1    |  at org.sonatype.nexus.capability.support.CapabilitySupport.status(CapabilitySupport.java:78) ~[na:na]  jvm 1    |  at org.sonatype.nexus.yum.internal.capabilities.MetadataCapabilitySupport.renderStatus(MetadataCapabilitySupport.java:157) ~[na:na]  jvm 1    |  at org.sonatype.nexus.capability.support.CapabilitySupport.status(CapabilitySupport.java:78) ~[na:na]  jvm 1    |  at org.sonatype.nexus.yum.internal.capabilities.MetadataCapabilitySupport.renderStatus(MetadataCapabilitySupport.java:157) ~[na:na]  jvm 1    |  at org.sonatype.nexus.capability.support.CapabilitySupport.status(CapabilitySupport.java:78) ~[na:na]  jvm 1    |  at org.sonatype.nexus.yum.internal.capabilities.MetadataCapabilitySupport.renderStatus(MetadataCapabilitySupport.java:157) ~[na:na]  jvm 1    |  at org.sonatype.nexus.capability.support.CapabilitySupport.status(CapabilitySupport.java:78) ~[na:na]  jvm 1    |  at org.sonatype.nexus.yum.internal.capabilities.MetadataCapabilitySupport.renderStatus(MetadataCapabilitySupport.java:157) ~[na:na]  jvm 1    |  at org.sonatype.nexus.capability.support.CapabilitySupport.status(CapabilitySupport.java:78) ~[na:na]  jvm 1    |  at org.sonatype.nexus.yum.internal.capabilities.MetadataCapabilitySupport.renderStatus(MetadataCapabilitySupport.java:157) ~[na:na]  jvm 1    |  at org.sonatype.nexus.capability.support.CapabilitySupport.status(CapabilitySupport.java:78) ~[na:na]  jvm 1    |  at org.sonatype.nexus.yum.internal.capabilities.MetadataCapabilitySupport.renderStatus(MetadataCapabilitySupport.java:157) ~[na:na]  jvm 1    |  at org.sonatype.nexus.capability.support.CapabilitySupport.status(CapabilitySupport.java:78) ~[na:na]  jvm 1    |  at org.sonatype.nexus.yum.internal.capabilities.MetadataCapabilitySupport.renderStatus(MetadataCapabilitySupport.java:157) ~[na:na]  jvm 1    |  at org.sonatype.nexus.capability.support.CapabilitySupport.status(CapabilitySupport.java:78) ~[na:na]  jvm 1    |  at org.sonatype.nexus.yum.internal.capabilities.MetadataCapabilitySupport.renderStatus(MetadataCapabilitySupport.java:157) ~[na:na]  jvm 1    |  at org.sonatype.nexus.capability.support.CapabilitySupport.status(CapabilitySupport.java:78) ~[na:na]  jvm 1    |  at org.sonatype.nexus.yum.internal.capabilities.MetadataCapabilitySupport.renderStatus(MetadataCapabilitySupport.java:157) ~[na:na]  jvm 1    |  at org.sonatype.nexus.capability.support.CapabilitySupport.status(CapabilitySupport.java:78) ~[na:na]  jvm 1    |  at org.sonatype.nexus.yum.internal.capabilities.MetadataCapabilitySupport.renderStatus(MetadataCapabilitySupport.java:157) ~[na:na]  jvm 1    |  at org.sonatype.nexus.capability.support.CapabilitySupport.status(CapabilitySupport.java:78) ~[na:na]  jvm 1    |  at org.sonatype.nexus.yum.internal.capabilities.MetadataCapabilitySupport.renderStatus(MetadataCapabilitySupport.java:157) ~[na:na]  jvm 1    |  at org.sonatype.nexus.capability.support.CapabilitySupport.status(CapabilitySupport.java:78) ~[na:na]  jvm 1    |  at org.sonatype.nexus.yum.internal.capabilities.MetadataCapabilitySupport.renderStatus(MetadataCapabilitySupport.java:157) ~[na:na]  jvm 1    |  at org.sonatype.nexus.capability.support.CapabilitySupport.status(CapabilitySupport.java:78) ~[na:na]  jvm 1    |  at org.sonatype.nexus.yum.internal.capabilities.MetadataCapabilitySupport.renderStatus(MetadataCapabilitySupport.java:157) ~[na:na]  jvm 1    |  at org.sonatype.nexus.capability.support.CapabilitySupport.status(CapabilitySupport.java:78) ~[na:na]  jvm 1    |  at org.sonatype.nexus.yum.internal.capabilities.MetadataCapabilitySupport.renderStatus(MetadataCapabilitySupport.java:157) ~[na:na]  jvm 1    |  at org.sonatype.nexus.capability.support.CapabilitySupport.status(CapabilitySupport.java:78) ~[na:na]  jvm 1    |  at org.sonatype.nexus.yum.internal.capabilities.MetadataCapabilitySupport.renderStatus(MetadataCapabilitySupport.java:157) ~[na:na]  jvm 1    |  at org.sonatype.nexus.capability.support.CapabilitySupport.status(CapabilitySupport.java:78) ~[na:na]  jvm 1    |  at org.sonatype.nexus.yum.internal.capabilities.MetadataCapabilitySupport.renderStatus(MetadataCapabilitySupport.java:157) ~[na:na]  jvm 1    |  at org.sonatype.nexus.capability.support.CapabilitySupport.status(CapabilitySupport.java:78) ~[na:na]  jvm 1    |  at org.sonatype.nexus.yum.internal.capabilities.MetadataCapabilitySupport.renderStatus(MetadataCapabilitySupport.java:157) ~[na:na]  jvm 1    |  at org.sonatype.nexus.capability.support.CapabilitySupport.status(CapabilitySupport.java:78) ~[na:na]  jvm 1    |  at org.sonatype.nexus.yum.internal.capabilities.MetadataCapabilitySupport.renderStatus(MetadataCapabilitySupport.java:157) ~[na:na]  jvm 1    |  at org.sonatype.nexus.capability.support.CapabilitySupport.status(CapabilitySupport.java:78) ~[na:na]  jvm 1    |  at org.sonatype.nexus.yum.internal.capabilities.MetadataCapabilitySupport.renderStatus(MetadataCapabilitySupport.java:157) ~[na:na]  jvm 1    |  at org.sonatype.nexus.capability.support.CapabilitySupport.status(CapabilitySupport.java:78) ~[na:na]  jvm 1    |  at org.sonatype.nexus.yum.internal.capabilities.MetadataCapabilitySupport.renderStatus(MetadataCapabilitySupport.java:157) ~[na:na]  jvm 1    |  at org.sonatype.nexus.capability.support.CapabilitySupport.status(CapabilitySupport.java:78) ~[na:na]  ...  {quote}"""
"NEXUS-6075","Bug","Capabilities",1,"Capability repository local status condition becomes satisfied before repository status is changed","""RepositoryLocalStatusCondition watches RepositoryEventLocalStatusChanged, event which is (wrongly) sent before repository configuration is saved, meaning that doing any operation with repository will end up in exceptions like for example: org.sonatype.nexus.proxy.RepositoryNotAvailableException: Repository """"3rd party"""" [id=thirdparty] is not available!    We should use """
"NEXUS-6074","Bug","Maven Archetype Catalog",1,"Maven Archetype plugin wrong use of RepositoryEventLocalStatusChanged","""Or better, Nx Core fires RepositoryEventLocalStatusChanged event at """"wrong"""" moment, when the configuration is not yet applied, and MAC plugin attempts to """"install"""" the catalog while repository is still """"Out of Service"""" (configuration change is not committed yet), causing log spam such as:    {quote}  jvm 1    | 2013-10-31 09:33:19 INFO  [qtp1111344480-85] admin org.sonatype.nexus.plugins.mac.MacPluginEventInspector - Unable to install the generated archetype catalog, repository releases is out of service  {quote}    Still, the MAC plugin successfully handles the local status change of the repository, as the subsequent event (fired when configuration change is committed) redoes the work and succeeds."""
"NEXUS-6082","Bug","UI",1,"ui dialogs display literal <br/> html tags","""make a UI request to Nexus that will timeout. the simplest is start nexus, login, shutdown nexus and make another ui request.    You see a dialog that states the request timed out ( as expected ) but the message starts with '<br/><br>'    This is just one example. Other dialogs have the same escaping problem."""
"NEXUS-6100","Bug","UI|User Token",1,"user token authenticate dialog error messages cut off in IE10","""happens for both Reset User Token and Access User Token dialogs."""
"NEXUS-6107","Bug","Build",1,"nexus-core-client uses Java7 API","""Seems nexus-client-core uses Java7 API and classes. Offended classes:  org.sonatype.nexus.client.internal.rest.jersey.subsystem.JerseyUtilities  org.sonatype.nexus.client.internal.rest.jersey.subsystem.JerseyContent    Most notably java.nio.files.Files class and File.toPath method.    Seems animal sniffer is not running on these? How got 2.7.0-01 build released otherwise?"""
"NEXUS-6158","Bug","NuGet",2,"nuget local repos feeds should support nuspec dependency optional targetFramework attribute","""Nuspec defines an optional targetFramework attribute as of version 2.0    http://docs.nuget.org/docs/reference/nuspec-reference#Specifying_Dependencies_in_version_2.0_and_above    When uploading a nupkg with a nuspec containing this attribute, Nexus does not expose the framework bits in the feed <p:dependencies> element, therefore *installing these artifacts from a local nuget repo using visual studio does not work*.    In contrast, *downloading a nupkg from a __proxy__ repository feed WILL work because these dependency details include targetFramework details*.    ----    Example:    1) Download a nupkg which specifies dependencies with targetFramework  https://www.nuget.org/api/v2/package/Microsoft.AspNet.WebApi.Client/5.0.0     Results in a file called microsoft.aspnet.webapi.client.5.0.0.nupkg    ----    1) Boot nexus Pro  2) Add a local repo of Nuget type  3) Using the artifact upload tab, upload the nuget artifact into the local nuget repo.  4) Perform a search against that local nuget repo for the uploaded artifact. The feed entry returned will not contain the targetFramework string inside the dependency element.        ----    Compare this with a proxy Nuget repo of the official feed:  1) in nexus, add a proxy repo against https://www.nuget.org/api/v2  2) wait for the download nuget index task to complete ( approx 5-6 minutes )  3) Perform a search against that proxy nuget repo for the same artifact. The feed entry returned will contain the targetFramework string inside the dependency element.           ----    Attached files contain the detailed differences:    {noformat:title=nexus-local.xml feed from local nuget repo}  curl -v """"http://localhost:8081/nexus/service/local/nuget/nuget-local/Search%28%29?\$filter=IsLatestVersion&\$skip=0&\$top=30&searchTerm=%27microsoft.aspnet.webapi.client%27&targetFramework=%27net45%27&includePrerelease=false"""" -o nexus-local.xml -u admin:admin123      {noformat:title=nuget.org.xml feed direct from nuget.org}  curl -v """"https://www.nuget.org/api/v2/Search%28%29?\$filter=IsLatestVersion&\$skip=0&\$top=30&searchTerm=%27microsoft.aspnet.webapi.client%27&targetFramework=%27net45%27&includePrerelease=false"""" -o nuget.org.xml  {noformat}              """
"NEXUS-6164","Improvement","Build Tooling|Staging",3,"Add ability to disable SSL certificate checks to nexus maven plugins","""It's not uncommon for end users to run Nexus with self signed SSL certificates.  In general they can make Maven play nicely with these by using [system properties|http://maven.apache.org/wagon/wagon-providers/wagon-http/].    It would be nice if the nexus maven plugins had a mechanism to do the same. Having them respect the same system properties referenced above is probably best, since an end user would need to set these anyhow.    """
"NEXUS-6169","Bug","Transport",1,"Nexus 2.7 now returns 501 instead of 405 for MKCOL, possibly breaking some wagons","""Nexus 2.7 is returning 501 for MKCOL now, previous versions returned 405.    Update:  Seems the issue here is monitoring software looking for 50x responses.  This change causes a steady stream of false alarms for some setups.    Update 2: This is causing build slowdowns, since the builds are attempting to create each parent directory individually in response to 501 rather than just giving up as it did with the 405 response."""
"NEXUS-6179","Bug","Repository",3,"Requesting a folder which does not exist in a proxy repository's local storage causes a file to be created in storage.","""Start a clean 2.7 instance.    Add a proxy for https://repository.sonatype.org/content/groups/forge, add it into the public group.    Now request:    http://localhost:8081/nexus/content/groups/public/com    A file named """"com"""" will be downloaded to the proxy repository's local cache (attached).  This file contains the HTML directory listing of the remote.    All attempts to download artifacts that start with """"com"""" will now fail. """
"NEXUS-6177","Bug","Proxy Repository",1,"The ""?asExpired"" flag does not invalidate NFC","""The """"?asExpired"""" flag is meant to invalidate local cache and force a """"remote check"""" for requested item. Still, it is getting blocked by NFC, if the item is not locally cached, but is in NFC."""
"NEXUS-6185","Improvement","Repository",1,"Timestamped M2 Snapshots should be consumable over M1 shadow","""Because of NEXUS-3963 and how shadowed artifact file name is constructed here  https://github.com/sonatype/nexus-oss/blob/nexus-2.7.x/components/nexus-core/src/main/java/org/sonatype/nexus/proxy/maven/LayoutConverterShadowRepository.java#L421    the timestamped M2 artifacts are not consumable by Maven1 from M1 shadow repositories.    Suggested fix: the code on referenced line(s) should be something like this (pseudo code):      Point is in use of {{gav.getBaseVersion()}} that will make shadowed file use {{X-SNAPSHOT}} instead of the timestamped file name.    Note that this change will pose a (neglectable) limitation: Maven1 will """"see"""" and be able to consume only _latest deployed snapshots_. Also, on removal of any snapshot in master repository, the link is shadow will get removed and _not redirected to another timestamped snapshot_. But these issues will not happen, if """"usual"""" configuration is used, where you deploy constantly newer and never snapshots, while having remote old snapshots task running regularly. The link will get """"fixed"""" on new subsequent deploy."""
"NEXUS-6187","Bug","Repository",5,"Inconsistencies in file item checksum handling","""Seems like issue NEXUS-5418 introduced even more inconsistencies as known, and it made """"Rebuild Maven Metadata"""" defunct (unverified, as reported by user on HC).    It caused a known inconsistency, that proxy repositories response on file retrieval of SHA1 (and MD5) files basically """"redirected"""" response to main file (the file that asked checksum belongs to) and served the response generated for main item corresponding attribute. This does not happen in hosted or group repositories, but should.    The problem reported by user probably stems from same change, as """"Rebuild Maven Metadata"""", once you end up with wrong checksums, does not recalculates them, but restores the bad ones from attributes."""
"NEXUS-6220","Bug","Repository Health Check",2,"Repository health check fails when using an HTTP proxy server with NTLM authentication.","""I'm not sure when this regression occurred yet, but RHC no longer works with NTLM http proxy servers.    I tested with 2.6.4 and 2.7.0, and in both cases it fails with 407 response.    When testing with 2.0.6 it works fine (I tested with this version because we originally fixed this in 2.0.1)."""
"NEXUS-6238","Improvement","Yum",1,"provide option to set or not set rpm metadata baseurl per metadata updates","""Scenario:  - yum does not work with authentication + https urls  - yum does work in a limited fashion for authentication + http by putting the username + password as part of the url  - nexus requires base url to be always set in the metadata  - createrepo tool makes setting the baseurl in the metadata optional  - would generally like all requests to Nexus to use https, which typically requires one to """"force it"""" and enter a nexus base url of https://... ,   - forcing the nexus base url to https:// puts https:// in the metadata, forcing yum to try and use https:// urls  - last item breaks yum    request: provide option to set or not set rpm metadata baseurl per each repository metadata modification          """
"NEXUS-6241","Improvement","Support Tools",1,"Add end-user instructions for support ticket creation in Support Tools UI","""The support tools tab does not show how to contact support.  The *Nexus Professional* edition should have a link to the """"create ticket"""" link in the support site (https://support.sonatype.com/anonymous_requests/new).        """
"NEXUS-6246","Bug","Search",2,"Checksum search fails after repair index task is run","""Start up nexus, enable index download for central.  When the task completes search for: dc6a73fdbd1fa3f0944e8497c6c872fa21dca37e    This will work.    Now right click on the central proxy, and run """"repair index"""".  When the task completes repeat the above search.  This fails.    I'm not sure what is going on here... is this due to a difference between the full and incremental indexes published on central?    """
"NEXUS-6251","Improvement","Yum",1,"If yum metadata generation fails the output of the createrepo/mergerepo command should always be logged","""If yum metadata creation fails all we see is this:    {quote}  2014-02-03 11:17:08 WARN  [ool-1-thread-14] - org.sonatype.nexus.yum.internal.task.GenerateMetadataTask - Scheduled task (GenerateMetadataTask) failed :: Generate Yum metadata of repository 'snapshots' (started 2014-02-03T11:17:08+00:00, runtime 0:00:00.391)  java.io.IOException: Yum metadata generation failed   at org.sonatype.nexus.yum.internal.task.GenerateMetadataTask.doRun(GenerateMetadataTask.java:177) ~[na:na]   at org.sonatype.nexus.yum.internal.task.GenerateMetadataTask.doRun(GenerateMetadataTask.java:72) ~[na:na]   at org.sonatype.nexus.scheduling.AbstractNexusTask.call(AbstractNexusTask.java:157) ~[nexus-core-2.7.1-01.jar:2.7.1-01]   at org.sonatype.scheduling.DefaultScheduledTask.call(DefaultScheduledTask.java:419) [nexus-scheduler-2.7.1-01.jar:2.7.1-01]   at org.sonatype.nexus.threads.MDCAwareCallable.call(MDCAwareCallable.java:45) [nexus-core-2.7.1-01.jar:2.7.1-01]   at org.apache.shiro.subject.support.SubjectCallable.doCall(SubjectCallable.java:90) [shiro-core-1.2.2.jar:1.2.2]   at org.apache.shiro.subject.support.SubjectCallable.call(SubjectCallable.java:83) [shiro-core-1.2.2.jar:1.2.2]   at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:334) [na:1.7.0_10]   at java.util.concurrent.FutureTask.run(FutureTask.java:166) [na:1.7.0_10]   at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:178) [na:1.7.0_10]   at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:292) [na:1.7.0_10]   at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1110) [na:1.7.0_10]   at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603) [na:1.7.0_10]   at java.lang.Thread.run(Thread.java:722) [na:1.7.0_10]  Caused by: org.apache.commons.exec.ExecuteException: Process exited with an error: 1 (Exit value: 1)   at org.apache.commons.exec.DefaultExecutor.executeInternal(DefaultExecutor.java:377) ~[na:na]   at org.apache.commons.exec.DefaultExecutor.execute(DefaultExecutor.java:160) ~[na:na]   at org.apache.commons.exec.DefaultExecutor.execute(DefaultExecutor.java:147) ~[na:na]   at org.sonatype.nexus.yum.internal.task.CommandLineExecutor.exec(CommandLineExecutor.java:46) ~[na:na]   at org.sonatype.nexus.yum.internal.task.GenerateMetadataTask.doRun(GenerateMetadataTask.java:168) ~[na:na]   ... 13 common frames omitted    {quote}    This makes it pretty much impossible to figure out what happened.  We need to record the command output in case of failure."""
"NEXUS-6261","Bug","Yum",3,"prevent scheduling a new YUM GenerateMetadataTask when one is already blocked","""We are concerned that more one YUM GenerateMetadataTask can be blocked while waiting for one to complete that is running already.    Given One YUM GenerateMetadataTask (A) against repo (X) is already running  and Given One YUM GenerateMetadataTask (B) against repo (X) is already blocked waiting for A to complete  Then do not queue another YUM GenerateMetadataTask (C) against repo (X)    This is to help avoid depleting the scheduled task queue if many rpms are being added and deleted from the same repo.    Such a condition should be noticeable using INFO level logging to help detect when this happens.  """
"NEXUS-6294","Bug","System Feeds",1,"timeline can leave index files in deleted state","""Similar to NEXUS-6172, the Timeline indexer can apparently also leave index related files in deleted state.    Example:       """
"NEXUS-6306","Bug","Staging",1,"strip out invalid addressees out of staging emails before send attempt","""Staging emails can be sent to users identified by roles, specific email addresses, and the """"creator"""" of the staging repo. If any one of these collected addresses is invalid syntactically, the entire email sending fails. The message logged:        Some client side validation should be performed on the collected addresses before sending. If there are any addresses left after striping out the bad ones, continue the send attempt to these 'good ones'. Log at WARN all stripped addresses so an admin has a chance to correct this.  """
"NEXUS-6303","Improvement","Security",3,"poorly named caches","""See attached image.    The part after """"."""" is driven by Shiro - there should always be one authenticatingCache and one authorizationCache for any realm, *if enabled"""" - otherwise it should not even be present/visible.    The part before """"."""" is driven by Nexus impl. Keep it simple:  Prefix names like this should be used:    """"XML""""  """"LDAP""""  """"Crowd""""  """"kenai""""    """"enterprise-ldap"""" cache should be deleted as is legacy junk and replaced with """"LDAP.authenticationCache and """"LDAP.autorizationCache"""" proper.    """"path-cache"""" of what? Suggestions for better name here? Like """"Nexus.contentPathCache""""    """"shiro-activeSessionCache"""" - should probably remove the name shiro here and mention it as """"Nexus.sessionCache"""" or similar.              """
"NEXUS-6307","Improvement","SSL",1,"Print message in log if high-strength JCE is installed","""Not having JCE *may* cause problems with some installation configurations.    We should detect if it is installed, and if it is installed, log the fact at INFO.    Apparently calling this will work for this purpose:    Cipher.getMaxAllowedKeyLength(""""AES"""");    It will return 128 if no JCE is installed, 2147483647 if it is."""
"NEXUS-6310","Technical Debt","Repository",1,"Upgrade to Tika 1.6","""Once it is released, probably around end of April 2014.    And then remove the custom mime types fix added in issue NEXUS-6271, like the custom mime XML."""
"NEXUS-6316","Task","Security",0.5,"Update Shiro dependency to 1.2.3","""As Shiro 1.2.3 is out, we should bump Nexus Shiro dependency to it. Nexus currently uses 1.2.2"""
"NEXUS-6332","Improvement","Crowd",3,"Replace Crowd modello configuration with a capability","""Acceptance Criteria:  On upgrade, latest crowd configuration will be converted to a capability  Users will have to first upgrade to 2.8 to get on latest crowd configuration"""
"NEXUS-6489","Improvement","Capabilities",1,"Add support class for capabilities without configuration","""There are a bunch of capabilities that do not have any configuration, all of them using similar class as configuration. Create a support class """"WithoutConfiguration"""" and reuse it all over the place."""
"NEXUS-6501","Bug","Transport",1,"inbound request URL syntax validity should be checked and fail fast","""Inbound request URLs that contain certain invalid characters may bypass basic syntax checking and cause Nexus to perform more internal work then necessary. This can also cause Nexus to report noisy WARN messages in the logs.     Expected:  Nexus should perform URL syntax validation as early as possible and fail with simple log messages instead of verbose WARN when a URL is syntactically invalid. The HTTP response should return a 400 status in this case.    """
"NEXUS-6500","Bug","Licensing",2,"Unable to install a license after a non-trial license expires","""If a non-trial license expires you cannot install a new license through the UI.    {quote}  2016-04-30 16:43:56,265-0500 DEBUG [qtp30070137-72]  org.apache.shiro.session.mgt.DefaultSessionManager - Unable to resolve session ID from SessionKey [org.apache.shiro.web.session.mgt.WebSessionKey@411147].  Returning null to indicate a session could not be found.  2016-04-30 16:43:56,265-0500 DEBUG [qtp30070137-72] *UNKNOWN org.sonatype.nexus.restlet1x.internal.RestletServlet - Processing: POST /nexus/service/local/licensing/upload (http://localhost:8081/nexus/service/local/licensing/upload)  2016-04-30 16:43:56,437-0500 INFO  [qtp30070137-72] *UNKNOWN /nexus - nexus: [Noelios Restlet Engine] - Attaching application: org.sonatype.nexus.rest.NexusApplication@1da2473 to URI: /nexus/service/local  2016-04-30 16:43:56,546-0500 DEBUG [qtp30070137-72] *UNKNOWN com.sonatype.nexus.licensing.api.LicenseInstallPlexusResource - Error installing license, returning status: Forbidden (403) - Subject is unauthorized to install a license.  org.sonatype.plexus.rest.resource.PlexusResourceException: Subject is unauthorized to install a license.   at com.sonatype.nexus.licensing.api.LicenseInstallPlexusResource.checkPermission(LicenseInstallPlexusResource.java:297) [nexus-licensing-plugin-2.8.0-01/:na]   at com.sonatype.nexus.licensing.api.LicenseInstallPlexusResource.upload(LicenseInstallPlexusResource.java:256) [nexus-licensing-plugin-2.8.0-01/:na]   at com.sonatype.nexus.licensing.api.LicenseInstallPlexusResource.upload(LicenseInstallPlexusResource.java:219) [nexus-licensing-plugin-2.8.0-01/:na]   at org.sonatype.plexus.rest.resource.RestletResource.upload(RestletResource.java:350) ~[nexus-restlet1x-plugin-2.8.0-01/:na]   at org.sonatype.plexus.rest.resource.RestletResource.acceptRepresentation(RestletResource.java:250) ~[nexus-restlet1x-plugin-2.8.0-01/:na]   at org.sonatype.nexus.rest.NexusRestletResource.acceptRepresentation(NexusRestletResource.java:70) ~[nexus-restlet1x-plugin-2.8.0-01/:na]   at org.restlet.resource.Resource.post(Resource.java:688) ~[nexus-restlet1x-plugin-2.8.0-01/:na]   at org.restlet.resource.Resource.handlePost(Resource.java:537) ~[nexus-restlet1x-plugin-2.8.0-01/:na]   at org.restlet.Finder.handle(Finder.java:357) ~[nexus-restlet1x-plugin-2.8.0-01/:na]   at org.restlet.Filter.doHandle(Filter.java:150) ~[nexus-restlet1x-plugin-2.8.0-01/:na]   at org.restlet.Filter.handle(Filter.java:195) ~[nexus-restlet1x-plugin-2.8.0-01/:na]   at org.restlet.Router.handle(Router.java:504) ~[nexus-restlet1x-plugin-2.8.0-01/:na]   at org.restlet.Filter.doHandle(Filter.java:150) ~[nexus-restlet1x-plugin-2.8.0-01/:na]   at org.restlet.Filter.handle(Filter.java:195) ~[nexus-restlet1x-plugin-2.8.0-01/:na]   at org.restlet.Filter.doHandle(Filter.java:150) ~[nexus-restlet1x-plugin-2.8.0-01/:na]   at org.sonatype.plexus.rest.RetargetableRestlet.doHandle(RetargetableRestlet.java:36) ~[nexus-restlet1x-plugin-2.8.0-01/:na]   at org.restlet.Filter.handle(Filter.java:195) ~[nexus-restlet1x-plugin-2.8.0-01/:na]   at org.restlet.Filter.doHandle(Filter.java:150) ~[nexus-restlet1x-plugin-2.8.0-01/:na]   at org.restlet.Filter.handle(Filter.java:195) ~[nexus-restlet1x-plugin-2.8.0-01/:na]   at org.restlet.Filter.doHandle(Filter.java:150) ~[nexus-restlet1x-plugin-2.8.0-01/:na]   at org.restlet.Filter.handle(Filter.java:195) ~[nexus-restlet1x-plugin-2.8.0-01/:na]   at org.restlet.Filter.doHandle(Filter.java:150) ~[nexus-restlet1x-plugin-2.8.0-01/:na]   at com.noelios.restlet.StatusFilter.doHandle(StatusFilter.java:130) ~[nexus-restlet1x-plugin-2.8.0-01/:na]   at org.restlet.Filter.handle(Filter.java:195) ~[nexus-restlet1x-plugin-2.8.0-01/:na]   at org.restlet.Filter.doHandle(Filter.java:150) ~[nexus-restlet1x-plugin-2.8.0-01/:na]   at org.restlet.Filter.handle(Filter.java:195) ~[nexus-restlet1x-plugin-2.8.0-01/:na]   at com.noelios.restlet.ChainHelper.handle(ChainHelper.java:124) ~[nexus-restlet1x-plugin-2.8.0-01/:na]   at com.noelios.restlet.application.ApplicationHelper.handle(ApplicationHelper.java:112) ~[nexus-restlet1x-plugin-2.8.0-01/:na]   at org.restlet.Application.handle(Application.java:341) ~[nexus-restlet1x-plugin-2.8.0-01/:na]   at org.restlet.Filter.doHandle(Filter.java:150) ~[nexus-restlet1x-plugin-2.8.0-01/:na]   at org.restlet.Filter.handle(Filter.java:195) ~[nexus-restlet1x-plugin-2.8.0-01/:na]   at org.restlet.Router.handle(Router.java:504) ~[nexus-restlet1x-plugin-2.8.0-01/:na]   at org.restlet.Filter.doHandle(Filter.java:150) ~[nexus-restlet1x-plugin-2.8.0-01/:na]   at org.restlet.Filter.handle(Filter.java:195) ~[nexus-restlet1x-plugin-2.8.0-01/:na]   at org.restlet.Router.handle(Router.java:504) ~[nexus-restlet1x-plugin-2.8.0-01/:na]   at com.noelios.restlet.ChainHelper.handle(ChainHelper.java:124) ~[nexus-restlet1x-plugin-2.8.0-01/:na]   at org.restlet.Component.handle(Component.java:676) ~[nexus-restlet1x-plugin-2.8.0-01/:na]   at org.restlet.Server.handle(Server.java:331) ~[nexus-restlet1x-plugin-2.8.0-01/:na]   at com.noelios.restlet.ServerHelper.handle(ServerHelper.java:68) ~[nexus-restlet1x-plugin-2.8.0-01/:na]   at com.noelios.restlet.http.HttpServerHelper.handle(HttpServerHelper.java:147) ~[nexus-restlet1x-plugin-2.8.0-01/:na]   at com.noelios.restlet.ext.servlet.ServerServlet.service(ServerServlet.java:881) ~[nexus-restlet1x-plugin-2.8.0-01/:na]   at org.sonatype.nexus.restlet1x.internal.RestletServlet.service(RestletServlet.java:90) ~[nexus-restlet1x-plugin-2.8.0-01/:na]   at javax.servlet.http.HttpServlet.service(HttpServlet.java:848) ~[javax.servlet-3.0.0.v201112011016.jar:na]   at com.google.inject.servlet.ServletDefinition.doServiceImpl(ServletDefinition.java:288) ~[guice-servlet-3.1.10.jar:3.1.10]   at com.google.inject.servlet.ServletDefinition.doService(ServletDefinition.java:278) ~[guice-servlet-3.1.10.jar:3.1.10]   at com.google.inject.servlet.ServletDefinition.service(ServletDefinition.java:182) ~[guice-servlet-3.1.10.jar:3.1.10]   at com.google.inject.servlet.ManagedServletPipeline.service(ManagedServletPipeline.java:93) ~[guice-servlet-3.1.10.jar:3.1.10]   at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:85) ~[guice-servlet-3.1.10.jar:3.1.10]   at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:112) ~[shiro-web-1.2.2.jar:1.2.2]   at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:82) ~[guice-servlet-3.1.10.jar:3.1.10]   at com.google.inject.servlet.ManagedFilterPipeline.dispatch(ManagedFilterPipeline.java:120) ~[guice-servlet-3.1.10.jar:3.1.10]   at org.sonatype.nexus.web.internal.NexusGuiceFilter$MultiFilterChain.doFilter(NexusGuiceFilter.java:82) ~[nexus-core-2.8.0-01.jar:2.8.0-01]   at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:89) ~[guice-servlet-3.1.10.jar:3.1.10]   at com.google.inject.servlet.ManagedFilterPipeline.dispatch(ManagedFilterPipeline.java:120) ~[guice-servlet-3.1.10.jar:3.1.10]   at org.sonatype.nexus.web.internal.NexusGuiceFilter$MultiFilterChain.doFilter(NexusGuiceFilter.java:82) ~[nexus-core-2.8.0-01.jar:2.8.0-01]   at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:89) ~[guice-servlet-3.1.10.jar:3.1.10]   at com.google.inject.servlet.ManagedFilterPipeline.dispatch(ManagedFilterPipeline.java:120) ~[guice-servlet-3.1.10.jar:3.1.10]   at org.sonatype.nexus.web.internal.NexusGuiceFilter$MultiFilterChain.doFilter(NexusGuiceFilter.java:82) ~[nexus-core-2.8.0-01.jar:2.8.0-01]   at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:89) ~[guice-servlet-3.1.10.jar:3.1.10]   at com.sonatype.nexus.analytics.internal.RestRequestCollector.doFilter(RestRequestCollector.java:82) ~[na:na]   at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:82) ~[guice-servlet-3.1.10.jar:3.1.10]   at org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilterChain.java:61) ~[shiro-web-1.2.2.jar:1.2.2]   at org.apache.shiro.web.servlet.AdviceFilter.executeChain(AdviceFilter.java:108) ~[shiro-web-1.2.2.jar:1.2.2]   at org.apache.shiro.web.servlet.AdviceFilter.doFilterInternal(AdviceFilter.java:137) ~[shiro-web-1.2.2.jar:1.2.2]   at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:125) ~[shiro-web-1.2.2.jar:1.2.2]   at org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilterChain.java:66) ~[shiro-web-1.2.2.jar:1.2.2]   at org.apache.shiro.web.servlet.AdviceFilter.executeChain(AdviceFilter.java:108) ~[shiro-web-1.2.2.jar:1.2.2]   at org.apache.shiro.web.servlet.AdviceFilter.doFilterInternal(AdviceFilter.java:137) ~[shiro-web-1.2.2.jar:1.2.2]   at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:125) ~[shiro-web-1.2.2.jar:1.2.2]   at org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilterChain.java:66) ~[shiro-web-1.2.2.jar:1.2.2]   at org.apache.shiro.web.servlet.AbstractShiroFilter.executeChain(AbstractShiroFilter.java:449) ~[shiro-web-1.2.2.jar:1.2.2]   at org.sonatype.nexus.web.internal.SecurityFilter.executeChain(SecurityFilter.java:73) ~[nexus-core-2.8.0-01.jar:2.8.0-01]   at org.apache.shiro.web.servlet.AbstractShiroFilter$1.call(AbstractShiroFilter.java:365) ~[shiro-web-1.2.2.jar:1.2.2]   at org.apache.shiro.subject.support.SubjectCallable.doCall(SubjectCallable.java:90) ~[shiro-core-1.2.2.jar:1.2.2]   at org.apache.shiro.subject.support.SubjectCallable.call(SubjectCallable.java:83) ~[shiro-core-1.2.2.jar:1.2.2]   at org.apache.shiro.subject.support.DelegatingSubject.execute(DelegatingSubject.java:383) ~[shiro-core-1.2.2.jar:1.2.2]   at org.apache.shiro.web.servlet.AbstractShiroFilter.doFilterInternal(AbstractShiroFilter.java:362) ~[shiro-web-1.2.2.jar:1.2.2]   at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:125) ~[shiro-web-1.2.2.jar:1.2.2]   at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:82) ~[guice-servlet-3.1.10.jar:3.1.10]   at com.google.inject.servlet.ManagedFilterPipeline.dispatch(ManagedFilterPipeline.java:120) ~[guice-servlet-3.1.10.jar:3.1.10]   at org.sonatype.nexus.web.internal.NexusGuiceFilter$MultiFilterChain.doFilter(NexusGuiceFilter.java:82) ~[nexus-core-2.8.0-01.jar:2.8.0-01]   at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:89) ~[guice-servlet-3.1.10.jar:3.1.10]   at com.sonatype.nexus.licensing.internal.LicensingRedirectFilter.doFilter(LicensingRedirectFilter.java:135) ~[nexus-licensing-plugin-2.8.0-01/:na]   at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:82) ~[guice-servlet-3.1.10.jar:3.1.10]   at com.google.inject.servlet.ManagedFilterPipeline.dispatch(ManagedFilterPipeline.java:120) ~[guice-servlet-3.1.10.jar:3.1.10]   at org.sonatype.nexus.web.internal.NexusGuiceFilter$MultiFilterChain.doFilter(NexusGuiceFilter.java:82) ~[nexus-core-2.8.0-01.jar:2.8.0-01]   at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:89) ~[guice-servlet-3.1.10.jar:3.1.10]   at com.yammer.metrics.web.WebappMetricsFilter.doFilter(WebappMetricsFilter.java:76) ~[metrics-web-2.2.0.jar:na]   at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:82) ~[guice-servlet-3.1.10.jar:3.1.10]   at org.sonatype.nexus.web.internal.CommonHeadersFilter.doFilter(CommonHeadersFilter.java:67) ~[nexus-core-2.8.0-01.jar:2.8.0-01]   at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:82) ~[guice-servlet-3.1.10.jar:3.1.10]   at org.sonatype.nexus.web.internal.ErrorPageFilter.doFilter(ErrorPageFilter.java:71) ~[nexus-core-2.8.0-01.jar:2.8.0-01]   at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:82) ~[guice-servlet-3.1.10.jar:3.1.10]   at org.sonatype.nexus.web.internal.BaseUrlHolderFilter.doFilter(BaseUrlHolderFilter.java:70) ~[nexus-core-2.8.0-01.jar:2.8.0-01]   at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:82) ~[guice-servlet-3.1.10.jar:3.1.10]   at com.google.inject.servlet.ManagedFilterPipeline.dispatch(ManagedFilterPipeline.java:120) ~[guice-servlet-3.1.10.jar:3.1.10]   at org.sonatype.nexus.web.internal.NexusGuiceFilter$MultiFilterChain.doFilter(NexusGuiceFilter.java:82) ~[nexus-core-2.8.0-01.jar:2.8.0-01]   at org.sonatype.nexus.web.internal.NexusGuiceFilter$MultiFilterPipeline.dispatch(NexusGuiceFilter.java:56) ~[nexus-core-2.8.0-01.jar:2.8.0-01]   at com.google.inject.servlet.GuiceFilter$1.call(GuiceFilter.java:132) ~[guice-servlet-3.1.10.jar:3.1.10]   at com.google.inject.servlet.GuiceFilter$1.call(GuiceFilter.java:129) ~[guice-servlet-3.1.10.jar:3.1.10]   at com.google.inject.servlet.GuiceFilter$Context.call(GuiceFilter.java:206) ~[guice-servlet-3.1.10.jar:3.1.10]   at com.google.inject.servlet.GuiceFilter.doFilter(GuiceFilter.java:129) ~[guice-servlet-3.1.10.jar:3.1.10]   at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1419) ~[jetty-servlet-8.1.11.v20130520.jar:8.1.11.v20130520]   at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:455) ~[jetty-servlet-8.1.11.v20130520.jar:8.1.11.v20130520]   at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:137) ~[jetty-server-8.1.11.v20130520.jar:8.1.11.v20130520]   at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:557) ~[jetty-security-8.1.11.v20130520.jar:8.1.11.v20130520]   at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:231) ~[jetty-server-8.1.11.v20130520.jar:8.1.11.v20130520]   at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1075) ~[jetty-server-8.1.11.v20130520.jar:8.1.11.v20130520]   at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:384) ~[jetty-servlet-8.1.11.v20130520.jar:8.1.11.v20130520]   at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:193) ~[jetty-server-8.1.11.v20130520.jar:8.1.11.v20130520]   at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1009) ~[jetty-server-8.1.11.v20130520.jar:8.1.11.v20130520]   at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:135) ~[jetty-server-8.1.11.v20130520.jar:8.1.11.v20130520]   at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:116) ~[jetty-server-8.1.11.v20130520.jar:8.1.11.v20130520]   at com.yammer.metrics.jetty.InstrumentedHandler.handle(InstrumentedHandler.java:200) ~[metrics-jetty-2.2.0.jar:na]   at org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:154) ~[jetty-server-8.1.11.v20130520.jar:8.1.11.v20130520]   at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:116) ~[jetty-server-8.1.11.v20130520.jar:8.1.11.v20130520]   at org.eclipse.jetty.server.Server.handle(Server.java:370) ~[jetty-server-8.1.11.v20130520.jar:8.1.11.v20130520]   at org.eclipse.jetty.server.AbstractHttpConnection.handleRequest(AbstractHttpConnection.java:489) ~[jetty-server-8.1.11.v20130520.jar:8.1.11.v20130520]   at org.eclipse.jetty.server.AbstractHttpConnection.content(AbstractHttpConnection.java:960) ~[jetty-server-8.1.11.v20130520.jar:8.1.11.v20130520]   at org.eclipse.jetty.server.AbstractHttpConnection$RequestHandler.content(AbstractHttpConnection.java:1021) ~[jetty-server-8.1.11.v20130520.jar:8.1.11.v20130520]   at org.eclipse.jetty.http.HttpParser.parseNext(HttpParser.java:865) ~[jetty-http-8.1.11.v20130520.jar:8.1.11.v20130520]   at org.eclipse.jetty.http.HttpParser.parseAvailable(HttpParser.java:240) ~[jetty-http-8.1.11.v20130520.jar:8.1.11.v20130520]   at org.eclipse.jetty.server.AsyncHttpConnection.handle(AsyncHttpConnection.java:82) ~[jetty-server-8.1.11.v20130520.jar:8.1.11.v20130520]   at org.eclipse.jetty.io.nio.SelectChannelEndPoint.handle(SelectChannelEndPoint.java:668) ~[jetty-io-8.1.11.v20130520.jar:8.1.11.v20130520]   at org.eclipse.jetty.io.nio.SelectChannelEndPoint$1.run(SelectChannelEndPoint.java:52) ~[jetty-io-8.1.11.v20130520.jar:8.1.11.v20130520]   at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:608) ~[jetty-util-8.1.11.v20130520.jar:8.1.11.v20130520]   at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:543) ~[jetty-util-8.1.11.v20130520.jar:8.1.11.v20130520]   at java.lang.Thread.run(Unknown Source) ~[na:1.7.0_25]    {quote}"""
"NEXUS-6510","Bug","Maven",0.5,"ERROR log message from M2Repository - LocalStorageException FileAlreadyExistsException does not include root cause throwable","""Nexus logs may contain an ERROR log message similar to the following ( not specific to this particular artifact ):    {quote}  2014-04-01 14:36:02 ERROR [qtp608010191-4349] anonymous org.sonatype.nexus.proxy.maven.maven2.M2Repository - Got LocalStorageException in proxy repository """"Atlassian"""" [id=atlassian] while caching retrieved artifact """"ResourceStoreRequest\{...\}"""" got from URL https://maven.atlassian.com/public/, will attempt next mirror, cause: java.nio.file.FileAlreadyExistsException: /home/nexus/nexus/sonatype-work/nexus/storage/atlassian/com/atlassian/jira/jira-func-tests/4.4.1  {quote}    Cause:    {quote}  java.nio.file.FileAlreadyExistsException: /home/nexus/nexus/sonatype-work/nexus/storage/atlassian/com/atlassian/jira/jira-func-tests/4.4.1  {quote}    Expected:    This log message should include a stack trace to better understand what led to this problem."""
"NEXUS-6505","Bug","Yum",3,"Yum metadata generation can block download of repomd.xml file for long periods of time.","""The generation of yum metadata can block downloads of the repomd.xml file for a long time.    Nexus should not hold the lock on this file for a long period of time.  One possible solution to this would be to generate the metadata in a temporary location, and then acquire the lock only to move it into place."""
"NEXUS-6530","Improvement","NuGet",0.5,"Archive browser doesn't work for NuGet .nupkg packages","""The archive browser doesn't work for NuGet packages.  Adding an override into the nexus.mimetypes file in WEB-INF/classes fixes this, so it seems to be just a case of a missing default value.    We should add """"nupkg: application/zip"""" into our default mime types.  """
"NEXUS-6524","Technical Debt","Testsuite",2,"Remove plexusldaptestsuite","""Similar to NEXUS-6511, this one is also an aged plexus component.    https://github.com/sonatype/sisu-ldap-testsuite    Use case in UTs/ITs:  - load a LDIF file  - start up a LDAP server  - use of ldap/ldaps protocols  - using LDAP server from LDAP Realm of Security    We might update the existing tooling, or replace it with something like this  (is WIP but looks nice), or just roll a very thing wrapper around ApacheDS/OpenDS/whatever    https://github.com/trevershick/ldap-test-utils"""
"NEXUS-6536","Technical Debt","Security",5,"Replace N and TN security ids with meaningful identifiers","""Get rid of confusing security entity identifiers.  13 or T9 is meaningless, use meaningful names instead["""
"NEXUS-6537","Task","Repository",1,"File deletion does a copy/delete to trash rather than a move","""Not sure why we are doing a copy/delete here:    https://github.com/sonatype/nexus-oss/blob/master/components/nexus-core/src/main/java/org/sonatype/nexus/util/file/DirSupport.java#L325    I seem to recall that a file move in Java will do a move if possible, and fall back to copy/delete if it isn't.  If this is the case we should consider changing this implementation."""
"NEXUS-6560","Bug","Maven",2,"uncompressed archives with HTML file as an entry can be rejected by file content validation","""Fire up Nexus 2.7.2, and retrieve this URL:    http://localhost:8081/nexus/content/groups/public/com/intellij/annotations/7.0.3/annotations-7.0.3.jar    This works.    Now try the same with Nexus 2.8.0.  This will fail, the artifact is rejected by file content validation.  I'm not sure why, the magic number is correct, and various zip programs I tried (including jar) unpack it without complaint.      {quote}  jvm 1 | 2014-04-29 09:15:15,818-0500 INFO [qtp128766849-84] admin org.sonatype.nexus.proxy.maven.maven2.M2Repository - Proxied item central:/com/intellij/annotations/7.0.3/annotations-7.0.3.jar evaluated as INVALID during content validation (validator=filetypevalidator, sourceUrl=https://secure.central.sonatype.com/maven2/com/intellij/annotations/7.0.3/annotations-7.0.3.jar)  {quote}"""
"NEXUS-6564","Bug","OBR|Smart Proxy",3,"OBR virtual repository metadata update fails when triggered by smart proxy download immediately","""A virtual OBR repository shadowing a maven release proxy repository is not able to update it's metadata in response to a smart proxy preemptive fetch due to lack of privileges.    {quote}  2014-05-01 13:07:19,745-0500 WARN  [esh-1-thread-19] *SYSTEM org.sonatype.nexus.obr.shadow.ObrShadowRepository - Could not sync shadow ObrShadowRepository(id=obv) for event RepositoryItemEventCacheUpdate(sender=""""abc"""" [id=abc], abc:/com/osgiknowhow/sandbox/pig-latin-client/1.0.1/pig-latin-client-1.0.1.jar)  org.sonatype.nexus.proxy.StorageException: A storage exception occured!   at org.sonatype.nexus.obr.util.ObrUtils.updateObr(ObrUtils.java:323) ~[na:na]   at org.sonatype.nexus.obr.shadow.ObrShadowRepository.updateLink(ObrShadowRepository.java:145) ~[na:na]   at org.sonatype.nexus.obr.shadow.ObrShadowRepository.createLink(ObrShadowRepository.java:124) ~[na:na]   at org.sonatype.nexus.proxy.repository.AbstractShadowRepository.onRepositoryItemEvent(AbstractShadowRepository.java:113) ~[nexus-core-2.8.0-05.jar:2.8.0-05]   at sun.reflect.GeneratedMethodAccessor37.invoke(Unknown Source) ~[na:na]   at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.7.0_55]   at java.lang.reflect.Method.invoke(Method.java:606) ~[na:1.7.0_55]   at org.sonatype.sisu.goodies.eventbus.internal.guava.EventHandler.handleEvent(EventHandler.java:80) [goodies-eventbus-1.9.jar:1.9]   at org.sonatype.sisu.goodies.eventbus.internal.guava.EventBus.dispatch(EventBus.java:329) [goodies-eventbus-1.9.jar:1.9]   at org.sonatype.sisu.goodies.eventbus.internal.DefaultGuavaEventBus.dispatch(DefaultGuavaEventBus.java:34) [goodies-eventbus-1.9.jar:1.9]   at org.sonatype.sisu.goodies.eventbus.internal.ReentrantGuavaEventBus.dispatchQueuedEvents(ReentrantGuavaEventBus.java:57) [goodies-eventbus-1.9.jar:1.9]   at org.sonatype.sisu.goodies.eventbus.internal.guava.EventBus.post(EventBus.java:281) [goodies-eventbus-1.9.jar:1.9]   at org.sonatype.sisu.goodies.eventbus.internal.DefaultEventBus.post(DefaultEventBus.java:78) [goodies-eventbus-1.9.jar:1.9]   at org.sonatype.nexus.proxy.repository.AbstractProxyRepository.doCacheItem(AbstractProxyRepository.java:879) [nexus-core-2.8.0-05.jar:2.8.0-05]   at org.sonatype.nexus.proxy.maven.AbstractMavenRepository.doCacheItem(AbstractMavenRepository.java:482) [nexus-core-2.8.0-05.jar:2.8.0-05]   at org.sonatype.nexus.proxy.maven.maven2.M2Repository.doCacheItem(M2Repository.java:231) [nexus-core-2.8.0-05.jar:2.8.0-05]   at org.sonatype.nexus.proxy.repository.AbstractProxyRepository.doRetrieveRemoteItem(AbstractProxyRepository.java:1364) [nexus-core-2.8.0-05.jar:2.8.0-05]   at org.sonatype.nexus.proxy.repository.AbstractProxyRepository.doRetrieveItem0(AbstractProxyRepository.java:1103) [nexus-core-2.8.0-05.jar:2.8.0-05]   at org.sonatype.nexus.proxy.repository.AbstractProxyRepository.doRetrieveItem(AbstractProxyRepository.java:986) [nexus-core-2.8.0-05.jar:2.8.0-05]   at org.sonatype.nexus.proxy.maven.AbstractMavenRepository.doRetrieveArtifactItem(AbstractMavenRepository.java:408) [nexus-core-2.8.0-05.jar:2.8.0-05]   at org.sonatype.nexus.proxy.maven.AbstractMavenRepository.doRetrieveItem(AbstractMavenRepository.java:391) [nexus-core-2.8.0-05.jar:2.8.0-05]   at org.sonatype.nexus.proxy.maven.maven2.M2Repository.doRetrieveItem(M2Repository.java:395) [nexus-core-2.8.0-05.jar:2.8.0-05]   at org.sonatype.nexus.proxy.repository.AbstractRepository.retrieveItem(AbstractRepository.java:757) [nexus-core-2.8.0-05.jar:2.8.0-05]   at com.sonatype.nexus.plugins.smartproxy.event.internal.handler.ItemHandlerSupport.fetchItem(ItemHandlerSupport.java:190) [nexus-smartproxy-plugin-2.8.0-05/:na]   at com.sonatype.nexus.plugins.smartproxy.event.internal.handler.ItemHandlerSupport.doFetchItem(ItemHandlerSupport.java:205) [nexus-smartproxy-plugin-2.8.0-05/:na]   at com.sonatype.nexus.plugins.smartproxy.event.internal.handler.ItemHandlerSupport.access$000(ItemHandlerSupport.java:48) [nexus-smartproxy-plugin-2.8.0-05/:na]   at com.sonatype.nexus.plugins.smartproxy.event.internal.handler.ItemHandlerSupport$PreemptiveFetchItemEvent.perform(ItemHandlerSupport.java:254) [nexus-smartproxy-plugin-2.8.0-05/:na]   at com.sonatype.nexus.plugins.smartproxy.event.internal.handler.ItemHandlerSupport$PreemptiveFetchItemEventInspector.inspect(ItemHandlerSupport.java:270) [nexus-smartproxy-plugin-2.8.0-05/:na]   at sun.reflect.GeneratedMethodAccessor72.invoke(Unknown Source) ~[na:na]   at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.7.0_55]   at java.lang.reflect.Method.invoke(Method.java:606) ~[na:1.7.0_55]   at com.google.common.eventbus.EventSubscriber.handleEvent(EventSubscriber.java:74) [guava-16.0.1.jar:na]   at com.google.common.eventbus.EventBus.dispatch(EventBus.java:322) [guava-16.0.1.jar:na]   at com.google.common.eventbus.AsyncEventBus.access$001(AsyncEventBus.java:34) [guava-16.0.1.jar:na]   at com.google.common.eventbus.AsyncEventBus$1.run(AsyncEventBus.java:117) [guava-16.0.1.jar:na]   at org.sonatype.nexus.threads.MDCAwareRunnable.run(MDCAwareRunnable.java:41) [nexus-core-2.8.0-05.jar:2.8.0-05]   at org.apache.shiro.subject.support.SubjectRunnable.doRun(SubjectRunnable.java:120) [shiro-core-1.2.2.jar:1.2.2]   at org.apache.shiro.subject.support.SubjectRunnable.run(SubjectRunnable.java:108) [shiro-core-1.2.2.jar:1.2.2]   at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [na:1.7.0_55]   at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [na:1.7.0_55]   at java.lang.Thread.run(Thread.java:745) [na:1.7.0_55]  Caused by: org.sonatype.nexus.proxy.StorageException: A storage exception occured!   at org.sonatype.nexus.obr.util.ObrUtils.retrieveObrItem(ObrUtils.java:178) ~[na:na]   at org.sonatype.nexus.obr.util.ObrUtils.updateObr(ObrUtils.java:301) ~[na:na]   ... 40 common frames omitted  Caused by: org.sonatype.nexus.proxy.AccessDeniedException: Access denied on repository ID='obv', path='/.meta/obr.xml', action='read'!   at org.sonatype.nexus.proxy.access.DefaultAccessManager.decide(DefaultAccessManager.java:48) ~[nexus-core-2.8.0-05.jar:2.8.0-05]   at org.sonatype.nexus.proxy.repository.AbstractRepository.checkConditions(AbstractRepository.java:1174) [nexus-core-2.8.0-05.jar:2.8.0-05]   at org.sonatype.nexus.proxy.repository.AbstractRepository.retrieveItem(AbstractRepository.java:587) [nexus-core-2.8.0-05.jar:2.8.0-05]   at org.sonatype.nexus.obr.util.ObrUtils.retrieveObrItem(ObrUtils.java:166) ~[na:na]   ... 41 common frames omitted  {quote}"""
"NEXUS-6562","Bug","Procurement",1,"Regression: File content validation still enabled for procurement, no way to disable","""This was supposed to have been fixed in 2.8:  NEXUS-6234    It seems it wasn't, I'm still seeing this issue."""
"NEXUS-6569","Improvement","Security",1,"Add X-Frame-Options header to avoid clickjacking","""https://developer.mozilla.org/en-US/docs/Web/HTTP/X-Frame-Options    Unsure if this needs to be just on the index.html or on more content responses too?"""
"NEXUS-6570","Bug","Smart Proxy",2,"Smart Proxy download immediately option for checksum updates sends duplicate download requests for main artifact","""Set up a two nexus instances, one proxying the other with smart proxy + preemptive fetch.  Artifacts deployed to the remote are downloaded 3 times.    Retrieval:    {quote}  2014-05-06 13:23:41 DEBUG [esh-1-thread-5] *SYSTEM remote.storage.outbound - [abc] GET http://192.168.1.155:8081/nexus/content/repositories/releases/com/foo/project/1.0/project-1.0.jar - 30.51 ms  2014-05-06 13:23:41 DEBUG [esh-1-thread-6] *SYSTEM remote.storage.outbound - [abc] GET http://192.168.1.155:8081/nexus/content/repositories/releases/com/foo/project/1.0/project-1.0.jar - 38.24 ms  2014-05-06 13:23:42 DEBUG [esh-1-thread-7] *SYSTEM remote.storage.outbound - [abc] GET http://192.168.1.155:8081/nexus/content/repositories/releases/com/foo/project/1.0/project-1.0.jar - 39.46 ms  {quote}    Storage:    {quote}  2014-05-06 13:23:41 DEBUG [esh-1-thread-5] *SYSTEM org.sonatype.nexus.proxy.storage.local.fs.DefaultFSPeer - Storing file to /Users/rseddon/Nexii/nexus-272/foo/sonatype-work/nexus/storage/abc/com/foo/project/1.0/project-1.0.jar 2014-05-06 13:23:41 DEBUG [esh-1-thread-6] *SYSTEM org.sonatype.nexus.proxy.storage.local.fs.DefaultFSPeer - Storing file to /Users/rseddon/Nexii/nexus-272/foo/sonatype-work/nexus/storage/abc/com/foo/project/1.0/project-1.0.jar 2014-05-06 13:23:42 DEBUG [esh-1-thread-7] *SYSTEM org.sonatype.nexus.proxy.storage.local.fs.DefaultFSPeer - Storing file to /Users/rseddon/Nexii/nexus-272/foo/sonatype-work/nexus/storage/abc/com/foo/project/1.0/project-1.0.jar  {quote}"""
"NEXUS-6585","Improvement","REST",2,"Bring back boot report of REST endpoints and components","""This was removed from siesta 2.x upgrade, but it was a nice feature we should bring it back."""
"NEXUS-6583","Bug","Yum",0.5,"Yum Generate Metadata only allows a single RPM per Directory","""Some of our legacy build processes require uploading RPMs directly to the file system.  It currently adds more than one RPM to a directory but the Yum Generate Metadata task only allows a single RPM per directory.    I can work around this by manually updating the xml config to change the property 'singleRpmPerDirectory' with a value of 'False'    This will allow multiple RPMs per directory.    It would be useful to have this option available in the Yum Generate Metadata configuration screen."""
"NEXUS-6582","Bug","Yum",0.5,"Yum Generate Metadata does not detect new rpms added on filesystem","""Some of our legacy build processes require uploading RPMs directly to the file system.  The Yum Generate Metadata task is unable to pick up these new RPMs.    Once a Yum Generate Metadata task has completed it produces a rpm list file.  After this any RPMs added directly to the filesystem will not get picked up as the Generate Metadata task will reuse the existing rpm list file.    I can work around this by manually updating the xml config to add the property 'forceFullScan' with a value of 'True'    This will force a Full Scan and will not reuse the old rpm list file.    It would be useful to have this option available in the Yum Generate Metadata configuration screen."""
"NEXUS-6617","Bug","Support Tools",0.5,"Support Bundle can include unprotected HTTP proxy server password","""When Nexus is configured with an HTTP proxy server that has username and password, then the system properties `http.proxyPassword` and `https.proxyPassword` get set to the plain text proxy server password.    The sysinfo report included in the support bundle can include these plain text system property values. Suggest these values be replaced with some known text instead to protect the password from being transmitted in the support bundle.    """
"NEXUS-6619","Bug","Staging|Support Tools",1,"Include staging database details into support-zip","""With the move to nosql db for staging, we have lost the ability to include the staging.xml in support-zip.    Example of same thing done with Capabilities:  https://github.com/sonatype/nexus-oss/blob/master/plugins/capabilities/nexus-capabilities-plugin/src/main/java/org/sonatype/nexus/plugins/capabilities/internal/SupportBundleCustomizerImpl.java"""
"NEXUS-6621","Improvement","Support Tools",0.5,"include request.log in support bundle","""request.log should be included in support bundles from Nexus."""
"NEXUS-6626","Task","Transport",0.5,"upgrade to HTTP client 4.3.4","""See RelNotes  https://issues.apache.org/jira/secure/ReleaseNote.jspa?projectId=12310360&version=12326286"""
"NEXUS-6640","Improvement","UI",1,"CLM application treatment is confusing","""CLM application drop down when editing a staging profile has some confusing items.    - it asks to choose """"(none)"""" when it is not even an option if CLM is not configured.  - it asks to """"select an application"""" when one can't be selected since CLM is not configured, OR the license prevents display of an app OR CLM user does not have permissions to the app.    """
"NEXUS-6634","Improvement","Crowd",1,"Request timeout in Crowd configuration should be in seconds","""The request timeout in the Crowd configuration screen is in milliseconds.      I don't see a good use case for this level of granularity, and other timeouts in Nexus are in seconds.  We should make this one use seconds also."""
"NEXUS-6646","Bug","Crowd",1,"Crowd plugin that is not configured logs IllegalStateException when viewing security roles","""If you log in as admin, and go this screen below:    http://localhost:8081/nexus/#admin/security/roles    Nexus log will get multiple lines of Crowd Errors, like these:        Note: I just started NX fresh, did not configure _anything_ (so not even touched Crowd), and just started """"clicking around"""" on UI"""
"NEXUS-6650","Improvement","NuGet",1,"Nuget: return 403 with reason instead of 404 when redirection fails through a proxy server","""Given an org configures an http proxy server to access certain hosts only  And Nexus is configured with this http proxy server  And GET requests to a nuget proxy repository hosted in Nexus have to follow a redirect to a different host than the host they proxy in order to download an artifact  When the artifact is downloaded through Nexus  and the http proxy server responds with 403 because access to that host is not allowed  Then Nexus should respond to the original request with 403  And the response should include the possible reason of the 403 ( source proxy server was used, the redirected to host used and that the routing through it failed with 403)    Nexus currently responds with 404 and no reason to the NuGet client. This leads a Nexus admin to turn on Nexus DEBUG logging to see redirection failure instead of client user knowing they need to configure the Nexus HTTP proxy server to allow certain hosts.    PULL REQUESTS:  https://github.com/sonatype/nexus-oss/pull/601 (2.9.x)  https://github.com/sonatype/nexus-oss/pull/606 (master)"""
"NEXUS-6651","Improvement","NuGet",1,"allow direct request for NuGet artifact through proxy repository if artifact is not already cached in the local feed","""Request this URL through a NuGet proxy repository of https://www.nuget.org/api/v2:    http://localhost:8081/nexus/service/local/nuget/nuget-proxy/Extended.Wpf.Toolkit/1.8.0    The outbound request made is this:    https://www.nuget.org/api/v2/Packages(Id='Extended.Wpf.Toolkit',Version='1.8.0')    A 200 response is received with XML describing the artifact, but then no request is made for this:    https://www.nuget.org/api/v2/package/Extended.Wpf.Toolkit/1.8.0    If you then enable """"fetch all versions"""" in the """"download nuget feed"""" and make the original request again it will work.  I'm not sure why this is necessary since the path is the same, and Nexus knows that the artifact exists due to the first request's return value.    """
"NEXUS-6652","Bug","LDAP",0.5,"LDAP OSS to Pro upgrade bug, multiple configuration fields are not migrated","""Discovered while adapting OSS ITs to now merged Pro LDAP (issue is NEXUS-6591). On upgrade of OSS config to Pro config, the flag introduced for NXCM-370 is lost (""""userBaseDn"""" is optional, when subtree search is used) and some others too.    This should be fixed in 2.9.  In master, the work/changes done as part of NEXUS-6591 fixes the problem.    OSS ITs that now run against Pro LDAP plugin caught this."""
"NEXUS-6658","Improvement","Staging",3,"Add a mode to staging which allows explicit profile selection, and also enforces repository targets","""Currently explicit staging profile selection bypasses any repository target set in a staging profile.  This is OK for some use cases, but for others it gives end users the ability to deploy artifacts with group ID's that they should not have access to.    Disabling explicit profile selection as a workaround isn't always an option, because some nexus-staging-maven-plugin goals require it.  An example of this is """"deploy-staged-repository"""".    We should consider adding a mode to staging that allows explicit staging profile selection, and yet still enforces the staging profile's repository target.  """
"NEXUS-6666","Bug","Search",1,"Download indexes task should not process out of service repositories","""If a repository is out of service it is still processed by the download indexes scheduled task.  It should not be.    Interestingly, update indexes task does not have this problem.    """
"NEXUS-6664","Bug","LDAP",1,"upgrade from previously upgraded 2.8 OSS to Pro ldap configuration can fail subsequent upgrades","""On LDAP configuration for post 2.8 versions of Nexus."""
"NEXUS-7330","Story","Build|Testsuite",1,"Officially support Java 8 as runtime for Nexus","""We are currently unofficially supporting Java 8 - we would like to officially support it. The only way to do that is run all Nexus tests using CI Java 8 on release branches.    This task is about setting this up permanently.    In addition any further work required to officially support Java 8 should be done."""
"NEXUS-6670","Bug","Staging",1,"Profile ID is showing up in staging role names","""The staging profile ID is showing up in generated staging roles.  They should be showing the profile name.    """
"NEXUS-6668","Improvement","Support Tools",1,"include all referenced jetty configuration files in support zip","""we currently include jetty.xml in support zip.    Nexus 2.8.x allows more than one wrapper.app.parameter and therefore more than one jetty config file.    Suggest we either include each jetty file now, or one effective jetty.xml if that is easier."""
"NEXUS-6673","Improvement","Staging",0.5,"Staging repository listing log spam when repository is not found","""OSSRH logs are filled with junk like this:    {quote}  2014-06-30 12:12:27 WARN  [qtp1936214235-377168] knutster com.sonatype.nexus.staging.rest.repository.RepositoryListResource - Failed to convert repository item: id = 'comlicel-1002'; ignoring  org.sonatype.nexus.proxy.NoSuchRepositoryException: Repository with ID=""""comlicel-1002"""" not found          at org.sonatype.nexus.proxy.registry.DefaultRepositoryRegistry.getRepository(DefaultRepositoryRegistry.java:124) ~[nexus-core-2.8.1-01.jar:2.8.1-01]          at org.sonatype.nexus.rest.ProtectedRepositoryRegistry.getRepository(ProtectedRepositoryRegistry.java:71) ~[nexus-restlet1x-plugin-2.8.1-01/:na]          at com.sonatype.nexus.staging.rest.repository.RepositoryResourceSupport.convert(RepositoryResourceSupport.java:49) ~[nexus-staging-plugin-2.8.1-01/:na]          at com.sonatype.nexus.staging.rest.repository.RepositoryListResource$1.doApply(RepositoryListResource.java:94) ~[nexus-staging-plugin-2.8.1-01/:na]          at com.sonatype.nexus.staging.internal.persist.ConfigurationFunctionSupport.apply(ConfigurationFunctionSupport.java:48) [nexus-staging-plugin-2.8.1-01/:na]          at com.sonatype.nexus.staging.internal.persist.DefaultStagingConfiguration.browsex(DefaultStagingConfiguration.java:603) [nexus-staging-plugin-2.8.1-01/:na]          at com.sonatype.nexus.staging.internal.persist.DefaultStagingConfiguration.browse(DefaultStagingConfiguration.java:588) [nexus-staging-plugin-2.8.1-01/:na]          at com.sonatype.nexus.staging.rest.repository.RepositoryListResource.get(RepositoryListResource.java:79) [nexus-staging-plugin-2.8.1-01/:na]          at com.sonatype.nexus.staging.rest.repository.RepositoryListResource.get(RepositoryListResource.java:69) [nexus-staging-plugin-2.8.1-01/:na]          at org.sonatype.plexus.rest.resource.RestletResource.represent(RestletResource.java:233) [nexus-restlet1x-plugin-2.8.1-01/:na]          at org.sonatype.nexus.rest.NexusRestletResource.represent(NexusRestletResource.java:39) [nexus-restlet1x-plugin-2.8.1-01/:na]  {quote}  """
"NEXUS-6680","Improvement","Yum",1,"Add ""full rebuild"" option to generate yum scheduled task","""The generate yum metadata task caches information in two places:    # A checksum cache in $TMPDIR/nexus-yum-repository-plugin/.cache-releases/releases  # A list of rpm's to be processed in $TMPDIR/tmp/nexus-yum-repository-plugin/.cache-releases/.packageFiles/<repo-id>.txt    If either of these has invalid data it can prevent the metadata from regenerating properly.  We should provide an option to the generate yum metadata task (""""clear caches"""") which clears these before running createrepo.  This would give end users a way to recover from situations where a previous run had malfunctioned.    """
"NEXUS-6687","Bug","Analytics",1,"Analytics EventData.timestamp field not really timestamp","""A field """"timestamp"""" is set in analytics data. This is set using System.nanoTIme(), which is useless as a timestamp field.    We need to see the year/month/day/hour/minute/second that something happened.    Can we please change this from System.nanoTime() to System.currentTimeInMillis() ?    """
"NEXUS-6692","Bug","Configuration|Proxy Repository",1,"add more robust proxy repository URL validation","""The core does validate the remoteUrl of a proxy repository, but the current validation is too lax. HttpClient but also some other components uses URIs, but validation is done using URL. This causes various problems, like endless loops in remoteState discovery for example (as HC4 IAExes on bad URL).    If NX validation fixed, it will not allow for a proxy to have a """"bad"""" remote URL, either by refusing to boot, or on proxy addition/modification to refuse to save the configuration."""
"NEXUS-6702","Bug","Yum",5,"Yum metadata for proxy repositories should refer to the URL of the source Nexus instance","""As a result of the fix for NEXUS-5829 yum proxy repositories are no longer directly usable, the proxied metadata contains the URL's of the originating repository, so yum request to download artifacts end up bypassing Nexus, and go to the originating repository.    This is inconsistent with all other types of proxy repositories in Nexus.  The URL's in the proxied metadata should be rewritten to use the URL of the proxy repository."""
"NEXUS-6883","Improvement","NPM",8,"Support indirection URLs","""As per registry spec, version descriptor objects are not mandatory, and a URL where to find them is allowed too (see registry root description or Package Root Object's version field).    NX should aggregate these into one document (either before storing or on serving, it depends). Currently, this feature is not used by registry.npmjs.org, but it might be used in future (or dropped, as the """"spec"""" is much more a """"draft"""" really).    Links:  http://wiki.commonjs.org/wiki/Packages/Registry#registry_root_url  http://wiki.commonjs.org/wiki/Packages/Registry#Package_Root_Object    https://github.com/georgy/nexus-npm-repository-plugin/issues/13"""
"NEXUS-6749","Bug","LDAP|UI",1,"LDAP configuration dialog sized incorrectly in IE10","""The fields in the LDAP configuration dialog extend past the edge of the dialog in IE10.    """
"NEXUS-6747","Bug","UI",1,"repository path does not display ( sometimes? )","""Repository path column values are missing for me.    I was running Nexus on port 3000 if that matters. Tried Chrome and Firefox.    Using Nexus OSS  nexus-3.0.0-20140806.235753-371-bundle  """
"NEXUS-6746","Bug","Repository Health Check|UI",0.5,"RHC analyze popup goes away too quickly","""I can't finish reading it before it goes away automatically. And sometimes mousing over it is hard."""
"NEXUS-6745","Bug","UI",1,"icon column is missing text in column selection dropdown","""icon column is missing text in drop down, so I don't know what the checkbox does"""
"NEXUS-6774","Bug","Yum",1,"Yum plugin can clobber temp files not belonging to the current process","""https://github.com/sonatype/nexus-oss/blob/nexus-2.9.x/plugins/yum/nexus-yum-repository-plugin/src/main/java/org/sonatype/nexus/yum/internal/task/MergeMetadataTask.java#L89-89    This call seems to blindly try to delete all /var/tmp/yum-<nexususername>* files.    If two Nexuses on the same host share the same tmp dir, it is possible one Nexus will clobber the files from another Nexus."""
"NEXUS-6773","Bug","Yum",3,"correct inconsistencies of tmp dir usage between Nexus and Yum related forked processes","""Summary:     - TMPDIR environment variable should be set to java.io.tmpdir absolute value when YUM command line is forked*  - Yum plugin should make better assumptions about where the tmp directory is    ----    The assumption is the correct way to specify the temp dir for all nexus activity is the java.io.tmpdir system property.    Yum related tasks currently fork processes which inherit the Nexus java process *environment*.    Yum createrepo and mergerepo tools seem to respect the TMPDIR environment variable.    Launch Nexus with TMPDIR environment variable not set but java.io.tmpdir system property set in wrapper.conf java.additional property.    When a YUM metadata task is forked, the forked yum tooling can potentially choose a different tmp dir than what java.io.tmpdir is set as. In one case this caused a no space left on device error when metadata was being generated for a large yum repo because /var/tmp was filling up.    Additionally, our YUM code makes assumptions about the tmp dir being used by YUM, which could conflict with the tmp dir specified by TMPDIR env variable.    https://github.com/sonatype/nexus-oss/blob/nexus-2.9.x/plugins/yum/nexus-yum-repository-plugin/src/main/java/org/sonatype/nexus/yum/internal/task/MergeMetadataTask.java#L159-159    """
"NEXUS-6786","Improvement","UI",1,"provide method to exclude specific User-Agent values from browser detection ","""https://support.sonatype.com/entries/98305496-How-do-I-enable-WWW-Authenticate-headers-for-content-401-responses    NEXUS-6189 introduced not returning WWW-Authenticate headers for 401 web browser content responses.    This is non-standard behaviour. A customer wants to upgrade to latest Nexus, and when they did, this broke some internal tooling that relied on WWW-Authenticate. Disabling the browser detector is not a good long term solution for them because their internal tool is already deployed to production.    The request is to add some way to specify a user agent string that can always be treated as a non-browser, and therefore return the default authenticate headers."""
"NEXUS-6790","Task","Yum",3,"Child group repository with only one yum enabled member breaks yum metadata merge","""Create a set of yum enabled repositories:    {code}        Because """"GroupB"""" only has one member mergerepo is never run against it.  Consequentially it contains no yum metadata.  This breaks running mergerepo against """"GroupA"""", it will fail every time with error:    {quote}  Could not merge repos: Could not setup merge repo pkgsack: Cannot retrieve repository metadata (repomd.xml) for repository: repo1. Please verify its path and try again  {quote}        I think the simplest fix for this would be:    # Implement NEXUS-6801 (prevent generation of sqlite metadata)  # If a group only contains one member copy that member's metadata and rewrite the URL in the primary.xml.gz file"""
"NEXUS-6795","Improvement","Testsuite",2,"Avoid proliferation of artifacts checked into scm for testing","""ATM there are a non-trivial number of places where we have test artifacts in scm, such as:        We should look into alternative means to have artifacts available for testing.  Not suggesting we go to maven to download these though, but perhaps a module that has all of these test resources and the testsuite can simply extract that archive if it needs them or something along those lines."""
"NEXUS-6797","Bug","LDAP",1,"LDAP verify connection button is disabled until all configuration is filled in","""In Nexus 3.0 it is no longer possible to verify your LDAP connection settings right after filling them in, you have to go to the """"user & group"""" tab and fill in all of that information first.        """
"NEXUS-6809","Bug","LDAP|Security|UI",3,"sourcing ldap users in the UI does not scale","""Configure ldap config to a valid server with 5000 users.  Open users management.  Change the source to LDAP.  Nexus now makes 5000+ group member queries and tries to load 5000 records into the Nexus UI. More than likely Nexus UI will timeout and not render anything - meanwhile the queries are happily proceeding as requested in the backend.    This will either crash LDAP, crash Nexus or crash the browser.   """
"NEXUS-6808","Bug","Security|UI",0.5,"creating a user with id that already exists fails without any reason why","""Create a user with id """"fake"""".  Create another user with id """"fake""""  Clicking Add for the second user leaves the dialog and provides no feedback about why the user could not be created."""
"NEXUS-6807","Bug","Security|UI",0.5,"adding a new user is allowed despite form validation failures","""Login as admin.  #/admin/security/users  Click New.  Add a new user by pasting in an email address of """" @foo.com"""" ( content inside quotes) and Save.  A message is displayed about Invalid Email Address  Press Save again n times. Looks like nothing is happening. No error messages or red messages.  Click X on top right of dialog to close it.  Refresh User list. Your user is created with a bad email address.  """
"NEXUS-6805","Bug","LDAP|UI",0.5,"ldap server view certificate button is enabled before valid values are entered","""Login as admin.  Open http://localhost:8081/nexus/#admin/security/ldap  Click New.  Change protocol to ldaps.  Click View Certificate. A bunch of strange exception messages get thrown in the message console. I do not see these messages logged in the nexus log file.  """
"NEXUS-6801","Improvement","Yum",2,"prevent createrepo/mergerepo from creating sqlite rpm metadata","""According to all accounts I could find, the sqllite databases created using the --database ( defaults to true since 2010, createrepo-0.9.9) option to createrepo/mergerepo is an **client optimization only**.    Where access to Nexus is highly concurrent, and all yum clients seem to support the basic mode without sqlite files on the server just fine, we should therefore stop asking createrepo.mergerepo to create the sqllite databases.     This in theory should improve metadata creation performance(TBD), increase locking throughput and avoid the possibility of having xml based metadata out of sync from sqllite data.     Since 2010, createrepo and mergerepo have added the --no-database option to prevent creation of the sqlite metadata. Before 0.9.9 version, no sqlite data was being created unless specifically asked.    These commits changed the default createrepo/mergerepo behavior from not creating sqlite databases to creating them.    http://createrepo.baseurl.org/gitweb?p=createrepo.git;a=commit;h=1891306b9f4dc98567bcd9507708d8e089e2c69c    http://createrepo.baseurl.org/gitweb?p=createrepo.git;a=commit;h=bc3df9bece50098d9dc1c82f0addac36cc1db67a    Further, YUM documentation ( and code if you look hard enough) clarifies that if sqlite files are not found, YUM falls back to getting the XML files instead.    http://yum.baseurl.org/gitweb?p=yum.git;a=blob;f=docs/yum.conf.5;h=97acbe43eb63660a86beb4c1ea5b322bdf1303ad;hb=HEAD#l676    ----    Our code uses --database option, thereby always creating sqlite databases on the server.    [GenerateMetadataTask --database option|https://github.com/sonatype/nexus-oss/blob/master/plugins/yum/nexus-yum-repository-plugin/src/main/java/org/sonatype/nexus/yum/internal/task/GenerateMetadataTask.java#L344-344]    [MergeMetadataTask -d option|https://github.com/sonatype/nexus-oss/blob/master/plugins/yum/nexus-yum-repository-plugin/src/main/java/org/sonatype/nexus/yum/internal/task/MergeMetadataTask.java#L227-227]      In summary:  - our commands should remove -d, --database and add --no-database  - we should clearly specify we require createrepo 0.9.9 or greater to be used OR provide some override to not pass the --no-database option to createrepo/mergerepo in case the local version does not recognize this option  - if implemented, YUM clients can call [yum clean dbcache|http://yum.baseurl.org/wiki/YumCommands] locally to clean up any previously """"downloaded from Nexus"""" sqlite databases and from then on generate their own sqlite files from the xml data only  - YUM clients could configure 'mddownloadpolicy' in yum.conf to be xml, as a very slight optimization when known to be talking to Nexus, but not required  - on upgrade after this change, delete any sqlite files in Nexus repos to avoid clients from downloading them in the future and getting even more confused, or something more slightly confusing, always responding 404 even if they exist        """
"NEXUS-6824","Improvement","Bootstrap",0.5,"Increase default heap size for oss, keep in sync with pro","""2.9, 2.10 and master branches have been updated    A note that we are justifying this change because the NuGet features have moved into OSS recently  We expect the host resources available to OSS users to be similar to pro users now as well.    Specifically the heap sizes are changed as follows in wrapper.conf:    wrapper.java.initmemory=256  wrapper.java.maxmemory=768    """
"NEXUS-6822","Bug","NuGet",2,"Improve sorting of NuGet results when no order is specified","""Unlike the Nuget Package Explorer, Visual Studio's NuGet plugin doesn't seem to specify a sort order with its queries by default    Nexus defaults to alphabetical by package name, which generally means the results are not very useful  for VS users, who are likely the majority.    Using Download Count as a default sort order would make the results much more useful.  (Which may or may not be what nuget.org is doing - apparently result ordering is under active development.)"""
"NEXUS-6831","Improvement","Rapture",2,"Update extjs-maven-plugin use of omit flags","""ATM our maven-plugin and //<if flag> is inverted in configuration from standard sencha cmd.  Ie. you flip on a flag to cause the section to be omitted, instead of flipping on the flag to have the section be *not* omitted.    Should clean this up so that its consistent for sanity."""
"NEXUS-6829","Bug","Testsuite",3,"Testsuite executes tests with previous session","""Testsuite execution seems to be polluting tests with previous test state, need to resolve how to get each test isolated for its own session."""
"NEXUS-6836","Bug","Build Tooling|Staging",1,"maven staging plugin ArrayIndexOutOfBoundsException: -1 on release using Java 8","""I am using 1.6.3 and get this exception when calling """"mvn nexus-staging:release -e""""        Migrated from  https://github.com/sonatype/nexus-maven-plugins/issues/71"""
"NEXUS-6852","Bug","NuGet",3,"Querying NuGet proxy with no $top parameter causes excessive caching","""I noticed this when manually testing NuGet with curl.    The code that runs the new pass-through queries against the NuGet proxy will automatically page through all results that match the query rather than stop at the first page. This means that if you get the """"Packages"""" feed using curl with no query parameters it will attempt to page through the entire NuGet proxy feed and not come back for several minutes.    This could explain the longer query times occasionally observed in the field, because we'll be fetching all matching entries rather than stopping at the first page of results. However, the next time the query is run it would be faster because we've pre-fetched all subsequent pages.    If possible we should take exactly what's returned from the NuGet upstream feed and not follow """"next page"""" references. This should just be a matter of tweaking the feed scraper."""
"NEXUS-6844","Bug","Proxy Repository|SSL",2,"make a durable Server Name Indication SNI fix that does not rely on specific sun classes","""Current fix for Server Name Indication (SNI), while works, is fragile as it uses {{sun.*}} classes:  https://github.com/sonatype/nexus-oss/commit/b581a1be6ab5b289f44eb7575570589d66bc40c1    The related HttpClient issue contains comments explaining how to properly implement this (and the code is in place since 4.3.2), so on the long term that is where we should go. Still, it would require some rework of the NexusSSLConnectionSocketFactory we implemented and use with HC4.    https://issues.apache.org/jira/browse/HTTPCLIENT-1119"""
"NEXUS-6848","Bug","User Token",0.5,"Exception deleting user when User-token feature is not enabled","""Unpack and start Nexus  * Create an internal user  * Delete the internal user  * Exception will appear in log:      """
"NEXUS-6846","Improvement","Yum",3,"mergerepo should run via asynchronous event handler","""Currently if mergerepo needs to run it runs synchronously during processing of GET requests for group level repodata/repomd.xml  files.    The mergerepo command can take a while to run if large data sets are involved, this can lead to client side timeouts.  It would be better if it ran on an asynchronous event handler.  This should include a configurable delayed start similar to the current generate yum metadata's delete delay.    """
"NEXUS-6850","Bug","Repository|UI",0.5,"Deleting a repository in the UI doesn't fully delete it on the server","""Using Nexus 3.0-SNAPSHOT:  * Create a new repository (any type) with id of Test  * Delete the Test repository  * Attempt to create a new repository (any type) with id of Test  * UI will not allow this and reports Test already exists  Refreshing the UI and logging out and back in have no affect, but restarting Nexus makes the Test repository re-appear in the UI. Similarly deleting the Test repository and then restarting Nexus appears to resurrect it."""
"NEXUS-6849","Bug","UI",0.5,"Some NuGet UI elements are missing in the OSS distribution","""When I use the latest nexus-3.0.0-SNAPSHOT-bundle.zip OSS distribution I can create NuGet repositories, but their configuration only shows a single tab: """"Settings"""", the token tab is not visible. Similarly the new NuGet upload option never appears even after a NuGet hosted repository is created.    Using the nexus-professional-3.0.0-SNAPSHOT-bundle.zip from the same build (with exactly the same NuGet plugin) all NuGet UI elements appear as expected."""
"NEXUS-6853","Bug","NuGet",2,"NuGet $count queries can lead to excessive caching","""The new passthrough code maps a $count query to a remote Packages query and pre-fetches all matching feed entries. IIRC this is to ensure a stable count with local hosted packages in the case of duplicates.    For queries that match a lot of packages this can lead to excessive caching whereas we only really need to combine the remote count with local counts. (This assumes no duplication between remote and hosted feeds, if there is duplication then this could lead to over-counting.)"""
"NEXUS-6858","Bug","NPM",2,"Investigate feasibility of ""expected"" NPM JSON error messages for better user experience","""Investigate feasibility of """"expected"""" NPM JSON error messages for better user experience.    Currently, npm does the right job (behaves based on HTTP response code), but spits the raw HTML error page on console."""
"NEXUS-6857","Improvement","NPM",5,"Support for npm scoped packages","""Add support for scoped packages. This is new feature of npm 2.0.0 release, and targets users using """"private registries"""", by adding a """"scope"""" to package namespace, basically solving the problem of name clashes between public and private packages.    More info  https://github.com/npm/npm/issues/5239  http://blog.nodejitsu.com/a-summary-of-scoped-modules-in-npm/"""
"NEXUS-6863","Improvement","NPM",2,"npm search fails with JsonParseException: Unexpected end-of-input","""Configure a group repo in Nexus with npmhosted and npmproxy.    Execute {{npm search}} on the cli.      After a long wait, Nexus prints:        However the cmd seems to display a reasonable list of packages without error.  """
"NEXUS-6862","Improvement","NPM",1,"add complete default NPM repository roles","""Using 935774f6d36757f677dd4cb48008af81f6cf84ab of the npm plugin, I noticed only the following Roles installed:    Repo: All NPM repositories (View)    It seems Full Control and Read are missing for starters.    """
"NEXUS-6861","Improvement","NPM",0.5,"disable Browse Storage tab for npm repositories","""-  hide the Browse Storage tab  - park the code to enable Browse Storage in case we revisit the scalability issues    We already have Browse Storage working in latest SNAPSHOT. However we are concerned given the flat structure of npm repositories, that the 2.x UI will not scale well in some situations viewing Browse Storage.    """
"NEXUS-6860","Improvement","NPM",0.5,"disable Smart Proxy support for npm repositories","""- hide the Smart Proxy tab for each npm repository  - prevent Smart Proxy subscription and publisher capabilities for npm repos    Initial release should not support Smart Proxy   """
"NEXUS-6865","Bug","Secure Central",0.5,"do not add enabled secure central capability by default on installations without legacy secure central url","""There is no need to add this capability, enabled at least, anymore. The default URLs of central have changed to the free URL, so this capability does a needless authtoken fetch on boot and periodically checks every few minutes if it fails. When it does fail, it usually always fails.    It is common for this to fail all the time in corporate env due to firewalls.    If someone is upgrading with secure.central.sonatype.com already configured, then yeah, enabling it makes sense.      """
"NEXUS-6875","Improvement","UI",0.5,"Add link to participate/mailing-list/whatever to help menu","""Folks seem to not be able to find http://www.sonatype.org/nexus/participate lets put this into the Help menu for NX 3."""
"NEXUS-6874","Bug","Installer",1,"trial bundle uses wrong default temp dir","""nexus.vmoptions contains        This should include setting the java tmp dir    Noticed this in one customer's trial bundle log:        That is a very bad temporary directory location...if two nexuses are running on the same host especially.    https://issues.sonatype.org/browse/NEXUS-6352        """
"NEXUS-6873","Bug","Installer",0.5,"trial bundle config includes procurement.xml","""procurement features are no longer trialed in the trial eval guide    https://github.com/sonatype/nexus-bundles/blob/nexus-2.9.x/assemblies/nexus-trial/src/main/content/trial-config/conf/procurement.xml    Including procurement.xml causes scary WARN logging on startup:      """
"NEXUS-6872","Bug","Installer",0.5,"trial bundle does not have central repo in public group","""https://github.com/sonatype/nexus-bundles/blob/nexus-2.9.x/assemblies/nexus-trial/src/main/content/trial-config/conf/nexus.xml#L231    This means all the trial examples which require download of remote artifacts fail.  """
"NEXUS-6881","Bug","LDAP",1,"comma in group membership attribute value breaks static LDAP group mapping","""If you have an LDAP group mapping where the user's CN has a comma in it then static group mapping in Nexus will not work.    So if your user's common names are entered as """"Lastname,Firstname"""" and distinguished names are used in the group membership attribute you end up with a query like this one being issued by Nexus:        This doesn't work because the backslash needs to be escaped:          The following code change seems to resolve this issue:        """
"NEXUS-6887","Bug","User Token",0.5,"If all user tokens are cleared this should be logged at INFO","""Currently, we only log at DEBUG if all user tokens are cleared. This should be logged at INFO:    {quote}  2014-09-24 17:12:29 DEBUG [qtp680480074-130] admin com.sonatype.nexus.usertoken.plugin.internal.UserTokenServiceImpl - Removing all records  {quote}"""
"NEXUS-6900","Bug","Support Tools",1,"Nexus OSS support bundle does not include ldap.xml file","""A support zip generated from Nexus OSS does not include the ldap.xml file."""
"NEXUS-6899","Bug","Yum",1,"The yum versions REST resource is only updated at startup","""As documented [here|https://github.com/sonatype/nexus-oss/tree/master/plugins/yum/nexus-yum-repository-plugin] the yum plugin supports versioned views of repositories, as in:    http://your.nexus/nexus/service/local/yum/repos/releases/1.2.3/    Unfortunately, the internal cache of version numbers is only populated at at startup time, it is not updated when new artifacts are deployed.  This makes the feature non-functional for most use cases.  """
"NEXUS-6898","Bug","NPM",1,"npm hosted repository should maintain ""time"" field on deploys","""NPM hosted repository should maintain """"time"""" field on deploys. Basically this algorithm (from npm couchdb server) needs to be """"ported"""" to hosted repositories:    https://github.com/npm/npm-registry-couchapp/blob/master/registry/updates.js#L79    Due to lack of this, the only known downside (or """"bug"""" if you like) is that commands listing package metadata (like {{npm search}} is) will mark the package as """"prehistoric"""". Example {{npm search}} output (packages deployed by user """"deployment"""" user are locally published ones):    """
"NEXUS-7486","Bug","NPM",1,"configuring staging profile to release to npm hosted repo should not be allowed","""Create an npm hosted repo.  Create a staging profile. You can select the npm hosted repo as the Release Repository.  Stage an artifact. Try to release the staging repo. Release fails with 500 error.        Expected:    - do not allow npm hosted repos to be a release repository for a staging profile"""
"NEXUS-7561","Bug","Repository|UI",1,"Show ""Browse Storage"", ""Browse Remote"", ""Mirrors"", <dependencyManagement/> in ""Summary"" tab based on repository type","""h3. Browse Remote     Browse Remote parses remote HTML directory lists. Unless the remote publishes a parseable HTML directory listing, Browse Remote cannot work.    Browse Remote should only be visible for Maven 1, Maven 2, P2, OBR repository types. ( although as stated, if remote is not publishing something parseable, still may not work )    h3. Browse Storage  Show """"Browse Storage"""" only for 'maven1', 'maven2', 'nugett', 'obr', 'p2', 'site'    In the case of P2 proxy repo, the UI may timeout requesting the local storage contents, as the local storage triggers generating of a large content.xml which can take greater than the 60 second default UI timeout to render.    h3. Mirror    Show for hosted repos only for maven1 and maven2.    h3. Summary Tab <distributionManagement>    maven1, maven2, site      """
"NEXUS-7586","Bug","Build Tooling",1,"No DEBUG log from staging plugin","""When executing maven build using {{-X}} parameter that includes nexus-staging-maven-plugin, there is no DEBUG output (coming from relevant components, not from the Mojo itself)., while the components does log important things at DEBUG level.     This makes nearly impossible (or just overly hard) to properly diagnose what happens during staging..."""
"NEXUS-7595","Improvement","Security",0.5,"disable insecure SSL protocols by default in jetty HTTPS sample configuration","""As a best practice and in response to poodle.io, Nexus jetty-https.xml config files should disableinsecure protocols by default going forward.    This effectively means disabling SSLv* protocols at present.    Jetty 9.3 proper is doing this going forward.    https://bugs.eclipse.org/bugs/show_bug.cgi?id=447381            """
"NEXUS-7594","Improvement","Transport",2,"allow configuring https.protocols and https.cipherSuites on Nexus outbound HTTP client connections","""In NEXUS-5526, a change was made to allow javax.net.* system properties to be set on the HTTP Client embedded within Nexus.    https://github.com/sonatype/nexus-oss/commit/a7eb959b98b769cdfef190348f61e94b385ed32a#diff-35540aaccce768f70470408e7d8a0470    We have since regressed back to not allowing this:    https://github.com/sonatype/nexus-oss/commit/6c6507c8daf1cf6110d5f1d63c4d28a25b62c563#diff-35540aaccce768f70470408e7d8a0470    And the attempt to backout changes did not restore use of the System connection factory method:    https://github.com/sonatype/nexus-oss/commit/0ab135701ad42b169d8283fb8bddb110a3bd3bf7#diff-35540aaccce768f70470408e7d8a0470    In Nexus 2.8.0-05 we started including httpclient 4.3.x into Nexus. [httpclient 4.3.x system SSLSocketFactory started honouring https.protocols and https.ciphersuites|https://issues.apache.org/jira/browse/HTTPCLIENT-1343] - however in 2.8 our regression prevents setting protocols and ciphers on outbound connections from being an option for end users.    So two problems:  - it seems [we have regressed|https://github.com/sonatype/nexus-oss/commit/0ab135701ad42b169d8283fb8bddb110a3bd3bf7#diff-35540aaccce768f70470408e7d8a0470] honouring system properties that influence the outbound http connections  - we don't expose a way to set https protocols and ciphers preferences on Nexus outbound connections ( https.protocols / https.ciphersuites )    Expected  - make Nexus use the system socket factories provided by http client, so that standard javax.net system properties can influence outbound connections    http://hc.apache.org/httpcomponents-client-4.3.x/httpclient/xref/org/apache/http/conn/ssl/SSLConnectionSocketFactory.html#162   """
"NEXUS-7596","Improvement","Yum",1,"programatically enforce minimum requirements for yum configuration including debug messages","""Currently it is possible to enable YUM support (and in fact it is enabled by default in pro) even if no createrepo command is found.    This can lead you down the track of configuring stuff for yum support and filling up the logs with exceptions that no createrepo command was found.    It would be better to simply disable the capability if no command is found and not allow enabling it either, and instead presenting a useful error message in the UI that says you need to have createrepo and mergerepo on the path (and probably therefore run on Linux..)    It should probably look for the mergerepo command as well. """
"NEXUS-7609","Bug","NPM",1,"npm attribute storage corruption can lead to http 500 responses","""Configure proxy to http://registry.npmjs.org  Configure proxy server in nexus.  Make these requests:     curl -s -v -4 http://localhost:8081/nexus/content/repositories/npmjs/bower/-/bower-1.3.12.tgz    gets 404    curl -s -v -4 http://localhost:8081/nexus/content/repositories/npmjs/bower    gets 200 but nexus sends TWO requests to remote - see NEXUS-7616    ( this creates a file at nexus/storage/npmjs/.nexus/attributes/bower )    {noformat:title=bower contents}  > cat bower   {""""storageItem-created"""":""""1414012676202"""",""""storageItem-checkedRemotely"""":""""9223372036854775807"""",""""storageItem-generation"""":""""2"""",""""proxyRepository-invalidationToken"""":""""1414012362178478000"""",""""storageItem-lastRequested"""":""""1414012676203"""",""""storageItem-modified"""":""""1414012676202"""",""""storageItem-readable"""":""""true"""",""""storageItem-expired"""":""""true"""",""""storageItem-repositoryId"""":""""npmjs"""",""""storageItem-writable"""":""""true"""",""""storageItem-path"""":""""/bower""""}  {noformat}    Then request:    curl -s -v -4 http://localhost:8081/nexus/content/repositories/npmjs/bower/-/bower-1.3.12.tgz    Nexus returns 500 response.    {quote}  jvm 1    | 2014-10-22 18:08:44,370-0300 INFO  [qtp991699868-92] admin org.sonatype.nexus.configuration.application.DefaultNexusConfiguration - Applying Nexus Configuration due to changes in [npmjs] made by admin...  jvm 1    | 2014-10-22 18:08:44,390-0300 INFO  [esh-1-thread-7] admin org.sonatype.nexus.events.RepositoryConfigurationUpdatedEventInspector - The Remote URL of repository """"npmjs"""" (id=npmjs) has been changed, expiring its caches.  jvm 1    | 2014-10-22 18:08:44,897-0300 INFO  [pxpool-1-thread-1] admin org.sonatype.nexus.tasks.ExpireCacheTask - Scheduled task (ExpireCacheTask) started :: Expiring caches for repository npmjs from path null and below.  jvm 1    | 2014-10-22 18:08:44,922-0300 INFO  [pxpool-1-thread-1] admin org.sonatype.nexus.tasks.ExpireCacheTask - Scheduled task (ExpireCacheTask) finished :: Expiring caches for repository npmjs from path null and below. (started 2014-10-22T18:08:44-03:00, runtime 0:00:00.023)  jvm 1    | 2014-10-22 18:08:44,930-0300 INFO  [pxpool-1-thread-1] admin org.sonatype.nexus.configuration.application.DefaultNexusConfiguration - Applying Nexus Configuration due to changes in [Scheduled Tasks] made by *TASK...  jvm 1    | 2014-10-22 18:09:29,872-0300 INFO  [qtp991699868-89] admin org.sonatype.nexus.configuration.ModelUtils - Loading model /Users/plynch/Documents/qe-support/zen-6621/nexus-professional-2.10.0-02-bundle/sonatype-work/nexus/conf/pgp.xml  jvm 1    | 2014-10-22 18:12:41,661-0300 INFO  [qtp991699868-88] admin org.sonatype.nexus.configuration.application.DefaultNexusConfiguration - Applying Nexus Configuration due to changes in [npmjs] made by admin...  jvm 1    | 2014-10-22 18:12:41,667-0300 INFO  [esh-1-thread-10] admin org.sonatype.nexus.events.RepositoryConfigurationUpdatedEventInspector - The Remote URL of repository """"npmjs"""" (id=npmjs) has been changed, expiring its caches.  jvm 1    | 2014-10-22 18:12:42,171-0300 INFO  [pxpool-1-thread-1] admin org.sonatype.nexus.tasks.ExpireCacheTask - Scheduled task (ExpireCacheTask) started :: Expiring caches for repository npmjs from path null and below.  jvm 1    | 2014-10-22 18:12:42,180-0300 INFO  [pxpool-1-thread-1] admin org.sonatype.nexus.tasks.ExpireCacheTask - Scheduled task (ExpireCacheTask) finished :: Expiring caches for repository npmjs from path null and below. (started 2014-10-22T18:12:42-03:00, runtime 0:00:00.009)  jvm 1    | 2014-10-22 18:12:42,246-0300 INFO  [pxpool-1-thread-1] admin org.sonatype.nexus.configuration.application.DefaultNexusConfiguration - Applying Nexus Configuration due to changes in [Scheduled Tasks] made by *TASK...  jvm 1    | 2014-10-22 18:12:54,305-0300 INFO  [qtp991699868-88] admin org.sonatype.nexus.configuration.application.DefaultNexusConfiguration - Applying Nexus Configuration due to changes in [SMTP Client, Notification Manager, Global Remote Connection Settings, Global Rest Api Settings, Global HTTP Proxy] made by admin...  jvm 1    | 2014-10-22 18:12:54,412-0300 INFO  [qtp991699868-92] admin org.sonatype.nexus.configuration.ModelUtils - Saving model /Users/plynch/Documents/qe-support/zen-6621/nexus-professional-2.10.0-02-bundle/sonatype-work/nexus/conf/pgp.xml  jvm 1    | 2014-10-22 18:12:54,431-0300 INFO  [qtp991699868-89] admin org.sonatype.nexus.configuration.ModelUtils - Saving model /Users/plynch/Documents/qe-support/zen-6621/nexus-professional-2.10.0-02-bundle/sonatype-work/nexus/conf/lvo-plugin.xml  jvm 1    | 2014-10-22 18:17:55,776-0300 DEBUG [qtp991699868-91] anonymous org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: ignoreCookies  jvm 1    | 2014-10-22 18:17:55,777-0300 DEBUG [qtp991699868-91] anonymous org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context  jvm 1    | 2014-10-22 18:17:55,778-0300 DEBUG [qtp991699868-91] anonymous org.apache.http.impl.execchain.MainClientExec - Opening connection {}->http://localhost:8888->http://registry.npmjs.org:80  jvm 1    | 2014-10-22 18:17:55,779-0300 DEBUG [qtp991699868-91] anonymous org.apache.http.impl.conn.HttpClientConnectionOperator - Connecting to localhost/127.0.0.1:8888  jvm 1    | 2014-10-22 18:17:55,780-0300 DEBUG [qtp991699868-91] anonymous org.apache.http.impl.conn.HttpClientConnectionOperator - Connection established 127.0.0.1:51843<->127.0.0.1:8888  jvm 1    | 2014-10-22 18:17:55,780-0300 DEBUG [qtp991699868-91] anonymous org.apache.http.impl.execchain.MainClientExec - Executing request GET http://registry.npmjs.org/bower HTTP/1.1  jvm 1    | 2014-10-22 18:17:55,780-0300 DEBUG [qtp991699868-91] anonymous org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED  jvm 1    | 2014-10-22 18:17:55,780-0300 DEBUG [qtp991699868-91] anonymous org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED  jvm 1    | 2014-10-22 18:17:55,781-0300 DEBUG [qtp991699868-91] anonymous org.apache.http.headers - http-outgoing-12 >> GET http://registry.npmjs.org/bower HTTP/1.1  jvm 1    | 2014-10-22 18:17:55,781-0300 DEBUG [qtp991699868-91] anonymous org.apache.http.headers - http-outgoing-12 >> accept: application/json  jvm 1    | 2014-10-22 18:17:55,781-0300 DEBUG [qtp991699868-91] anonymous org.apache.http.headers - http-outgoing-12 >> Host: registry.npmjs.org  jvm 1    | 2014-10-22 18:17:55,781-0300 DEBUG [qtp991699868-91] anonymous org.apache.http.headers - http-outgoing-12 >> Proxy-Connection: Keep-Alive  jvm 1    | 2014-10-22 18:17:55,781-0300 DEBUG [qtp991699868-91] anonymous org.apache.http.headers - http-outgoing-12 >> User-Agent: Nexus/2.10.0-02 (PRO; Mac OS X; 10.10; x86_64; 1.7.0_71) apacheHttpClient4x/2.10.0-02  jvm 1    | 2014-10-22 18:17:55,781-0300 DEBUG [qtp991699868-91] anonymous org.apache.http.headers - http-outgoing-12 >> Accept-Encoding: gzip,deflate  jvm 1    | 2014-10-22 18:17:55,909-0300 DEBUG [qtp991699868-91] anonymous org.apache.http.headers - http-outgoing-12 << HTTP/1.1 200 OK  jvm 1    | 2014-10-22 18:17:55,909-0300 DEBUG [qtp991699868-91] anonymous org.apache.http.headers - http-outgoing-12 << Server: CouchDB/1.5.0 (Erlang OTP/R16B03)  jvm 1    | 2014-10-22 18:17:55,909-0300 DEBUG [qtp991699868-91] anonymous org.apache.http.headers - http-outgoing-12 << Etag: """"5IH3YVKIZ3VMGKRZP2FHQWVQM""""  jvm 1    | 2014-10-22 18:17:55,909-0300 DEBUG [qtp991699868-91] anonymous org.apache.http.headers - http-outgoing-12 << Content-Type: application/json  jvm 1    | 2014-10-22 18:17:55,909-0300 DEBUG [qtp991699868-91] anonymous org.apache.http.headers - http-outgoing-12 << Cache-Control: max-age=60  jvm 1    | 2014-10-22 18:17:55,909-0300 DEBUG [qtp991699868-91] anonymous org.apache.http.headers - http-outgoing-12 << Content-Length: 105338  jvm 1    | 2014-10-22 18:17:55,909-0300 DEBUG [qtp991699868-91] anonymous org.apache.http.headers - http-outgoing-12 << Accept-Ranges: bytes  jvm 1    | 2014-10-22 18:17:55,909-0300 DEBUG [qtp991699868-91] anonymous org.apache.http.headers - http-outgoing-12 << Date: Wed, 22 Oct 2014 21:17:55 GMT  jvm 1    | 2014-10-22 18:17:55,909-0300 DEBUG [qtp991699868-91] anonymous org.apache.http.headers - http-outgoing-12 << Via: 1.1 varnish  jvm 1    | 2014-10-22 18:17:55,909-0300 DEBUG [qtp991699868-91] anonymous org.apache.http.headers - http-outgoing-12 << Age: 18  jvm 1    | 2014-10-22 18:17:55,909-0300 DEBUG [qtp991699868-91] anonymous org.apache.http.headers - http-outgoing-12 << X-Served-By: cache-jfk1025-JFK  jvm 1    | 2014-10-22 18:17:55,909-0300 DEBUG [qtp991699868-91] anonymous org.apache.http.headers - http-outgoing-12 << X-Cache: HIT  jvm 1    | 2014-10-22 18:17:55,909-0300 DEBUG [qtp991699868-91] anonymous org.apache.http.headers - http-outgoing-12 << X-Cache-Hits: 1  jvm 1    | 2014-10-22 18:17:55,909-0300 DEBUG [qtp991699868-91] anonymous org.apache.http.headers - http-outgoing-12 << X-Timer: S1414012675.831864,VS0,VE0  jvm 1    | 2014-10-22 18:17:55,910-0300 DEBUG [qtp991699868-91] anonymous org.apache.http.headers - http-outgoing-12 << Vary: Accept  jvm 1    | 2014-10-22 18:17:55,910-0300 DEBUG [qtp991699868-91] anonymous org.apache.http.headers - http-outgoing-12 << Proxy-Connection: Keep-alive  jvm 1    | 2014-10-22 18:17:55,910-0300 DEBUG [qtp991699868-91] anonymous org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive for 30000 MILLISECONDS  jvm 1    | 2014-10-22 18:17:56,130-0300 DEBUG [qtp991699868-91] anonymous org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: ignoreCookies  jvm 1    | 2014-10-22 18:17:56,130-0300 DEBUG [qtp991699868-91] anonymous org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context  jvm 1    | 2014-10-22 18:17:56,130-0300 DEBUG [qtp991699868-91] anonymous org.apache.http.impl.execchain.MainClientExec - Executing request GET http://registry.npmjs.org/bower HTTP/1.1  jvm 1    | 2014-10-22 18:17:56,130-0300 DEBUG [qtp991699868-91] anonymous org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED  jvm 1    | 2014-10-22 18:17:56,130-0300 DEBUG [qtp991699868-91] anonymous org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED  jvm 1    | 2014-10-22 18:17:56,131-0300 DEBUG [qtp991699868-91] anonymous org.apache.http.headers - http-outgoing-12 >> GET http://registry.npmjs.org/bower HTTP/1.1  jvm 1    | 2014-10-22 18:17:56,131-0300 DEBUG [qtp991699868-91] anonymous org.apache.http.headers - http-outgoing-12 >> accept: application/json  jvm 1    | 2014-10-22 18:17:56,131-0300 DEBUG [qtp991699868-91] anonymous org.apache.http.headers - http-outgoing-12 >> if-none-match: """"5IH3YVKIZ3VMGKRZP2FHQWVQM""""  jvm 1    | 2014-10-22 18:17:56,131-0300 DEBUG [qtp991699868-91] anonymous org.apache.http.headers - http-outgoing-12 >> Host: registry.npmjs.org  jvm 1    | 2014-10-22 18:17:56,131-0300 DEBUG [qtp991699868-91] anonymous org.apache.http.headers - http-outgoing-12 >> Proxy-Connection: Keep-Alive  jvm 1    | 2014-10-22 18:17:56,131-0300 DEBUG [qtp991699868-91] anonymous org.apache.http.headers - http-outgoing-12 >> User-Agent: Nexus/2.10.0-02 (PRO; Mac OS X; 10.10; x86_64; 1.7.0_71) apacheHttpClient4x/2.10.0-02  jvm 1    | 2014-10-22 18:17:56,131-0300 DEBUG [qtp991699868-91] anonymous org.apache.http.headers - http-outgoing-12 >> Accept-Encoding: gzip,deflate  jvm 1    | 2014-10-22 18:17:56,161-0300 DEBUG [qtp991699868-91] anonymous org.apache.http.headers - http-outgoing-12 << HTTP/1.1 304 Not Modified  jvm 1    | 2014-10-22 18:17:56,161-0300 DEBUG [qtp991699868-91] anonymous org.apache.http.headers - http-outgoing-12 << Date: Wed, 22 Oct 2014 21:17:56 GMT  jvm 1    | 2014-10-22 18:17:56,161-0300 DEBUG [qtp991699868-91] anonymous org.apache.http.headers - http-outgoing-12 << Via: 1.1 varnish  jvm 1    | 2014-10-22 18:17:56,161-0300 DEBUG [qtp991699868-91] anonymous org.apache.http.headers - http-outgoing-12 << Last-Modified: Wed, 22 Oct 2014 21:17:55 GMT  jvm 1    | 2014-10-22 18:17:56,161-0300 DEBUG [qtp991699868-91] anonymous org.apache.http.headers - http-outgoing-12 << Cache-Control: max-age=60  jvm 1    | 2014-10-22 18:17:56,161-0300 DEBUG [qtp991699868-91] anonymous org.apache.http.headers - http-outgoing-12 << ETag: """"5IH3YVKIZ3VMGKRZP2FHQWVQM""""  jvm 1    | 2014-10-22 18:17:56,162-0300 DEBUG [qtp991699868-91] anonymous org.apache.http.headers - http-outgoing-12 << Age: 18  jvm 1    | 2014-10-22 18:17:56,162-0300 DEBUG [qtp991699868-91] anonymous org.apache.http.headers - http-outgoing-12 << X-Served-By: cache-jfk1025-JFK  jvm 1    | 2014-10-22 18:17:56,162-0300 DEBUG [qtp991699868-91] anonymous org.apache.http.headers - http-outgoing-12 << X-Cache: HIT  jvm 1    | 2014-10-22 18:17:56,162-0300 DEBUG [qtp991699868-91] anonymous org.apache.http.headers - http-outgoing-12 << X-Cache-Hits: 2  jvm 1    | 2014-10-22 18:17:56,162-0300 DEBUG [qtp991699868-91] anonymous org.apache.http.headers - http-outgoing-12 << X-Timer: S1414012676.085727,VS0,VE0  jvm 1    | 2014-10-22 18:17:56,162-0300 DEBUG [qtp991699868-91] anonymous org.apache.http.headers - http-outgoing-12 << Vary: Accept  jvm 1    | 2014-10-22 18:17:56,162-0300 DEBUG [qtp991699868-91] anonymous org.apache.http.headers - http-outgoing-12 << Proxy-Connection: Keep-alive  jvm 1    | 2014-10-22 18:17:56,162-0300 DEBUG [qtp991699868-91] anonymous org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive for 30000 MILLISECONDS  jvm 1    | 2014-10-22 18:18:27,769-0300 DEBUG [HC4x-EvictingThread] *SYSTEM org.apache.http.impl.conn.CPool - Connection [id:12][route:{}->http://localhost:8888->http://registry.npmjs.org:80][state:null] expired @ Wed Oct 22 18:18:26 ADT 2014  jvm 1    | 2014-10-22 18:18:27,769-0300 DEBUG [HC4x-EvictingThread] *SYSTEM org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-12: Close connection                jvm 1    | 2014-10-22 18:23:33,581-0300 DEBUG [qtp991699868-89] anonymous org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: ignoreCookies  jvm 1    | 2014-10-22 18:23:33,581-0300 DEBUG [qtp991699868-89] anonymous org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context  jvm 1    | 2014-10-22 18:23:33,581-0300 DEBUG [qtp991699868-89] anonymous org.apache.http.impl.execchain.MainClientExec - Opening connection {}->http://localhost:8888->http://registry.npmjs.org:80  jvm 1    | 2014-10-22 18:23:33,582-0300 DEBUG [qtp991699868-89] anonymous org.apache.http.impl.conn.HttpClientConnectionOperator - Connecting to localhost/127.0.0.1:8888  jvm 1    | 2014-10-22 18:23:33,582-0300 DEBUG [qtp991699868-89] anonymous org.apache.http.impl.conn.HttpClientConnectionOperator - Connection established 127.0.0.1:51884<->127.0.0.1:8888  jvm 1    | 2014-10-22 18:23:33,582-0300 DEBUG [qtp991699868-89] anonymous org.apache.http.impl.execchain.MainClientExec - Executing request GET http://registry.npmjs.org/bower/-/bower-1.3.12.tgz HTTP/1.1  jvm 1    | 2014-10-22 18:23:33,582-0300 DEBUG [qtp991699868-89] anonymous org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED  jvm 1    | 2014-10-22 18:23:33,583-0300 DEBUG [qtp991699868-89] anonymous org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED  jvm 1    | 2014-10-22 18:23:33,583-0300 DEBUG [qtp991699868-89] anonymous org.apache.http.headers - http-outgoing-13 >> GET http://registry.npmjs.org/bower/-/bower-1.3.12.tgz HTTP/1.1  jvm 1    | 2014-10-22 18:23:33,583-0300 DEBUG [qtp991699868-89] anonymous org.apache.http.headers - http-outgoing-13 >> Accept: application/x-gzip  jvm 1    | 2014-10-22 18:23:33,583-0300 DEBUG [qtp991699868-89] anonymous org.apache.http.headers - http-outgoing-13 >> Host: registry.npmjs.org  jvm 1    | 2014-10-22 18:23:33,583-0300 DEBUG [qtp991699868-89] anonymous org.apache.http.headers - http-outgoing-13 >> Proxy-Connection: Keep-Alive  jvm 1    | 2014-10-22 18:23:33,583-0300 DEBUG [qtp991699868-89] anonymous org.apache.http.headers - http-outgoing-13 >> User-Agent: Nexus/2.10.0-02 (PRO; Mac OS X; 10.10; x86_64; 1.7.0_71)  jvm 1    | 2014-10-22 18:23:33,583-0300 DEBUG [qtp991699868-89] anonymous org.apache.http.headers - http-outgoing-13 >> Accept-Encoding: gzip,deflate  jvm 1    | 2014-10-22 18:23:33,725-0300 DEBUG [qtp991699868-89] anonymous org.apache.http.headers - http-outgoing-13 << HTTP/1.1 200 OK  jvm 1    | 2014-10-22 18:23:33,725-0300 DEBUG [qtp991699868-89] anonymous org.apache.http.headers - http-outgoing-13 << Server: nginx/1.4.6 (Ubuntu)  jvm 1    | 2014-10-22 18:23:33,725-0300 DEBUG [qtp991699868-89] anonymous org.apache.http.headers - http-outgoing-13 << Content-Type: application/octet-stream  jvm 1    | 2014-10-22 18:23:33,725-0300 DEBUG [qtp991699868-89] anonymous org.apache.http.headers - http-outgoing-13 << Last-Modified: Sun, 28 Sep 2014 16:41:33 GMT  jvm 1    | 2014-10-22 18:23:33,725-0300 DEBUG [qtp991699868-89] anonymous org.apache.http.headers - http-outgoing-13 << ETag: """"54283a3d-1ca45""""  jvm 1    | 2014-10-22 18:23:33,725-0300 DEBUG [qtp991699868-89] anonymous org.apache.http.headers - http-outgoing-13 << Expires: Thu, 23 Oct 2014 00:11:37 GMT  jvm 1    | 2014-10-22 18:23:33,725-0300 DEBUG [qtp991699868-89] anonymous org.apache.http.headers - http-outgoing-13 << Access-Control-Allow-Origin: *  jvm 1    | 2014-10-22 18:23:33,725-0300 DEBUG [qtp991699868-89] anonymous org.apache.http.headers - http-outgoing-13 << Access-Control-Allow-Methods: GET  jvm 1    | 2014-10-22 18:23:33,725-0300 DEBUG [qtp991699868-89] anonymous org.apache.http.headers - http-outgoing-13 << Cache-Control: max-age=21600  jvm 1    | 2014-10-22 18:23:33,725-0300 DEBUG [qtp991699868-89] anonymous org.apache.http.headers - http-outgoing-13 << Content-Length: 117317  jvm 1    | 2014-10-22 18:23:33,726-0300 DEBUG [qtp991699868-89] anonymous org.apache.http.headers - http-outgoing-13 << Accept-Ranges: bytes  jvm 1    | 2014-10-22 18:23:33,726-0300 DEBUG [qtp991699868-89] anonymous org.apache.http.headers - http-outgoing-13 << Date: Wed, 22 Oct 2014 21:23:33 GMT  jvm 1    | 2014-10-22 18:23:33,726-0300 DEBUG [qtp991699868-89] anonymous org.apache.http.headers - http-outgoing-13 << Via: 1.1 varnish  jvm 1    | 2014-10-22 18:23:33,726-0300 DEBUG [qtp991699868-89] anonymous org.apache.http.headers - http-outgoing-13 << Age: 11665  jvm 1    | 2014-10-22 18:23:33,726-0300 DEBUG [qtp991699868-89] anonymous org.apache.http.headers - http-outgoing-13 << X-Served-By: cache-atl6227-ATL  jvm 1    | 2014-10-22 18:23:33,726-0300 DEBUG [qtp991699868-89] anonymous org.apache.http.headers - http-outgoing-13 << X-Cache: HIT  jvm 1    | 2014-10-22 18:23:33,726-0300 DEBUG [qtp991699868-89] anonymous org.apache.http.headers - http-outgoing-13 << X-Cache-Hits: 1  jvm 1    | 2014-10-22 18:23:33,726-0300 DEBUG [qtp991699868-89] anonymous org.apache.http.headers - http-outgoing-13 << X-Timer: S1414013013.621243,VS0,VE17  jvm 1    | 2014-10-22 18:23:33,726-0300 DEBUG [qtp991699868-89] anonymous org.apache.http.headers - http-outgoing-13 << Proxy-Connection: Keep-alive  jvm 1    | 2014-10-22 18:23:33,726-0300 DEBUG [qtp991699868-89] anonymous org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive for 30000 MILLISECONDS  jvm 1    | 2014-10-22 18:23:33,912-0300 INFO  [qtp991699868-89] anonymous org.sonatype.nexus.proxy.storage.remote.httpclient.HttpClientRemoteStorage - Updating remote transport for proxy repository """"npmjs"""" [id=npmjs]...  jvm 1    | 2014-10-22 18:23:33,913-0300 WARN  [qtp991699868-89] anonymous com.bolyuba.nexus.plugin.npm.proxy.DefaultNpmProxyRepository - Remote peer of proxy repository """"npmjs"""" [id=npmjs] threw a org.sonatype.nexus.proxy.RemoteStorageException exception. Connection/transport problems occured while connecting to remote peer of the repository. Auto-blocking this repository to prevent further connection-leaks and known-to-fail outbound connections until administrator fixes the problems, or Nexus detects remote repository as healthy. - Cause(s): NPM service error > Cannot store attributes! > Could not create the directory hierarchy in repository """"npmjs"""" [id=npmjs] to write """"/Users/plynch/Documents/qe-support/zen-6621/nexus-professional-2.10.0-02-bundle/sonatype-work/nexus/storage/npmjs/.nexus/attributes/bower/-"""" > /Users/plynch/Documents/qe-support/zen-6621/nexus-professional-2.10.0-02-bundle/sonatype-work/nexus/storage/npmjs/.nexus/attributes/bower/-: Not a directory  jvm 1    | 2014-10-22 18:23:33,914-0300 INFO  [RepositoryStatusChecker-npmjs] admin com.bolyuba.nexus.plugin.npm.proxy.DefaultNpmProxyRepository-npmjs - Next attempt to auto-unblock the """"npmjs"""" (id=npmjs) repository by checking its remote peer health will occur in 40 seconds.  jvm 1    | 2014-10-22 18:23:33,921-0300 WARN  [qtp991699868-89] anonymous org.sonatype.nexus.content.internal.ContentServlet - org.sonatype.nexus.proxy.LocalStorageException: Exception during reading up an item from FS storage!, caused by: org.sonatype.nexus.proxy.LocalStorageException: Could not create the directory hierarchy in repository """"npmjs"""" [id=npmjs] to write """"/Users/plynch/Documents/qe-support/zen-6621/nexus-professional-2.10.0-02-bundle/sonatype-work/nexus/storage/npmjs/.nexus/attributes/bower/-"""", caused by: java.nio.file.FileSystemException: /Users/plynch/Documents/qe-support/zen-6621/nexus-professional-2.10.0-02-bundle/sonatype-work/nexus/storage/npmjs/.nexus/attributes/bower/-: Not a directory [client=127.0.0.1,ua=curl/7.37.0,req=GET http://localhost:8081/nexus/content/repositories/npmjs/bower/-/bower-1.3.12.tgz]  jvm 1    | 2014-10-22 18:24:08,002-0300 DEBUG [HC4x-EvictingThread] *SYSTEM org.apache.http.impl.conn.CPool - Connection [id:13][route:{}->http://localhost:8888->http://registry.npmjs.org:80][state:null] expired @ Wed Oct 22 18:24:03 ADT 2014  jvm 1    | 2014-10-22 18:24:08,003-0300 DEBUG [HC4x-EvictingThread] *SYSTEM org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-13: Close connection  jvm 1    | 2014-10-22 18:24:13,918-0300 INFO  [RepositoryStatusChecker-npmjs] admin com.bolyuba.nexus.plugin.npm.proxy.DefaultNpmProxyRepository-npmjs - Next attempt to auto-unblock the """"npmjs"""" (id=npmjs) repository by checking its remote peer health will occur in 1 minute 20 seconds.  jvm 1    | 2014-10-22 18:24:13,919-0300 DEBUG [proxy-3-thread-8] admin org.apache.http.client.protocol.RequestAddCookies - CookieSpec selected: ignoreCookies  jvm 1    | 2014-10-22 18:24:13,919-0300 DEBUG [proxy-3-thread-8] admin org.apache.http.client.protocol.RequestAuthCache - Auth cache not set in the context  jvm 1    | 2014-10-22 18:24:13,920-0300 DEBUG [proxy-3-thread-8] admin org.apache.http.impl.execchain.MainClientExec - Opening connection {}->http://localhost:8888->http://registry.npmjs.org:80  jvm 1    | 2014-10-22 18:24:13,921-0300 DEBUG [proxy-3-thread-8] admin org.apache.http.impl.conn.HttpClientConnectionOperator - Connecting to localhost/127.0.0.1:8888  jvm 1    | 2014-10-22 18:24:13,921-0300 DEBUG [proxy-3-thread-8] admin org.apache.http.impl.conn.HttpClientConnectionOperator - Connection established 127.0.0.1:51896<->127.0.0.1:8888  jvm 1    | 2014-10-22 18:24:13,921-0300 DEBUG [proxy-3-thread-8] admin org.apache.http.impl.execchain.MainClientExec - Executing request HEAD http://registry.npmjs.org/ HTTP/1.1  jvm 1    | 2014-10-22 18:24:13,921-0300 DEBUG [proxy-3-thread-8] admin org.apache.http.impl.execchain.MainClientExec - Target auth state: UNCHALLENGED  jvm 1    | 2014-10-22 18:24:13,921-0300 DEBUG [proxy-3-thread-8] admin org.apache.http.impl.execchain.MainClientExec - Proxy auth state: UNCHALLENGED  jvm 1    | 2014-10-22 18:24:13,922-0300 DEBUG [proxy-3-thread-8] admin org.apache.http.headers - http-outgoing-14 >> HEAD http://registry.npmjs.org/ HTTP/1.1  jvm 1    | 2014-10-22 18:24:13,922-0300 DEBUG [proxy-3-thread-8] admin org.apache.http.headers - http-outgoing-14 >> Accept: */*  jvm 1    | 2014-10-22 18:24:13,922-0300 DEBUG [proxy-3-thread-8] admin org.apache.http.headers - http-outgoing-14 >> Accept-Language: en-us  jvm 1    | 2014-10-22 18:24:13,922-0300 DEBUG [proxy-3-thread-8] admin org.apache.http.headers - http-outgoing-14 >> Accept-Encoding: gzip,deflate,identity  jvm 1    | 2014-10-22 18:24:13,922-0300 DEBUG [proxy-3-thread-8] admin org.apache.http.headers - http-outgoing-14 >> Cache-Control: no-cache  jvm 1    | 2014-10-22 18:24:13,922-0300 DEBUG [proxy-3-thread-8] admin org.apache.http.headers - http-outgoing-14 >> Host: registry.npmjs.org  jvm 1    | 2014-10-22 18:24:13,922-0300 DEBUG [proxy-3-thread-8] admin org.apache.http.headers - http-outgoing-14 >> Proxy-Connection: Keep-Alive  jvm 1    | 2014-10-22 18:24:13,922-0300 DEBUG [proxy-3-thread-8] admin org.apache.http.headers - http-outgoing-14 >> User-Agent: Nexus/2.10.0-02 (PRO; Mac OS X; 10.10; x86_64; 1.7.0_71) apacheHttpClient4x/2.10.0-02  jvm 1    | 2014-10-22 18:24:14,363-0300 DEBUG [proxy-3-thread-8] admin org.apache.http.headers - http-outgoing-14 << HTTP/1.1 200 OK  jvm 1    | 2014-10-22 18:24:14,363-0300 DEBUG [proxy-3-thread-8] admin org.apache.http.headers - http-outgoing-14 << Server: CouchDB/1.5.0 (Erlang OTP/R16B03)  jvm 1    | 2014-10-22 18:24:14,363-0300 DEBUG [proxy-3-thread-8] admin org.apache.http.headers - http-outgoing-14 << Content-Type: text/plain; charset=utf-8  jvm 1    | 2014-10-22 18:24:14,363-0300 DEBUG [proxy-3-thread-8] admin org.apache.http.headers - http-outgoing-14 << Cache-Control: max-age=60  jvm 1    | 2014-10-22 18:24:14,363-0300 DEBUG [proxy-3-thread-8] admin org.apache.http.headers - http-outgoing-14 << Content-Length: 259  jvm 1    | 2014-10-22 18:24:14,363-0300 DEBUG [proxy-3-thread-8] admin org.apache.http.headers - http-outgoing-14 << Accept-Ranges: bytes  jvm 1    | 2014-10-22 18:24:14,363-0300 DEBUG [proxy-3-thread-8] admin org.apache.http.headers - http-outgoing-14 << Date: Wed, 22 Oct 2014 21:24:14 GMT  jvm 1    | 2014-10-22 18:24:14,363-0300 DEBUG [proxy-3-thread-8] admin org.apache.http.headers - http-outgoing-14 << Via: 1.1 varnish  jvm 1    | 2014-10-22 18:24:14,363-0300 DEBUG [proxy-3-thread-8] admin org.apache.http.headers - http-outgoing-14 << Age: 0  jvm 1    | 2014-10-22 18:24:14,363-0300 DEBUG [proxy-3-thread-8] admin org.apache.http.headers - http-outgoing-14 << X-Served-By: cache-jfk1024-JFK  jvm 1    | 2014-10-22 18:24:14,364-0300 DEBUG [proxy-3-thread-8] admin org.apache.http.headers - http-outgoing-14 << X-Cache: MISS  jvm 1    | 2014-10-22 18:24:14,364-0300 DEBUG [proxy-3-thread-8] admin org.apache.http.headers - http-outgoing-14 << X-Cache-Hits: 0  jvm 1    | 2014-10-22 18:24:14,364-0300 DEBUG [proxy-3-thread-8] admin org.apache.http.headers - http-outgoing-14 << X-Timer: S1414013053.934079,VS0,VE349  jvm 1    | 2014-10-22 18:24:14,364-0300 DEBUG [proxy-3-thread-8] admin org.apache.http.headers - http-outgoing-14 << Proxy-Connection: Keep-alive  jvm 1    | 2014-10-22 18:24:14,364-0300 DEBUG [proxy-3-thread-8] admin org.apache.http.impl.execchain.MainClientExec - Connection can be kept alive for 30000 MILLISECONDS  jvm 1    | 2014-10-22 18:24:14,365-0300 WARN  [proxy-3-thread-8] admin com.bolyuba.nexus.plugin.npm.proxy.DefaultNpmProxyRepository - Remote peer of proxy repository """"npmjs"""" [id=npmjs] detected as healthy, un-blocking the proxy repository (it was AutoBlocked by Nexus).  jvm 1    | 2014-10-22 18:24:48,036-0300 DEBUG [HC4x-EvictingThread] *SYSTEM org.apache.http.impl.conn.CPool - Connection [id:14][route:{}->http://localhost:8888->http://registry.npmjs.org:80][state:null] expired @ Wed Oct 22 18:24:44 ADT 2014  jvm 1    | 2014-10-22 18:24:48,037-0300 DEBUG [HC4x-EvictingThread] *SYSTEM org.apache.http.impl.conn.DefaultManagedHttpClientConnection - http-outgoing-14: Close connection    {quote}      """
"NEXUS-7603","Bug","Repository",2,"file content validation fails for application/x-msdownload jar files","""Create a Maven 2 release proxy repo to https://maven.atlassian.com/content/groups/public/  Set file content validation to true.    Request http://localhost:8081/nexus/content/repositories/atlassian/com/atlassian/support/healthcheck/support-healthcheck-plugin/1.0.3/support-healthcheck-plugin-1.0.3.jar    This returns 404. The reason is content validation fails.        Turns out this jar is correctly parsed by Apache Tika ( MIME lib Nexus uses ) as application/x-msdownload.    https://github.com/apache/tika/blob/trunk/tika-core/src/main/resources/org/apache/tika/mime/tika-mimetypes.xml#L3039    Nexus thinks this should be application/java-archive    Expected:  - Nexus should treat this jar as the proper expected type and not fail content validation.    Perhaps similar fix as we did in NEXUS-6271 for empty zip    """
"NEXUS-7615","Story","NPM|UI",1,"add support for npm deprecate","""Acceptance Criteria:  - Add and test support for the ability to use the npm deprecate command to deprecate a package  - Add and test support for the ability to use the npm deprecate command to UNdeprecate a package  - Visually show that the package has been deprecated in Search and Browse    This is the alternative for npm unpublish ( NEXUS-6892 )"""
"NEXUS-7614","Bug","NPM",1,"npm install cmd can trigger nexus NPE and 500 status when remote returns non-standard fields and stub attachments","""Hi guys,    After solving problems with the environment (apparently HTTP Proxy), we are now with another behavior: the server returns a NullPointerException while I use """"npm install""""... For instance, npm client tried to install an app and here's the output collected in the Nexus logs.    Have you seen this before?    2014-10-22 17:51:57 WARN  [p933859241-1983] - org.sonatype.nexus.content.internal.ContentServlet - null [client=172.18.51.2,ua=npm/1.4.9 node/v0.10.32 linux x64,req=GET http://pprfirmas302.corp.intuit.net:8081/nexus/content/groups/npm-all/gulp-jshint]  java.lang.NullPointerException: null   at com.bolyuba.nexus.plugin.npm.service.internal.MetadataParser.parsePackageAttachment(MetadataParser.java:241) ~[na:na]   at com.bolyuba.nexus.plugin.npm.service.internal.MetadataParser.parsePackageAttachments(MetadataParser.java:211) ~[na:na]   at com.bolyuba.nexus.plugin.npm.service.internal.MetadataParser.parsePackageRoot(MetadataParser.java:155) ~[na:na]   at com.bolyuba.nexus.plugin.npm.service.internal.MetadataParser.parsePackageRoot(MetadataParser.java:100) ~[na:na]   at com.bolyuba.nexus.plugin.npm.service.internal.proxy.HttpProxyMetadataTransport.fetchPackageRoot(HttpProxyMetadataTransport.java:147) ~[na:na]   at com.bolyuba.nexus.plugin.npm.service.internal.ProxyMetadataServiceImpl.mayUpdatePackageRoot(ProxyMetadataServiceImpl.java:203) ~[na:na]   at com.bolyuba.nexus.plugin.npm.service.internal.ProxyMetadataServiceImpl.doGeneratePackageRoot(ProxyMetadataServiceImpl.java:189) ~[na:na]   at com.bolyuba.nexus.plugin.npm.service.internal.GeneratorSupport.generatePackageRoot(GeneratorSupport.java:108) ~[na:na]   at com.bolyuba.nexus.plugin.npm.service.internal.GroupMetadataServiceImpl.doGeneratePackageRoot(GroupMetadataServiceImpl.java:68) ~[na:na]   at com.bolyuba.nexus.plugin.npm.service.internal.GeneratorSupport.generatePackageRoot(GeneratorSupport.java:108) ~[na:na]   at com.bolyuba.nexus.plugin.npm.service.internal.GeneratorSupport.producePackageRoot(GeneratorSupport.java:77) ~[na:na]   at com.bolyuba.nexus.plugin.npm.group.DefaultNpmGroupRepository.doRetrieveLocalItem(DefaultNpmGroupRepository.java:136) ~[na:na]   at org.sonatype.nexus.proxy.repository.AbstractRepository.doRetrieveItem(AbstractRepository.java:1230) ~[nexus-core-2.10.0-02.jar:2.10.0-02]   at org.sonatype.nexus.proxy.repository.AbstractGroupRepository.doRetrieveItem(AbstractGroupRepository.java:237) ~[nexus-core-2.10.0-02.jar:2.10.0-02]   at org.sonatype.nexus.proxy.repository.AbstractRepository.retrieveItem(AbstractRepository.java:758) ~[nexus-core-2.10.0-02.jar:2.10.0-02]   at org.sonatype.nexus.proxy.repository.AbstractRepository.retrieveItem(AbstractRepository.java:590) ~[nexus-core-2.10.0-02.jar:2.10.0-02]   at org.sonatype.nexus.proxy.router.DefaultRepositoryRouter.retrieveItem(DefaultRepositoryRouter.java:155) ~[nexus-core-2.10.0-02.jar:2.10.0-02]   at org.sonatype.nexus.content.internal.ContentServlet.doGet(ContentServlet.java:387) [nexus-content-plugin-2.10.0-02/:na]   at org.sonatype.nexus.content.internal.ContentServlet.service(ContentServlet.java:353) [nexus-content-plugin-2.10.0-02/:na]   at javax.servlet.http.HttpServlet.service(HttpServlet.java:848) [javax.servlet-3.0.0.v201112011016.jar:na]   at com.google.inject.servlet.ServletDefinition.doServiceImpl(ServletDefinition.java:288) [guice-servlet-3.1.10.jar:3.1.10]   at com.google.inject.servlet.ServletDefinition.doService(ServletDefinition.java:278) [guice-servlet-3.1.10.jar:3.1.10]   at com.google.inject.servlet.ServletDefinition.service(ServletDefinition.java:182) [guice-servlet-3.1.10.jar:3.1.10]   at com.google.inject.servlet.ManagedServletPipeline.service(ManagedServletPipeline.java:93) [guice-servlet-3.1.10.jar:3.1.10]   at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:85) [guice-servlet-3.1.10.jar:3.1.10]   at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:112) [shiro-web-1.2.2.jar:1.2.2]   at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:82) [guice-servlet-3.1.10.jar:3.1.10]   at com.google.inject.servlet.ManagedFilterPipeline.dispatch(ManagedFilterPipeline.java:120) [guice-servlet-3.1.10.jar:3.1.10]   at org.sonatype.nexus.web.internal.NexusGuiceFilter$MultiFilterChain.doFilter(NexusGuiceFilter.java:82) [nexus-core-2.10.0-02.jar:2.10.0-02]   at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:89) [guice-servlet-3.1.10.jar:3.1.10]   at com.google.inject.servlet.ManagedFilterPipeline.dispatch(ManagedFilterPipeline.java:120) [guice-servlet-3.1.10.jar:3.1.10]   at org.sonatype.nexus.web.internal.NexusGuiceFilter$MultiFilterChain.doFilter(NexusGuiceFilter.java:82) [nexus-core-2.10.0-02.jar:2.10.0-02]   at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:89) [guice-servlet-3.1.10.jar:3.1.10]   at com.google.inject.servlet.ManagedFilterPipeline.dispatch(ManagedFilterPipeline.java:120) [guice-servlet-3.1.10.jar:3.1.10]   at org.sonatype.nexus.web.internal.NexusGuiceFilter$MultiFilterChain.doFilter(NexusGuiceFilter.java:82) [nexus-core-2.10.0-02.jar:2.10.0-02]   at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:89) [guice-servlet-3.1.10.jar:3.1.10]   at org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilterChain.java:61) [shiro-web-1.2.2.jar:1.2.2]   at org.apache.shiro.web.servlet.AdviceFilter.executeChain(AdviceFilter.java:108) [shiro-web-1.2.2.jar:1.2.2]   at org.apache.shiro.web.servlet.AdviceFilter.doFilterInternal(AdviceFilter.java:137) [shiro-web-1.2.2.jar:1.2.2]   at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:125) [shiro-web-1.2.2.jar:1.2.2]   at org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilterChain.java:66) [shiro-web-1.2.2.jar:1.2.2]   at org.apache.shiro.web.servlet.AdviceFilter.executeChain(AdviceFilter.java:108) [shiro-web-1.2.2.jar:1.2.2]   at org.apache.shiro.web.servlet.AdviceFilter.doFilterInternal(AdviceFilter.java:137) [shiro-web-1.2.2.jar:1.2.2]   at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:125) [shiro-web-1.2.2.jar:1.2.2]   at org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilterChain.java:66) [shiro-web-1.2.2.jar:1.2.2]   at org.apache.shiro.web.servlet.AdviceFilter.executeChain(AdviceFilter.java:108) [shiro-web-1.2.2.jar:1.2.2]   at org.apache.shiro.web.servlet.AdviceFilter.doFilterInternal(AdviceFilter.java:137) [shiro-web-1.2.2.jar:1.2.2]   at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:125) [shiro-web-1.2.2.jar:1.2.2]   at org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilterChain.java:66) [shiro-web-1.2.2.jar:1.2.2]   at org.apache.shiro.web.servlet.AbstractShiroFilter.executeChain(AbstractShiroFilter.java:449) [shiro-web-1.2.2.jar:1.2.2]   at org.sonatype.nexus.web.internal.SecurityFilter.executeChain(SecurityFilter.java:73) [nexus-core-2.10.0-02.jar:2.10.0-02]   at org.apache.shiro.web.servlet.AbstractShiroFilter$1.call(AbstractShiroFilter.java:365) [shiro-web-1.2.2.jar:1.2.2]   at org.apache.shiro.subject.support.SubjectCallable.doCall(SubjectCallable.java:90) [shiro-core-1.2.2.jar:1.2.2]   at org.apache.shiro.subject.support.SubjectCallable.call(SubjectCallable.java:83) [shiro-core-1.2.2.jar:1.2.2]   at org.apache.shiro.subject.support.DelegatingSubject.execute(DelegatingSubject.java:383) [shiro-core-1.2.2.jar:1.2.2]   at org.apache.shiro.web.servlet.AbstractShiroFilter.doFilterInternal(AbstractShiroFilter.java:362) [shiro-web-1.2.2.jar:1.2.2]   at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:125) [shiro-web-1.2.2.jar:1.2.2]   at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:82) [guice-servlet-3.1.10.jar:3.1.10]   at com.google.inject.servlet.ManagedFilterPipeline.dispatch(ManagedFilterPipeline.java:120) [guice-servlet-3.1.10.jar:3.1.10]   at org.sonatype.nexus.web.internal.NexusGuiceFilter$MultiFilterChain.doFilter(NexusGuiceFilter.java:82) [nexus-core-2.10.0-02.jar:2.10.0-02]   at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:89) [guice-servlet-3.1.10.jar:3.1.10]   at com.google.inject.servlet.ManagedFilterPipeline.dispatch(ManagedFilterPipeline.java:120) [guice-servlet-3.1.10.jar:3.1.10]   at org.sonatype.nexus.web.internal.NexusGuiceFilter$MultiFilterChain.doFilter(NexusGuiceFilter.java:82) [nexus-core-2.10.0-02.jar:2.10.0-02]   at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:89) [guice-servlet-3.1.10.jar:3.1.10]   at com.sonatype.nexus.licensing.internal.LicensingRedirectFilter.doFilter(LicensingRedirectFilter.java:135) [nexus-licensing-plugin-2.10.0-02/:na]   at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:82) [guice-servlet-3.1.10.jar:3.1.10]   at com.google.inject.servlet.ManagedFilterPipeline.dispatch(ManagedFilterPipeline.java:120) [guice-servlet-3.1.10.jar:3.1.10]   at org.sonatype.nexus.web.internal.NexusGuiceFilter$MultiFilterChain.doFilter(NexusGuiceFilter.java:82) [nexus-core-2.10.0-02.jar:2.10.0-02]   at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:89) [guice-servlet-3.1.10.jar:3.1.10]   at com.yammer.metrics.web.WebappMetricsFilter.doFilter(WebappMetricsFilter.java:76) [metrics-web-2.2.0.jar:na]   at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:82) [guice-servlet-3.1.10.jar:3.1.10]   at org.sonatype.nexus.web.internal.CommonHeadersFilter.doFilter(CommonHeadersFilter.java:69) [nexus-core-2.10.0-02.jar:2.10.0-02]   at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:82) [guice-servlet-3.1.10.jar:3.1.10]   at org.sonatype.nexus.web.internal.ErrorPageFilter.doFilter(ErrorPageFilter.java:71) [nexus-core-2.10.0-02.jar:2.10.0-02]   at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:82) [guice-servlet-3.1.10.jar:3.1.10]   at org.sonatype.nexus.web.internal.BaseUrlHolderFilter.doFilter(BaseUrlHolderFilter.java:70) [nexus-core-2.10.0-02.jar:2.10.0-02]   at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:82) [guice-servlet-3.1.10.jar:3.1.10]   at com.google.inject.servlet.ManagedFilterPipeline.dispatch(ManagedFilterPipeline.java:120) [guice-servlet-3.1.10.jar:3.1.10]   at org.sonatype.nexus.web.internal.NexusGuiceFilter$MultiFilterChain.doFilter(NexusGuiceFilter.java:82) [nexus-core-2.10.0-02.jar:2.10.0-02]   at org.sonatype.nexus.web.internal.NexusGuiceFilter$MultiFilterPipeline.dispatch(NexusGuiceFilter.java:56) [nexus-core-2.10.0-02.jar:2.10.0-02]   at com.google.inject.servlet.GuiceFilter$1.call(GuiceFilter.java:132) [guice-servlet-3.1.10.jar:3.1.10]   at com.google.inject.servlet.GuiceFilter$1.call(GuiceFilter.java:129) [guice-servlet-3.1.10.jar:3.1.10]   at com.google.inject.servlet.GuiceFilter$Context.call(GuiceFilter.java:206) [guice-servlet-3.1.10.jar:3.1.10]   at com.google.inject.servlet.GuiceFilter.doFilter(GuiceFilter.java:129) [guice-servlet-3.1.10.jar:3.1.10]   at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1419) [jetty-servlet-8.1.11.v20130520.jar:8.1.11.v20130520]   at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:455) [jetty-servlet-8.1.11.v20130520.jar:8.1.11.v20130520]   at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:137) [jetty-server-8.1.11.v20130520.jar:8.1.11.v20130520]   at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:557) [jetty-security-8.1.11.v20130520.jar:8.1.11.v20130520]   at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:231) [jetty-server-8.1.11.v20130520.jar:8.1.11.v20130520]   at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1075) [jetty-server-8.1.11.v20130520.jar:8.1.11.v20130520]   at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:384) [jetty-servlet-8.1.11.v20130520.jar:8.1.11.v20130520]   at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:193) [jetty-server-8.1.11.v20130520.jar:8.1.11.v20130520]   at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1009) [jetty-server-8.1.11.v20130520.jar:8.1.11.v20130520]   at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:135) [jetty-server-8.1.11.v20130520.jar:8.1.11.v20130520]   at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:116) [jetty-server-8.1.11.v20130520.jar:8.1.11.v20130520]   at com.yammer.metrics.jetty.InstrumentedHandler.handle(InstrumentedHandler.java:200) [metrics-jetty-2.2.0.jar:na]   at org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:154) [jetty-server-8.1.11.v20130520.jar:8.1.11.v20130520]   at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:116) [jetty-server-8.1.11.v20130520.jar:8.1.11.v20130520]   at org.eclipse.jetty.server.Server.handle(Server.java:370) [jetty-server-8.1.11.v20130520.jar:8.1.11.v20130520]   at org.eclipse.jetty.server.AbstractHttpConnection.handleRequest(AbstractHttpConnection.java:489) [jetty-server-8.1.11.v20130520.jar:8.1.11.v20130520]   at org.eclipse.jetty.server.AbstractHttpConnection.headerComplete(AbstractHttpConnection.java:949) [jetty-server-8.1.11.v20130520.jar:8.1.11.v20130520]   at org.eclipse.jetty.server.AbstractHttpConnection$RequestHandler.headerComplete(AbstractHttpConnection.java:1011) [jetty-server-8.1.11.v20130520.jar:8.1.11.v20130520]   at org.eclipse.jetty.http.HttpParser.parseNext(HttpParser.java:644) [jetty-http-8.1.11.v20130520.jar:8.1.11.v20130520]   at org.eclipse.jetty.http.HttpParser.parseAvailable(HttpParser.java:235) [jetty-http-8.1.11.v20130520.jar:8.1.11.v20130520]   at org.eclipse.jetty.server.AsyncHttpConnection.handle(AsyncHttpConnection.java:82) [jetty-server-8.1.11.v20130520.jar:8.1.11.v20130520]   at org.eclipse.jetty.io.nio.SelectChannelEndPoint.handle(SelectChannelEndPoint.java:668) [jetty-io-8.1.11.v20130520.jar:8.1.11.v20130520]   at org.eclipse.jetty.io.nio.SelectChannelEndPoint$1.run(SelectChannelEndPoint.java:52) [jetty-io-8.1.11.v20130520.jar:8.1.11.v20130520]   at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:608) [jetty-util-8.1.11.v20130520.jar:8.1.11.v20130520]   at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:543) [jetty-util-8.1.11.v20130520.jar:8.1.11.v20130520]   at java.lang.Thread.run(Thread.java:745) [na:1.7.0_72]  2014-10-22 17:51:57 WARN  [p933859241-1982] - org.sonatype.nexus.content.internal.ContentServlet - null [client=172.18.51.2,ua=npm/1.4.9 node/v0.10.32 linux x64,req=GET http://pprfirmas302.corp.intuit.net:8081/nexus/content/groups/npm-all/gulp-shell]  java.lang.NullPointerException: null   at com.bolyuba.nexus.plugin.npm.service.internal.MetadataParser.parsePackageAttachment(MetadataParser.java:241) ~[na:na]   at com.bolyuba.nexus.plugin.npm.service.internal.MetadataParser.parsePackageAttachments(MetadataParser.java:211) ~[na:na]   at com.bolyuba.nexus.plugin.npm.service.internal.MetadataParser.parsePackageRoot(MetadataParser.java:155) ~[na:na]   at com.bolyuba.nexus.plugin.npm.service.internal.MetadataParser.parsePackageRoot(MetadataParser.java:100) ~[na:na]   at com.bolyuba.nexus.plugin.npm.service.internal.proxy.HttpProxyMetadataTransport.fetchPackageRoot(HttpProxyMetadataTransport.java:147) ~[na:na]   at com.bolyuba.nexus.plugin.npm.service.internal.ProxyMetadataServiceImpl.mayUpdatePackageRoot(ProxyMetadataServiceImpl.java:203) ~[na:na]   at com.bolyuba.nexus.plugin.npm.service.internal.ProxyMetadataServiceImpl.doGeneratePackageRoot(ProxyMetadataServiceImpl.java:189) ~[na:na]   at com.bolyuba.nexus.plugin.npm.service.internal.GeneratorSupport.generatePackageRoot(GeneratorSupport.java:108) ~[na:na]   at com.bolyuba.nexus.plugin.npm.service.internal.GroupMetadataServiceImpl.doGeneratePackageRoot(GroupMetadataServiceImpl.java:68) ~[na:na]   at com.bolyuba.nexus.plugin.npm.service.internal.GeneratorSupport.generatePackageRoot(GeneratorSupport.java:108) ~[na:na]   at com.bolyuba.nexus.plugin.npm.service.internal.GeneratorSupport.producePackageRoot(GeneratorSupport.java:77) ~[na:na]   at com.bolyuba.nexus.plugin.npm.group.DefaultNpmGroupRepository.doRetrieveLocalItem(DefaultNpmGroupRepository.java:136) ~[na:na]   at org.sonatype.nexus.proxy.repository.AbstractRepository.doRetrieveItem(AbstractRepository.java:1230) ~[nexus-core-2.10.0-02.jar:2.10.0-02]   at org.sonatype.nexus.proxy.repository.AbstractGroupRepository.doRetrieveItem(AbstractGroupRepository.java:237) ~[nexus-core-2.10.0-02.jar:2.10.0-02]   at org.sonatype.nexus.proxy.repository.AbstractRepository.retrieveItem(AbstractRepository.java:758) ~[nexus-core-2.10.0-02.jar:2.10.0-02]   at org.sonatype.nexus.proxy.repository.AbstractRepository.retrieveItem(AbstractRepository.java:590) ~[nexus-core-2.10.0-02.jar:2.10.0-02]   at org.sonatype.nexus.proxy.router.DefaultRepositoryRouter.retrieveItem(DefaultRepositoryRouter.java:155) ~[nexus-core-2.10.0-02.jar:2.10.0-02]   at org.sonatype.nexus.content.internal.ContentServlet.doGet(ContentServlet.java:387) [nexus-content-plugin-2.10.0-02/:na]   at org.sonatype.nexus.content.internal.ContentServlet.service(ContentServlet.java:353) [nexus-content-plugin-2.10.0-02/:na]   at javax.servlet.http.HttpServlet.service(HttpServlet.java:848) [javax.servlet-3.0.0.v201112011016.jar:na]   at com.google.inject.servlet.ServletDefinition.doServiceImpl(ServletDefinition.java:288) [guice-servlet-3.1.10.jar:3.1.10]   at com.google.inject.servlet.ServletDefinition.doService(ServletDefinition.java:278) [guice-servlet-3.1.10.jar:3.1.10]   at com.google.inject.servlet.ServletDefinition.service(ServletDefinition.java:182) [guice-servlet-3.1.10.jar:3.1.10]   at com.google.inject.servlet.ManagedServletPipeline.service(ManagedServletPipeline.java:93) [guice-servlet-3.1.10.jar:3.1.10]   at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:85) [guice-servlet-3.1.10.jar:3.1.10]   at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:112) [shiro-web-1.2.2.jar:1.2.2]   at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:82) [guice-servlet-3.1.10.jar:3.1.10]   at com.google.inject.servlet.ManagedFilterPipeline.dispatch(ManagedFilterPipeline.java:120) [guice-servlet-3.1.10.jar:3.1.10]   at org.sonatype.nexus.web.internal.NexusGuiceFilter$MultiFilterChain.doFilter(NexusGuiceFilter.java:82) [nexus-core-2.10.0-02.jar:2.10.0-02]   at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:89) [guice-servlet-3.1.10.jar:3.1.10]   at com.google.inject.servlet.ManagedFilterPipeline.dispatch(ManagedFilterPipeline.java:120) [guice-servlet-3.1.10.jar:3.1.10]   at org.sonatype.nexus.web.internal.NexusGuiceFilter$MultiFilterChain.doFilter(NexusGuiceFilter.java:82) [nexus-core-2.10.0-02.jar:2.10.0-02]   at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:89) [guice-servlet-3.1.10.jar:3.1.10]   at com.google.inject.servlet.ManagedFilterPipeline.dispatch(ManagedFilterPipeline.java:120) [guice-servlet-3.1.10.jar:3.1.10]   at org.sonatype.nexus.web.internal.NexusGuiceFilter$MultiFilterChain.doFilter(NexusGuiceFilter.java:82) [nexus-core-2.10.0-02.jar:2.10.0-02]   at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:89) [guice-servlet-3.1.10.jar:3.1.10]   at org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilterChain.java:61) [shiro-web-1.2.2.jar:1.2.2]   at org.apache.shiro.web.servlet.AdviceFilter.executeChain(AdviceFilter.java:108) [shiro-web-1.2.2.jar:1.2.2]   at org.apache.shiro.web.servlet.AdviceFilter.doFilterInternal(AdviceFilter.java:137) [shiro-web-1.2.2.jar:1.2.2]   at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:125) [shiro-web-1.2.2.jar:1.2.2]   at org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilterChain.java:66) [shiro-web-1.2.2.jar:1.2.2]   at org.apache.shiro.web.servlet.AdviceFilter.executeChain(AdviceFilter.java:108) [shiro-web-1.2.2.jar:1.2.2]   at org.apache.shiro.web.servlet.AdviceFilter.doFilterInternal(AdviceFilter.java:137) [shiro-web-1.2.2.jar:1.2.2]   at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:125) [shiro-web-1.2.2.jar:1.2.2]   at org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilterChain.java:66) [shiro-web-1.2.2.jar:1.2.2]   at org.apache.shiro.web.servlet.AdviceFilter.executeChain(AdviceFilter.java:108) [shiro-web-1.2.2.jar:1.2.2]   at org.apache.shiro.web.servlet.AdviceFilter.doFilterInternal(AdviceFilter.java:137) [shiro-web-1.2.2.jar:1.2.2]   at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:125) [shiro-web-1.2.2.jar:1.2.2]   at org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilterChain.java:66) [shiro-web-1.2.2.jar:1.2.2]   at org.apache.shiro.web.servlet.AbstractShiroFilter.executeChain(AbstractShiroFilter.java:449) [shiro-web-1.2.2.jar:1.2.2]   at org.sonatype.nexus.web.internal.SecurityFilter.executeChain(SecurityFilter.java:73) [nexus-core-2.10.0-02.jar:2.10.0-02]   at org.apache.shiro.web.servlet.AbstractShiroFilter$1.call(AbstractShiroFilter.java:365) [shiro-web-1.2.2.jar:1.2.2]   at org.apache.shiro.subject.support.SubjectCallable.doCall(SubjectCallable.java:90) [shiro-core-1.2.2.jar:1.2.2]   at org.apache.shiro.subject.support.SubjectCallable.call(SubjectCallable.java:83) [shiro-core-1.2.2.jar:1.2.2]   at org.apache.shiro.subject.support.DelegatingSubject.execute(DelegatingSubject.java:383) [shiro-core-1.2.2.jar:1.2.2]   at org.apache.shiro.web.servlet.AbstractShiroFilter.doFilterInternal(AbstractShiroFilter.java:362) [shiro-web-1.2.2.jar:1.2.2]   at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:125) [shiro-web-1.2.2.jar:1.2.2]   at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:82) [guice-servlet-3.1.10.jar:3.1.10]   at com.google.inject.servlet.ManagedFilterPipeline.dispatch(ManagedFilterPipeline.java:120) [guice-servlet-3.1.10.jar:3.1.10]   at org.sonatype.nexus.web.internal.NexusGuiceFilter$MultiFilterChain.doFilter(NexusGuiceFilter.java:82) [nexus-core-2.10.0-02.jar:2.10.0-02]   at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:89) [guice-servlet-3.1.10.jar:3.1.10]   at com.google.inject.servlet.ManagedFilterPipeline.dispatch(ManagedFilterPipeline.java:120) [guice-servlet-3.1.10.jar:3.1.10]   at org.sonatype.nexus.web.internal.NexusGuiceFilter$MultiFilterChain.doFilter(NexusGuiceFilter.java:82) [nexus-core-2.10.0-02.jar:2.10.0-02]   at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:89) [guice-servlet-3.1.10.jar:3.1.10]   at com.sonatype.nexus.licensing.internal.LicensingRedirectFilter.doFilter(LicensingRedirectFilter.java:135) [nexus-licensing-plugin-2.10.0-02/:na]   at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:82) [guice-servlet-3.1.10.jar:3.1.10]   at com.google.inject.servlet.ManagedFilterPipeline.dispatch(ManagedFilterPipeline.java:120) [guice-servlet-3.1.10.jar:3.1.10]   at org.sonatype.nexus.web.internal.NexusGuiceFilter$MultiFilterChain.doFilter(NexusGuiceFilter.java:82) [nexus-core-2.10.0-02.jar:2.10.0-02]   at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:89) [guice-servlet-3.1.10.jar:3.1.10]   at com.yammer.metrics.web.WebappMetricsFilter.doFilter(WebappMetricsFilter.java:76) [metrics-web-2.2.0.jar:na]   at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:82) [guice-servlet-3.1.10.jar:3.1.10]   at org.sonatype.nexus.web.internal.CommonHeadersFilter.doFilter(CommonHeadersFilter.java:69) [nexus-core-2.10.0-02.jar:2.10.0-02]   at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:82) [guice-servlet-3.1.10.jar:3.1.10]   at org.sonatype.nexus.web.internal.ErrorPageFilter.doFilter(ErrorPageFilter.java:71) [nexus-core-2.10.0-02.jar:2.10.0-02]   at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:82) [guice-servlet-3.1.10.jar:3.1.10]   at org.sonatype.nexus.web.internal.BaseUrlHolderFilter.doFilter(BaseUrlHolderFilter.java:70) [nexus-core-2.10.0-02.jar:2.10.0-02]   at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:82) [guice-servlet-3.1.10.jar:3.1.10]   at com.google.inject.servlet.ManagedFilterPipeline.dispatch(ManagedFilterPipeline.java:120) [guice-servlet-3.1.10.jar:3.1.10]   at org.sonatype.nexus.web.internal.NexusGuiceFilter$MultiFilterChain.doFilter(NexusGuiceFilter.java:82) [nexus-core-2.10.0-02.jar:2.10.0-02]   at org.sonatype.nexus.web.internal.NexusGuiceFilter$MultiFilterPipeline.dispatch(NexusGuiceFilter.java:56) [nexus-core-2.10.0-02.jar:2.10.0-02]   at com.google.inject.servlet.GuiceFilter$1.call(GuiceFilter.java:132) [guice-servlet-3.1.10.jar:3.1.10]   at com.google.inject.servlet.GuiceFilter$1.call(GuiceFilter.java:129) [guice-servlet-3.1.10.jar:3.1.10]   at com.google.inject.servlet.GuiceFilter$Context.call(GuiceFilter.java:206) [guice-servlet-3.1.10.jar:3.1.10]   at com.google.inject.servlet.GuiceFilter.doFilter(GuiceFilter.java:129) [guice-servlet-3.1.10.jar:3.1.10]   at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1419) [jetty-servlet-8.1.11.v20130520.jar:8.1.11.v20130520]   at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:455) [jetty-servlet-8.1.11.v20130520.jar:8.1.11.v20130520]   at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:137) [jetty-server-8.1.11.v20130520.jar:8.1.11.v20130520]   at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:557) [jetty-security-8.1.11.v20130520.jar:8.1.11.v20130520]   at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:231) [jetty-server-8.1.11.v20130520.jar:8.1.11.v20130520]   at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1075) [jetty-server-8.1.11.v20130520.jar:8.1.11.v20130520]   at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:384) [jetty-servlet-8.1.11.v20130520.jar:8.1.11.v20130520]   at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:193) [jetty-server-8.1.11.v20130520.jar:8.1.11.v20130520]   at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1009) [jetty-server-8.1.11.v20130520.jar:8.1.11.v20130520]   at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:135) [jetty-server-8.1.11.v20130520.jar:8.1.11.v20130520]   at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:116) [jetty-server-8.1.11.v20130520.jar:8.1.11.v20130520]   at com.yammer.metrics.jetty.InstrumentedHandler.handle(InstrumentedHandler.java:200) [metrics-jetty-2.2.0.jar:na]   at org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:154) [jetty-server-8.1.11.v20130520.jar:8.1.11.v20130520]   at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:116) [jetty-server-8.1.11.v20130520.jar:8.1.11.v20130520]   at org.eclipse.jetty.server.Server.handle(Server.java:370) [jetty-server-8.1.11.v20130520.jar:8.1.11.v20130520]   at org.eclipse.jetty.server.AbstractHttpConnection.handleRequest(AbstractHttpConnection.java:489) [jetty-server-8.1.11.v20130520.jar:8.1.11.v20130520]   at org.eclipse.jetty.server.AbstractHttpConnection.headerComplete(AbstractHttpConnection.java:949) [jetty-server-8.1.11.v20130520.jar:8.1.11.v20130520]   at org.eclipse.jetty.server.AbstractHttpConnection$RequestHandler.headerComplete(AbstractHttpConnection.java:1011) [jetty-server-8.1.11.v20130520.jar:8.1.11.v20130520]   at org.eclipse.jetty.http.HttpParser.parseNext(HttpParser.java:644) [jetty-http-8.1.11.v20130520.jar:8.1.11.v20130520]   at org.eclipse.jetty.http.HttpParser.parseAvailable(HttpParser.java:235) [jetty-http-8.1.11.v20130520.jar:8.1.11.v20130520]   at org.eclipse.jetty.server.AsyncHttpConnection.handle(AsyncHttpConnection.java:82) [jetty-server-8.1.11.v20130520.jar:8.1.11.v20130520]   at org.eclipse.jetty.io.nio.SelectChannelEndPoint.handle(SelectChannelEndPoint.java:668) [jetty-io-8.1.11.v20130520.jar:8.1.11.v20130520]   at org.eclipse.jetty.io.nio.SelectChannelEndPoint$1.run(SelectChannelEndPoint.java:52) [jetty-io-8.1.11.v20130520.jar:8.1.11.v20130520]   at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:608) [jetty-util-8.1.11.v20130520.jar:8.1.11.v20130520]   at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:543) [jetty-util-8.1.11.v20130520.jar:8.1.11.v20130520]   at java.lang.Thread.run(Thread.java:745) [na:1.7.0_72]  """
"NEXUS-7638","Task","UI",1,"Change quick search clear icon to grayscale","""The light-blue hover/focus/click states look wrong against that dark gray background. Consider switching to grayscale or a stronger blue."""
"NEXUS-7634","Story","UI",5,"Live style guide","""Implement the 8shapes visual index as a tab in the developer console.    Reference:    https://www.dropbox.com/sh/hh02tj5th6dsh2q/AABNgGt8ZNk41i-ZlzvSZSLsa/visual%20index?dl=0#lh:null-Sonatype%20Nexus%20Visual%20Index.psd    Out of scope items:    - Icons (we aren’t using all the icons represented in the style guide)"""
"NEXUS-7627","Bug","RubyGems",1,"Nexus BUG in ""rubygems-proxy"" ItemNotFoundException during cache","""Found in logs during performing test scenarios (see NEXUS-7607).    jvm 1    | 2014-10-28 14:21:44,922+0100 WARN  [qtp1187179057-85] anonymous org.sonatype.nexus.plugins.ruby.proxy.DefaultProxyRubyRepository - Nexus BUG in """"rubygems-proxy"""" [id=rubygems-proxy], ItemNotFoundException during cache! Please report this issue along with the stack trace below!  jvm 1    | org.sonatype.nexus.proxy.ItemNotFoundException: Path /api/v1/dependencies?gems=pattern-match, not found in local storage of repository """"rubygems-proxy"""" [id=rubygems-proxy]  jvm 1    |  at org.sonatype.nexus.proxy.storage.local.fs.DefaultFSLocalRepositoryStorage.retrieveItemFromFile(DefaultFSLocalRepositoryStorage.java:267) ~[nexus-core-2.11.0-SNAPSHOT.jar:2.11.0-SNAPSHOT]  jvm 1    |  at org.sonatype.nexus.proxy.storage.local.fs.DefaultFSLocalRepositoryStorage.retrieveItem(DefaultFSLocalRepositoryStorage.java:292) ~[nexus-core-2.11.0-SNAPSHOT.jar:2.11.0-SNAPSHOT]  jvm 1    |  at org.sonatype.nexus.proxy.repository.AbstractRepository.doRetrieveLocalItem(AbstractRepository.java:1238) [nexus-core-2.11.0-SNAPSHOT.jar:2.11.0-SNAPSHOT]  jvm 1    |  at org.sonatype.nexus.proxy.repository.AbstractProxyRepository.doCacheItem(AbstractProxyRepository.java:910) [nexus-core-2.11.0-SNAPSHOT.jar:2.11.0-SNAPSHOT]  jvm 1    |  at org.sonatype.nexus.plugins.ruby.proxy.DefaultProxyRubyRepository.doCacheItem(DefaultProxyRubyRepository.java:180) [nexus-ruby-plugin-2.11.0-SNAPSHOT/:na]  jvm 1    |  at org.sonatype.nexus.proxy.repository.AbstractProxyRepository.doRetrieveRemoteItem(AbstractProxyRepository.java:1413) [nexus-core-2.11.0-SNAPSHOT.jar:2.11.0-SNAPSHOT]  jvm 1    |  at org.sonatype.nexus.plugins.ruby.proxy.DefaultProxyRubyRepository.doRetrieveRemoteItem(DefaultProxyRubyRepository.java:193) [nexus-ruby-plugin-2.11.0-SNAPSHOT/:na]  jvm 1    |  at org.sonatype.nexus.proxy.repository.AbstractProxyRepository.doRetrieveItem0(AbstractProxyRepository.java:1147) [nexus-core-2.11.0-SNAPSHOT.jar:2.11.0-SNAPSHOT]  jvm 1    |  at org.sonatype.nexus.proxy.repository.AbstractProxyRepository.doRetrieveItem(AbstractProxyRepository.java:1030) [nexus-core-2.11.0-SNAPSHOT.jar:2.11.0-SNAPSHOT]  jvm 1    |  at org.sonatype.nexus.proxy.repository.AbstractRepository.retrieveItem(AbstractRepository.java:758) [nexus-core-2.11.0-SNAPSHOT.jar:2.11.0-SNAPSHOT]  jvm 1    |  at org.sonatype.nexus.plugins.ruby.proxy.DefaultProxyRubyRepository.retrieveDirectItem(DefaultProxyRubyRepository.java:219) [nexus-ruby-plugin-2.11.0-SNAPSHOT/:na]  jvm 1    |  at org.sonatype.nexus.plugins.ruby.proxy.ProxyNexusStorage.retrieve(ProxyNexusStorage.java:48) [nexus-ruby-plugin-2.11.0-SNAPSHOT/:na]  jvm 1    |  at org.sonatype.nexus.ruby.layout.ProxiedGETLayout.retrieveAll(ProxiedGETLayout.java:59) [nexus-ruby-plugin-2.11.0-SNAPSHOT/:na]  jvm 1    |  at org.sonatype.nexus.ruby.layout.GETLayout.bundlerApiFile(GETLayout.java:114) [nexus-ruby-plugin-2.11.0-SNAPSHOT/:na]  jvm 1    |  at org.sonatype.nexus.ruby.cuba.api.ApiV1DependenciesCuba.on(ApiV1DependenciesCuba.java:50) [nexus-ruby-plugin-2.11.0-SNAPSHOT/:na]  jvm 1    |  at org.sonatype.nexus.ruby.cuba.State.nested(State.java:55) [nexus-ruby-plugin-2.11.0-SNAPSHOT/:na]  jvm 1    |  at org.sonatype.nexus.ruby.cuba.api.ApiV1Cuba.on(ApiV1Cuba.java:46) [nexus-ruby-plugin-2.11.0-SNAPSHOT/:na]  jvm 1    |  at org.sonatype.nexus.ruby.cuba.State.nested(State.java:61) [nexus-ruby-plugin-2.11.0-SNAPSHOT/:na]  jvm 1    |  at org.sonatype.nexus.ruby.cuba.api.ApiCuba.on(ApiCuba.java:49) [nexus-ruby-plugin-2.11.0-SNAPSHOT/:na]  jvm 1    |  at org.sonatype.nexus.ruby.cuba.State.nested(State.java:61) [nexus-ruby-plugin-2.11.0-SNAPSHOT/:na]  jvm 1    |  at org.sonatype.nexus.ruby.cuba.RootCuba.on(RootCuba.java:66) [nexus-ruby-plugin-2.11.0-SNAPSHOT/:na]  jvm 1    |  at org.sonatype.nexus.ruby.cuba.State.nested(State.java:61) [nexus-ruby-plugin-2.11.0-SNAPSHOT/:na]  jvm 1    |  at org.sonatype.nexus.ruby.cuba.RubygemsFileSystem.visit(RubygemsFileSystem.java:84) [nexus-ruby-plugin-2.11.0-SNAPSHOT/:na]  jvm 1    |  at org.sonatype.nexus.ruby.cuba.RubygemsFileSystem.get(RubygemsFileSystem.java:60) [nexus-ruby-plugin-2.11.0-SNAPSHOT/:na]  jvm 1    |  at org.sonatype.nexus.plugins.ruby.NexusRubygemsFacade.get(NexusRubygemsFacade.java:60) [nexus-ruby-plugin-2.11.0-SNAPSHOT/:na]  jvm 1    |  at org.sonatype.nexus.plugins.ruby.proxy.DefaultProxyRubyRepository.retrieveItem(DefaultProxyRubyRepository.java:241) [nexus-ruby-plugin-2.11.0-SNAPSHOT/:na]  jvm 1    |  at org.sonatype.nexus.proxy.repository.AbstractGroupRepository.doRetrieveItems(AbstractGroupRepository.java:451) [nexus-core-2.11.0-SNAPSHOT.jar:2.11.0-SNAPSHOT]  jvm 1    |  at org.sonatype.nexus.plugins.ruby.group.GroupNexusStorage.retrieve(GroupNexusStorage.java:193) [nexus-ruby-plugin-2.11.0-SNAPSHOT/:na]  jvm 1    |  at org.sonatype.nexus.ruby.layout.ProxiedGETLayout.retrieveAll(ProxiedGETLayout.java:59) [nexus-ruby-plugin-2.11.0-SNAPSHOT/:na]  jvm 1    |  at org.sonatype.nexus.ruby.layout.GETLayout.bundlerApiFile(GETLayout.java:114) [nexus-ruby-plugin-2.11.0-SNAPSHOT/:na]  jvm 1    |  at org.sonatype.nexus.ruby.cuba.api.ApiV1DependenciesCuba.on(ApiV1DependenciesCuba.java:50) [nexus-ruby-plugin-2.11.0-SNAPSHOT/:na]  jvm 1    |  at org.sonatype.nexus.ruby.cuba.State.nested(State.java:55) [nexus-ruby-plugin-2.11.0-SNAPSHOT/:na]  jvm 1    |  at org.sonatype.nexus.ruby.cuba.api.ApiV1Cuba.on(ApiV1Cuba.java:46) [nexus-ruby-plugin-2.11.0-SNAPSHOT/:na]  jvm 1    |  at org.sonatype.nexus.ruby.cuba.State.nested(State.java:61) [nexus-ruby-plugin-2.11.0-SNAPSHOT/:na]  jvm 1    |  at org.sonatype.nexus.ruby.cuba.api.ApiCuba.on(ApiCuba.java:49) [nexus-ruby-plugin-2.11.0-SNAPSHOT/:na]  jvm 1    |  at org.sonatype.nexus.ruby.cuba.State.nested(State.java:61) [nexus-ruby-plugin-2.11.0-SNAPSHOT/:na]  jvm 1    |  at org.sonatype.nexus.ruby.cuba.RootCuba.on(RootCuba.java:66) [nexus-ruby-plugin-2.11.0-SNAPSHOT/:na]  jvm 1    |  at org.sonatype.nexus.ruby.cuba.State.nested(State.java:61) [nexus-ruby-plugin-2.11.0-SNAPSHOT/:na]  jvm 1    |  at org.sonatype.nexus.ruby.cuba.RubygemsFileSystem.visit(RubygemsFileSystem.java:84) [nexus-ruby-plugin-2.11.0-SNAPSHOT/:na]  jvm 1    |  at org.sonatype.nexus.ruby.cuba.RubygemsFileSystem.get(RubygemsFileSystem.java:60) [nexus-ruby-plugin-2.11.0-SNAPSHOT/:na]  jvm 1    |  at org.sonatype.nexus.plugins.ruby.NexusRubygemsFacade.get(NexusRubygemsFacade.java:60) [nexus-ruby-plugin-2.11.0-SNAPSHOT/:na]  jvm 1    |  at org.sonatype.nexus.plugins.ruby.group.DefaultRubyGroupRepository.retrieveItem(DefaultRubyGroupRepository.java:128) [nexus-ruby-plugin-2.11.0-SNAPSHOT/:na]  jvm 1    |  at org.sonatype.nexus.proxy.repository.AbstractRepository.retrieveItem(AbstractRepository.java:590) [nexus-core-2.11.0-SNAPSHOT.jar:2.11.0-SNAPSHOT]  jvm 1    |  at org.sonatype.nexus.proxy.router.DefaultRepositoryRouter.retrieveItem(DefaultRepositoryRouter.java:155) [nexus-core-2.11.0-SNAPSHOT.jar:2.11.0-SNAPSHOT]  jvm 1    |  at org.sonatype.nexus.content.internal.ContentServlet.doGet(ContentServlet.java:387) [nexus-content-plugin-2.11.0-SNAPSHOT/:na]  jvm 1    |  at org.sonatype.nexus.content.internal.ContentServlet.service(ContentServlet.java:353) [nexus-content-plugin-2.11.0-SNAPSHOT/:na]  jvm 1    |  at javax.servlet.http.HttpServlet.service(HttpServlet.java:848) [javax.servlet-3.0.0.v201112011016.jar:na]  jvm 1    |  at com.google.inject.servlet.ServletDefinition.doServiceImpl(ServletDefinition.java:288) [guice-servlet-3.1.10.jar:3.1.10]  jvm 1    |  at com.google.inject.servlet.ServletDefinition.doService(ServletDefinition.java:278) [guice-servlet-3.1.10.jar:3.1.10]  jvm 1    |  at com.google.inject.servlet.ServletDefinition.service(ServletDefinition.java:182) [guice-servlet-3.1.10.jar:3.1.10]  jvm 1    |  at com.google.inject.servlet.ManagedServletPipeline.service(ManagedServletPipeline.java:93) [guice-servlet-3.1.10.jar:3.1.10]  jvm 1    |  at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:85) [guice-servlet-3.1.10.jar:3.1.10]  jvm 1    |  at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:112) [shiro-web-1.2.3.jar:1.2.3]  jvm 1    |  at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:82) [guice-servlet-3.1.10.jar:3.1.10]  jvm 1    |  at com.google.inject.servlet.ManagedFilterPipeline.dispatch(ManagedFilterPipeline.java:120) [guice-servlet-3.1.10.jar:3.1.10]  jvm 1    |  at org.sonatype.nexus.web.internal.NexusGuiceFilter$MultiFilterChain.doFilter(NexusGuiceFilter.java:82) [nexus-core-2.11.0-SNAPSHOT.jar:2.11.0-SNAPSHOT]  jvm 1    |  at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:89) [guice-servlet-3.1.10.jar:3.1.10]  jvm 1    |  at com.google.inject.servlet.ManagedFilterPipeline.dispatch(ManagedFilterPipeline.java:120) [guice-servlet-3.1.10.jar:3.1.10]  jvm 1    |  at org.sonatype.nexus.web.internal.NexusGuiceFilter$MultiFilterChain.doFilter(NexusGuiceFilter.java:82) [nexus-core-2.11.0-SNAPSHOT.jar:2.11.0-SNAPSHOT]  jvm 1    |  at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:89) [guice-servlet-3.1.10.jar:3.1.10]  jvm 1    |  at com.google.inject.servlet.ManagedFilterPipeline.dispatch(ManagedFilterPipeline.java:120) [guice-servlet-3.1.10.jar:3.1.10]  jvm 1    |  at org.sonatype.nexus.web.internal.NexusGuiceFilter$MultiFilterChain.doFilter(NexusGuiceFilter.java:82) [nexus-core-2.11.0-SNAPSHOT.jar:2.11.0-SNAPSHOT]  jvm 1    |  at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:89) [guice-servlet-3.1.10.jar:3.1.10]  jvm 1    |  at org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilterChain.java:61) [shiro-web-1.2.3.jar:1.2.3]  jvm 1    |  at org.apache.shiro.web.servlet.AdviceFilter.executeChain(AdviceFilter.java:108) [shiro-web-1.2.3.jar:1.2.3]  jvm 1    |  at org.apache.shiro.web.servlet.AdviceFilter.doFilterInternal(AdviceFilter.java:137) [shiro-web-1.2.3.jar:1.2.3]  jvm 1    |  at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:125) [shiro-web-1.2.3.jar:1.2.3]  jvm 1    |  at org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilterChain.java:66) [shiro-web-1.2.3.jar:1.2.3]  jvm 1    |  at org.apache.shiro.web.servlet.AdviceFilter.executeChain(AdviceFilter.java:108) [shiro-web-1.2.3.jar:1.2.3]  jvm 1    |  at org.apache.shiro.web.servlet.AdviceFilter.doFilterInternal(AdviceFilter.java:137) [shiro-web-1.2.3.jar:1.2.3]  jvm 1    |  at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:125) [shiro-web-1.2.3.jar:1.2.3]  jvm 1    |  at org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilterChain.java:66) [shiro-web-1.2.3.jar:1.2.3]  jvm 1    |  at org.apache.shiro.web.servlet.AdviceFilter.executeChain(AdviceFilter.java:108) [shiro-web-1.2.3.jar:1.2.3]  jvm 1    |  at org.apache.shiro.web.servlet.AdviceFilter.doFilterInternal(AdviceFilter.java:137) [shiro-web-1.2.3.jar:1.2.3]  jvm 1    |  at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:125) [shiro-web-1.2.3.jar:1.2.3]  jvm 1    |  at org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilterChain.java:66) [shiro-web-1.2.3.jar:1.2.3]  jvm 1    |  at org.apache.shiro.web.servlet.AbstractShiroFilter.executeChain(AbstractShiroFilter.java:449) [shiro-web-1.2.3.jar:1.2.3]  jvm 1    |  at org.sonatype.nexus.web.internal.SecurityFilter.executeChain(SecurityFilter.java:73) [nexus-core-2.11.0-SNAPSHOT.jar:2.11.0-SNAPSHOT]  jvm 1    |  at org.apache.shiro.web.servlet.AbstractShiroFilter$1.call(AbstractShiroFilter.java:365) [shiro-web-1.2.3.jar:1.2.3]  jvm 1    |  at org.apache.shiro.subject.support.SubjectCallable.doCall(SubjectCallable.java:90) [shiro-core-1.2.3.jar:1.2.3]  jvm 1    |  at org.apache.shiro.subject.support.SubjectCallable.call(SubjectCallable.java:83) [shiro-core-1.2.3.jar:1.2.3]  jvm 1    |  at org.apache.shiro.subject.support.DelegatingSubject.execute(DelegatingSubject.java:383) [shiro-core-1.2.3.jar:1.2.3]  jvm 1    |  at org.apache.shiro.web.servlet.AbstractShiroFilter.doFilterInternal(AbstractShiroFilter.java:362) [shiro-web-1.2.3.jar:1.2.3]  jvm 1    |  at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:125) [shiro-web-1.2.3.jar:1.2.3]  jvm 1    |  at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:82) [guice-servlet-3.1.10.jar:3.1.10]  jvm 1    |  at com.google.inject.servlet.ManagedFilterPipeline.dispatch(ManagedFilterPipeline.java:120) [guice-servlet-3.1.10.jar:3.1.10]  jvm 1    |  at org.sonatype.nexus.web.internal.NexusGuiceFilter$MultiFilterChain.doFilter(NexusGuiceFilter.java:82) [nexus-core-2.11.0-SNAPSHOT.jar:2.11.0-SNAPSHOT]  jvm 1    |  at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:89) [guice-servlet-3.1.10.jar:3.1.10]  jvm 1    |  at com.sonatype.nexus.licensing.internal.LicensingRedirectFilter.doFilter(LicensingRedirectFilter.java:135) [nexus-licensing-plugin-2.11.0-SNAPSHOT/:na]  jvm 1    |  at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:82) [guice-servlet-3.1.10.jar:3.1.10]  jvm 1    |  at com.google.inject.servlet.ManagedFilterPipeline.dispatch(ManagedFilterPipeline.java:120) [guice-servlet-3.1.10.jar:3.1.10]  jvm 1    |  at org.sonatype.nexus.web.internal.NexusGuiceFilter$MultiFilterChain.doFilter(NexusGuiceFilter.java:82) [nexus-core-2.11.0-SNAPSHOT.jar:2.11.0-SNAPSHOT]  jvm 1    |  at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:89) [guice-servlet-3.1.10.jar:3.1.10]  jvm 1    |  at com.yammer.metrics.web.WebappMetricsFilter.doFilter(WebappMetricsFilter.java:76) [metrics-web-2.2.0.jar:na]  jvm 1    |  at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:82) [guice-servlet-3.1.10.jar:3.1.10]  jvm 1    |  at org.sonatype.nexus.web.internal.CommonHeadersFilter.doFilter(CommonHeadersFilter.java:69) [nexus-core-2.11.0-SNAPSHOT.jar:2.11.0-SNAPSHOT]  jvm 1    |  at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:82) [guice-servlet-3.1.10.jar:3.1.10]  jvm 1    |  at org.sonatype.nexus.web.internal.ErrorPageFilter.doFilter(ErrorPageFilter.java:71) [nexus-core-2.11.0-SNAPSHOT.jar:2.11.0-SNAPSHOT]  jvm 1    |  at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:82) [guice-servlet-3.1.10.jar:3.1.10]  jvm 1    |  at org.sonatype.nexus.web.internal.BaseUrlHolderFilter.doFilter(BaseUrlHolderFilter.java:70) [nexus-core-2.11.0-SNAPSHOT.jar:2.11.0-SNAPSHOT]  jvm 1    |  at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:82) [guice-servlet-3.1.10.jar:3.1.10]  jvm 1    |  at com.google.inject.servlet.ManagedFilterPipeline.dispatch(ManagedFilterPipeline.java:120) [guice-servlet-3.1.10.jar:3.1.10]  jvm 1    |  at org.sonatype.nexus.web.internal.NexusGuiceFilter$MultiFilterChain.doFilter(NexusGuiceFilter.java:82) [nexus-core-2.11.0-SNAPSHOT.jar:2.11.0-SNAPSHOT]  jvm 1    |  at org.sonatype.nexus.web.internal.NexusGuiceFilter$MultiFilterPipeline.dispatch(NexusGuiceFilter.java:56) [nexus-core-2.11.0-SNAPSHOT.jar:2.11.0-SNAPSHOT]  jvm 1    |  at com.google.inject.servlet.GuiceFilter$1.call(GuiceFilter.java:132) [guice-servlet-3.1.10.jar:3.1.10]  jvm 1    |  at com.google.inject.servlet.GuiceFilter$1.call(GuiceFilter.java:129) [guice-servlet-3.1.10.jar:3.1.10]  jvm 1    |  at com.google.inject.servlet.GuiceFilter$Context.call(GuiceFilter.java:206) [guice-servlet-3.1.10.jar:3.1.10]  jvm 1    |  at com.google.inject.servlet.GuiceFilter.doFilter(GuiceFilter.java:129) [guice-servlet-3.1.10.jar:3.1.10]  jvm 1    |  at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1419) [jetty-servlet-8.1.11.v20130520.jar:8.1.11.v20130520]  jvm 1    |  at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:455) [jetty-servlet-8.1.11.v20130520.jar:8.1.11.v20130520]  jvm 1    |  at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:137) [jetty-server-8.1.11.v20130520.jar:8.1.11.v20130520]  jvm 1    |  at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:557) [jetty-security-8.1.11.v20130520.jar:8.1.11.v20130520]  jvm 1    |  at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:231) [jetty-server-8.1.11.v20130520.jar:8.1.11.v20130520]  jvm 1    |  at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1075) [jetty-server-8.1.11.v20130520.jar:8.1.11.v20130520]  jvm 1    |  at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:384) [jetty-servlet-8.1.11.v20130520.jar:8.1.11.v20130520]  jvm 1    |  at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:193) [jetty-server-8.1.11.v20130520.jar:8.1.11.v20130520]  jvm 1    |  at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1009) [jetty-server-8.1.11.v20130520.jar:8.1.11.v20130520]  jvm 1    |  at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:135) [jetty-server-8.1.11.v20130520.jar:8.1.11.v20130520]  jvm 1    |  at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:116) [jetty-server-8.1.11.v20130520.jar:8.1.11.v20130520]  jvm 1    |  at com.yammer.metrics.jetty.InstrumentedHandler.handle(InstrumentedHandler.java:200) [metrics-jetty-2.2.0.jar:na]  jvm 1    |  at org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:154) [jetty-server-8.1.11.v20130520.jar:8.1.11.v20130520]  jvm 1    |  at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:116) [jetty-server-8.1.11.v20130520.jar:8.1.11.v20130520]  jvm 1    |  at org.eclipse.jetty.server.Server.handle(Server.java:370) [jetty-server-8.1.11.v20130520.jar:8.1.11.v20130520]  jvm 1    |  at org.eclipse.jetty.server.AbstractHttpConnection.handleRequest(AbstractHttpConnection.java:489) [jetty-server-8.1.11.v20130520.jar:8.1.11.v20130520]  jvm 1    |  at org.eclipse.jetty.server.AbstractHttpConnection.headerComplete(AbstractHttpConnection.java:949) [jetty-server-8.1.11.v20130520.jar:8.1.11.v20130520]  jvm 1    |  at org.eclipse.jetty.server.AbstractHttpConnection$RequestHandler.headerComplete(AbstractHttpConnection.java:1011) [jetty-server-8.1.11.v20130520.jar:8.1.11.v20130520]  jvm 1    |  at org.eclipse.jetty.http.HttpParser.parseNext(HttpParser.java:644) [jetty-http-8.1.11.v20130520.jar:8.1.11.v20130520]  jvm 1    |  at org.eclipse.jetty.http.HttpParser.parseAvailable(HttpParser.java:235) [jetty-http-8.1.11.v20130520.jar:8.1.11.v20130520]  jvm 1    |  at org.eclipse.jetty.server.AsyncHttpConnection.handle(AsyncHttpConnection.java:82) [jetty-server-8.1.11.v20130520.jar:8.1.11.v20130520]  jvm 1    |  at org.eclipse.jetty.io.nio.SelectChannelEndPoint.handle(SelectChannelEndPoint.java:668) [jetty-io-8.1.11.v20130520.jar:8.1.11.v20130520]  jvm 1    |  at org.eclipse.jetty.io.nio.SelectChannelEndPoint$1.run(SelectChannelEndPoint.java:52) [jetty-io-8.1.11.v20130520.jar:8.1.11.v20130520]  jvm 1    |  at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:608) [jetty-util-8.1.11.v20130520.jar:8.1.11.v20130520]  jvm 1    |  at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:543) [jetty-util-8.1.11.v20130520.jar:8.1.11.v20130520]  jvm 1    |  at java.lang.Thread.run(Thread.java:745) [na:1.7.0_71]  jvm 1    | 2014-10-28 14:23:08,834+0100 WARN  [qtp1187179057-83] anonymous org.sonatype.nexus.content.internal.ContentServlet - org.eclipse.jetty.io.EofException, caused by: java.io.IOException: Broken pipe [client=127.0.0.1,ua=Ruby, RubyGems/2.1.9 universal-java-1.7 Ruby/1.9.3 (2014-09-25 patchlevel 392) jruby,req=GET http://localhost:8081/nexus/content/repositories/rubygems-group/gems/jruby-jars-1.7.16.gem]  """
"NEXUS-7646","Bug","Support Tools",1,"CLM server password is not removed from support tool zip configuration","""The clm server password is not removed from the capabilities.xml file in a generated support zip:    {code:XML}      <capability>        <version>1</version>        <id>149589872f8674</id>        <typeId>clm</typeId>        <properties>          <property>            <key>username</key>            <value>nexus</value>          </property>          <property>            <key>properties</key>            <value></value>          </property>          <property>            <key>password</key>            <value>{ytt7g/xp2PUHBzzEd+hCgEjDcBtg/VJvBy0ODZD5AAA=}</value>          </property>          <property>            <key>url</key>            <value>http://localhost:8070</value>          </property>        </properties>      </capability>  {code}"""
"NEXUS-7650","Technical Debt","Repository",1,"Upgrade to Apache Tika 1.7 for better mime detection","""As proper fix for issue NEXUS-7603 is implemented in it, see  https://issues.apache.org/jira/browse/TIKA-1461    Current circumvention is bad, as proper fix requires mime XML database changes (not doable via custom-mimetypes), so we could only do a """"patch release"""" to properly fix it. Once 1.7 is out, we should integrate it,"""
"NEXUS-7652","Bug","SSL",0.5,"SSL certificates added using load from server option only use direct socket connection","""Configure Nexus to use proxy server which can write it's own SSL certificate in place of the actual remote certificate. ( ie. Charles proxy ). For example, configure it to SSL proxy https://nvd.nist.gov    In Nexus, Go to SSL Certificates and click Add... Load From Server...  Enter nvd.nist.gov and click Load Certificate button.  Nexus UI sends a request similar to:    bq. 'http://localhost:8081/nexus/service/siesta/ssl/certificates?_dc=1415038245066&host=nvd.nist.gov&port=443'    Nexus certificates resource tries to make a direct socket connection to the remote instead of https connection. This is by design.    Now enter https://nvd.nist.gov and click Load Certificate button. Nexus *still* tries to make a direct socket connection.    Notice the url sent to Nexus backend is still:    bq. 'http://localhost:8081/nexus/service/siesta/ssl/certificates?_dc=1415038245066&host=nvd.nist.gov&port=443'    It seems to be missing the 'protocolHint' parameter.    https://github.com/sonatype/nexus-pro/blob/nexus-2.10.x/plugins/security/nexus-ssl-plugin/src/main/java/com/sonatype/nexus/ssl/plugin/internal/rest/CertificatesResource.java#L91-91    Nexus 2.8.0 does the same thing.    The problem this creates is it is very common proxy servers overwrite remote certs. Without using https instead of direct socket, it is easy to trust the wrong cert. or not be able to trust the correct cert unless you manually get the pem file externally and upload it.    Expected: When http or https is specified, the internal http client with correct proxy settings should be used to get the remote cert and present that to the end user.    """
"NEXUS-7653","Bug","OSGI",1,"Karaf status and stop commands depend on the shutdown port","""We either need to re-enable the random shutdown port (but disable it for any tests, as it causes issues wrt. port allocation) or preferably enhance the status and stop commands to work with a PID file like in Nx2."""
"NEXUS-7659","Improvement","Transport",2,"disable SSLv3 for outbound requests by default","""bq. Oracle recommends that users and developers disable use of the SSLv3 protocol.     http://www.oracle.com/technetwork/java/javase/documentation/cve-2014-3566-2342133.html    Referenced from release notes:    http://www.oracle.com/technetwork/java/javase/7u71-relnotes-2296187.html  http://www.oracle.com/technetwork/java/javase/8u25-relnotes-2296185.html    At the bottom of the article is a suggested approach in code to use to disable SSLv3 explicitly by default. Nexus should do this as well by default for outbound requests.    Only apply this default exclusion in case where https.protocols system property is not set. ( per NEXUS-7594 )  """
"NEXUS-7675","Task","UI",1,"Convert the metrics frames to the light panel treatment","""Current treatment:    !Screen Shot 2014-11-11 at 2.01.16 PM.png|thumbnail!    Light panels (for reference):    !Screen Shot 2014-11-11 at 2.02.53 PM.png|thumbnail!"""
"NEXUS-7699","Bug","NuGet",3,"downloading specific versions of NuGet packages via Visual Studio package manager console fails","""Download of older versions of NuGet packages using the Visual studio NuGet package manager console doesn't work unless the packages are already cached in Nexus.    {quote}  PM> Install-Package -Id Google.ProtocolBuffers -Version 2.3.0.277  Install-Package : Unable to find version '2.3.0.277' of package 'Google.ProtocolBuffers'.  At line:1 char:16  + Install-Package <<<<  -Id Google.ProtocolBuffers -Version 2.3.0.277      + CategoryInfo          : NotSpecified: (:) [Install-Package], InvalidOperationException      + FullyQualifiedErrorId : NuGetCmdletUnhandledException,NuGet.PowerShell.Commands.InstallPackageCommand   {quote}    This fails.  But then download it directly into Nexus via GET request:    {quote}  curl http://localhost:8081/nexus/service/local/nuget/nugroup/Google.ProtocolBuffers/2.3.0.277 > /dev/null  {quote}    After this the download from PM works:    {quote}  PM> Install-Package -Id Google.ProtocolBuffers -Version 2.3.0.277  Installing 'Google.ProtocolBuffers 2.3.0.277'.  Successfully installed 'Google.ProtocolBuffers 2.3.0.277'.  Adding 'Google.ProtocolBuffers 2.3.0.277' to SonatypeNexusCSharp.  Successfully added 'Google.ProtocolBuffers 2.3.0.277' to SonatypeNexusCSharp.  {quote}    The query which fails (and then succeeds) is:    {quote}  http://localhost:8081/nexus/service/local/nuget/nugroup/Packages%28Id=%27Google.ProtocolBuffers%27,Version=%272.3.0.277%27%29  {quote}        """
"NEXUS-7696","Bug","Security",0.5,"""Logs (read)"" privilege doesn't give access to /service/siesta/logging/log","""The """"Logs (read)"""" privilege maps to the """"nexus:logs"""" privilege.  But access to """"/service/siesta/logging/log"""" requires """"nexus:log"""".    This means that granting access to """"logs (read)"""" doesn't let a user see the log in the UI."""
"NEXUS-7693","Bug","NuGet",0.5,"Inconsistency in handling of repository targets for NuGet","""If you send a delete request to a NuGet repository the path used to resolve the repository target permissions does not include the leading """"/"""".  This is inconsistent with other repositories in Nexus.    For instance, this command:    {quote}  NuGet.exe delete SonatypeNexusCSharp 1.0.0 -ApiKey 3fa626ae-e597-3840-96fe-caa35a7f7bed -Source http://192.168.1.50:8081/nexus/service/local/nuget/nnn  {quote}    Results in a path of """"SonatypeNexusCSharp/1.0.0"""" being used:    {quote}  2014-11-12 09:33:43 DEBUG [qtp327533081-125] rich org.sonatype.nexus.proxy.targets.DefaultTargetRegistry - Resolving targets for repository='nugroup' for path='SonatypeNexusCSharp/1.0.0'  {quote}    This means a standard target of """"/SonatypeNexusCSharp/.*"""" used in a repository target permission will not match.    If you try the same delete through the UI the request will go through """"/service/local/repositories/<repo-id>/content"""", and the target starting with """"/"""" will work.    *Workaround*    Change the regular expression in the target to indicate the leading """"/"""" is optional.  For example:               """
"NEXUS-7714","Improvement","UI",3,"make multi-valued cache choices explicit","""Instead of numeric spinners for cache TTL and max ages, these should be drop down single select options.    Possible values for Artifact Max Age are currently -1 / 0 / n where n is some number of minutes.    This is represented on the UI with a number spinner.    Instead a single drop down list that said something like:    Infinite  Finite  Never    When Finite is select, provide a text input or spinner that lets them input a positive integer only.    The numeric spinners can also change values unknowingly when you are using a mouse wheel to scroll the settings page before saving. This can result in the wrong values being used.    The meaning of -1 is too cryptic - use words for humans.  """
"NEXUS-7713","Bug","Proxy Repository",1,"Not Found Cache TTL set to any negative value caches not found artifacts for 2 minutes","""Set Not Found Cache TTL to 0 - this caches not found request infinitely    Set not Found Cache TTL to -1 - this caches NFC for 2 minutes.    Expected: Anecdotally -1 has been used in the past to disable the not found cache for a repo.    Has something changed?    """
"NEXUS-7732","Bug","NuGet",2,"Expiring item cache in Nuget proxy repositories causes them to auto-block frequently","""The default item max age in NuGet proxy repositories is set to 1440 minutes (I'm not sure why, artifacts should be immutable).    When it expires for a a path Nexus issues a request to the remote to check for updates.  Unfortunately, it uses the full path of the artifact, e.g.:     http://localhost:8081/nexus/service/local/nuget/nuget-repo/Extended.Wpf.Toolkit/2.2.0/Extended.Wpf.Toolkit-2.2.0.nupkg    This doesn't work for NuGet feeds, it results in a 400 response.  This 400 response causes the repository to auto-block.    Note that the initial download of an artifact doesn't do this (even if the full path is requested through the proxies /content URL), it uses the right path for NuGet:    http://localhost:8081/nexus/service/local/nuget/nuget-repo/Extended.Wpf.Toolkit/2.2.0/        """
"NEXUS-7731","Bug","Analytics",3,"limit size of analytics event zip files at creation and submission","""Large event-zip files can cause timeouts resulting in error recovery kicking in and resulting in the event-zip getting stuck and resending over and over."""
"NEXUS-7730","Improvement","UI",0.5,"Adjust header size of message notification windows","""Should be smaller height and font size, these are not as important as modal dialogs but presently the sizes are the same."""
"NEXUS-7729","Improvement","UI",0.5,"Paging toolbar looks disabled when its not disabled","""Should probably adjust to use darker style like used for button glyphs."""
"NEXUS-7726","Improvement","UI",3,"Search criteria field layout won't scale has issues with textbox size","""The design of the search criteria fields should be improve so this can scale better.  ATM these will push off the screen if more are added.  Also some fields are simply too small for realistic user input we'd expect."""
"NEXUS-7725","Improvement","UI",1,"Change password dialog is too wide","""This has someting to do with re-using settingsforms bits which have this preset width.    Acceptance Criteria:  - Bring Change Password Dialog into being a consistent width with Login Dialog"""
"NEXUS-7724","Improvement","Rapture",3,"Artifact upload layout/style refinements","""The upload views are bulky and do not scale well when adding more file types.    Should refine this design and consider options to make this work better over all."""
"NEXUS-7739","Improvement","Analytics",1,"capture generation time in analytics event-zip header.json as reference","""Think we should add a 'created' attribute in the header (or a format property) to be used as a hint as when the file was generated."""
"NEXUS-7752","Improvement","RubyGems",0.5,"Enable browse storage for ruby gems repositories","""I've checked all issues filed against ruby in both the github project, jira, and support tickets.  I found no problems reported with the browse storage tab.    I don't see any reason for us to have disabled it, it seems like its been working well enough for most people for years now.  If there were widespread issues we would likely have heard of them.    """
"NEXUS-7767","Bug","RubyGems|Smart Proxy",0.5,"Gems repositories show Smart Proxy tab","""The proxy and hosted Gem repositories show the Smart Proxy tab even though there is no related functionality.    Found in 2.11.0-01"""
"NEXUS-7765","Bug","Security",3,"RUT Auth Realm does not authenticate in Nexus 3","""Add Rut Auth to the top of the active realms list in Nexus 3, above both XML realms.  Add the RUT Auth capability with the header value of username.  Send the following request:        Note the """"User is not permitted"""" message.    Debug Logs from this request show RUT auth is not even consulted:      """
"NEXUS-7774","Bug","OBR",0,"deadlock trying to read .meta/obr.xml after running task to merge metadata","""It is possible more than one thread can attempt to merge obr group metadata at the same time.    This causes a virtual deadlock situation and prevents other threads trying to read the metadata.    Example thread stacks that can be seen on dumps when in this situation:        ----    Example blocked thread:        ----    Competing threads:            Waiting threads:    """
"NEXUS-7772","Story","Database",5,"Remove legacy Staging modello configuration","""Staging has already been moved to orient db but old modello based config classes are still in place and used to upgrade from staging.xml.    Lets remove the modello classes and take care of upgrade during NX2->NX3 migration.    Note: Removing modello will mean that quite a bunch of staging legacy ITs will have to be rewritten as they are copying over a staging.xml"""
"NEXUS-7771","Story","Database",2,"Remove legacy PGP modello configuration","""PGP configuration has already been moved to a capability but old modello based config classes are still in place and used to upgrade from pgp.xml.    Lets remove the modello classes and take care of upgrade during NX2->NX3 migration    Note: Removing modello will mean that a bunch of staging/pgp legacy ITs will have to be rewritten as they are copying over a pgp.xml"""
"NEXUS-7770","Story","Database",0.5,"Remove legacy Crowd modello configuration","""Crowd configuration has already been moved to a capability but old modello based config classes are still in place and used to upgrade from crowd-plugin.xml.    Lets remove the modello classes and take care of upgrade during NX2->NX3 migration"""
"NEXUS-7769","Story","Database",1,"Replace LDAP configuration","""Replace modello based LDAP configuration with orient db    Acceptance Criteria:  - Make LDAP plugin stop use Modello (and have dropped use of it alltogether), and have it tied into """"config"""" OrientDB instance. (/)  - Module tests related changes as needed (as many of those """"stuff"""" ldap.xml under tests), true for nexus-ldap-plugin module UTs as for nexus-ldap-plugin module ITs (/)  - Remove use of Plexus from module UTs and ITs (as current tests were unmaintable, this was a desperate step of mine -- cstamas) (/)  - Update nexus-ldap-testsupport, remove Plexus (as use of the ldap testsupport module implied use of Plexus in dependant module, which is unwanted) (/)  - Introduce nexus-ldap-client (needed to be able to manipulate LDAP configuration from """"real"""" ITs, as copying ldap.xml does not work anymore) (/)  - Update OSS legacy and modern ITs as needed (replace copied ldap.xml's with LDAP Rest Client use) (/)  - Update Pro legacy and modern ITs as needed (replace copied ldap.xml's with LDAP Rest Client use) (/)"""
"NEXUS-7768","Story","Database",1,"Replace Kenai configuration","""Replace modello based Kenai configuration with a capability"""
"NEXUS-7779","Bug","Staging",0.5,"NullPointerException in pom validator staging rule","""The updates to the POM validation rule are lacking some sanity checks for nulls.    {quote}  2014-12-01 10:53:47,412-0600 INFO  [qtp1153766106-75721] jorlina com.sonatype.nexus.staging.internal.DefaultStagingManager - Closing staging repositories [comgithubthe-alchemist-1001]  2014-12-01 10:53:47,916-0600 INFO  [pxpool-1-thread-16] jorlina com.sonatype.nexus.staging.internal.task.StagingBackgroundTask - STARTED Closing staging repositories: [comgithubthe-alchemist-1001]  2014-12-01 10:53:48,166-0600 INFO  [pxpool-1-thread-16] jorlina org.sonatype.nexus.configuration.ModelUtils - Saving model /data/nexus/sonatype-work/nexus/conf/staging.xml  2014-12-01 10:53:48,614-0600 INFO  [pxpool-1-thread-16] jorlina org.sonatype.nexus.configuration.ModelUtils - Saving model /data/nexus/sonatype-work/nexus/conf/staging.xml  2014-12-01 10:53:48,997-0600 INFO  [pxpool-1-thread-16] jorlina org.sonatype.nexus.configuration.ModelUtils - Saving model /data/nexus/sonatype-work/nexus/conf/staging.xml  2014-12-01 10:53:49,438-0600 WARN  [pxpool-1-thread-16] jorlina org.sonatype.nexus.proxy.walker.DefaultWalker - Aborted walking on repository """"comgithubthe-alchemist-1001 (staging: open)"""" [id=comgithubthe-alchemist-1001] from path """"/"""", cause: null  java.lang.NullPointerException: null  at com.sonatype.nexus.staging.internal.rules.POMStagingRuleEvaluator$POMStagingRuleWalkerProcessor.validateDependency(POMStagingRuleEvaluator.java:140) ~[nexus-staging-plugin-2.11.0-01/:na]  at com.sonatype.nexus.staging.internal.rules.POMStagingRuleEvaluator$POMStagingRuleWalkerProcessor.validateDependencies(POMStagingRuleEvaluator.java:123) ~[nexus-staging-plugin-2.11.0-01/:na]  at com.sonatype.nexus.staging.internal.rules.POMStagingRuleEvaluator$POMStagingRuleWalkerProcessor.validatePOM(POMStagingRuleEvaluator.java:95) ~[nexus-staging-plugin-2.11.0-01/:na]  at com.sonatype.nexus.staging.internal.rules.POMStagingRuleEvaluator$POMStagingRuleWalkerProcessor.processFileItem(POMStagingRuleEvaluator.java:64) ~[nexus-staging-plugin-2.11.0-01/:na]  at org.sonatype.nexus.proxy.walker.AbstractFileWalkerProcessor.processItem(AbstractFileWalkerProcessor.java:26) ~[nexus-core-2.11.0-01.jar:2.11.0-01]  at org.sonatype.nexus.proxy.walker.DefaultWalker.processItem(DefaultWalker.java:292) ~[nexus-core-2.11.0-01.jar:2.11.0-01]  at org.sonatype.nexus.proxy.walker.DefaultWalker.walkItem(DefaultWalker.java:244) ~[nexus-core-2.11.0-01.jar:2.11.0-01]  at org.sonatype.nexus.proxy.walker.DefaultWalker.walkRecursive(DefaultWalker.java:200) ~[nexus-core-2.11.0-01.jar:2.11.0-01]  at org.sonatype.nexus.proxy.walker.DefaultWalker.walkRecursive(DefaultWalker.java:209) ~[nexus-core-2.11.0-01.jar:2.11.0-01]  at org.sonatype.nexus.proxy.walker.DefaultWalker.walkRecursive(DefaultWalker.java:209) ~[nexus-core-2.11.0-01.jar:2.11.0-01]  at org.sonatype.nexus.proxy.walker.DefaultWalker.walkRecursive(DefaultWalker.java:209) ~[nexus-core-2.11.0-01.jar:2.11.0-01]  at org.sonatype.nexus.proxy.walker.DefaultWalker.walkRecursive(DefaultWalker.java:209) ~[nexus-core-2.11.0-01.jar:2.11.0-01]  at org.sonatype.nexus.proxy.walker.DefaultWalker.walkRecursive(DefaultWalker.java:209) ~[nexus-core-2.11.0-01.jar:2.11.0-01]  at org.sonatype.nexus.proxy.walker.DefaultWalker.walk(DefaultWalker.java:89) ~[nexus-core-2.11.0-01.jar:2.11.0-01]  at com.sonatype.nexus.staging.rule.AbstractStagingRuleEvaluator.evaluate(AbstractStagingRuleEvaluator.java:46) [nexus-staging-plugin-2.11.0-01/:na]  at com.sonatype.nexus.staging.rule.StagingRule.evaluate(StagingRule.java:63) [nexus-staging-plugin-2.11.0-01/:na]  at com.sonatype.nexus.staging.internal.StagingRulesHelper.evaluateRules(StagingRulesHelper.java:271) [nexus-staging-plugin-2.11.0-01/:na]  at com.sonatype.nexus.staging.internal.StagingRulesHelper.evaluateRuleSet(StagingRulesHelper.java:238) [nexus-staging-plugin-2.11.0-01/:na]  at com.sonatype.nexus.staging.internal.StagingRulesHelper.evaluateProfileRuleSets(StagingRulesHelper.java:131) [nexus-staging-plugin-2.11.0-01/:na]  at com.sonatype.nexus.staging.internal.StagingRulesHelper.evaluate(StagingRulesHelper.java:102) [nexus-staging-plugin-2.11.0-01/:na]  at com.sonatype.nexus.staging.internal.task.RepositoryCloseTask$CloseOperation.verifyItem(RepositoryCloseTask.java:89) [nexus-staging-plugin-2.11.0-01/:na]  at com.sonatype.nexus.staging.internal.task.RepositoryCloseTask$CloseOperation.verifyItem(RepositoryCloseTask.java:1) [nexus-staging-plugin-2.11.0-01/:na]  at com.sonatype.nexus.staging.internal.task.OperationTaskSupport$OperationSupport.verify(OperationTaskSupport.java:294) [nexus-staging-plugin-2.11.0-01/:na]  at com.sonatype.nexus.staging.internal.task.OperationTaskSupport.executeOperations(OperationTaskSupport.java:425) [nexus-staging-plugin-2.11.0-01/:na]  at com.sonatype.nexus.staging.internal.task.OperationTaskSupport.doCall(OperationTaskSupport.java:415) [nexus-staging-plugin-2.11.0-01/:na]  at com.sonatype.nexus.staging.internal.task.TaskSupport.call(TaskSupport.java:37) [nexus-staging-plugin-2.11.0-01/:na]  at com.sonatype.nexus.staging.internal.task.StagingTaskSupport.call(StagingTaskSupport.java:133) [nexus-staging-plugin-2.11.0-01/:na]  at com.sonatype.nexus.staging.internal.task.StagingBackgroundTask.execute(StagingBackgroundTask.java:67) [nexus-staging-plugin-2.11.0-01/:na]  at com.sonatype.nexus.staging.internal.task.NexusTaskSupport.doRun(NexusTaskSupport.java:52) [nexus-staging-plugin-2.11.0-01/:na]  at com.sonatype.nexus.staging.internal.task.NexusTaskSupport.doRun(NexusTaskSupport.java:1) [nexus-staging-plugin-2.11.0-01/:na]  at org.sonatype.nexus.scheduling.AbstractNexusTask.call(AbstractNexusTask.java:151) [nexus-core-2.11.0-01.jar:2.11.0-01]  at org.sonatype.scheduling.DefaultScheduledTask.call(DefaultScheduledTask.java:418) [nexus-scheduler-2.11.0-01.jar:2.11.0-01]  at org.sonatype.nexus.threads.MDCAwareCallable.call(MDCAwareCallable.java:44) [nexus-core-2.11.0-01.jar:2.11.0-01]  at org.apache.shiro.subject.support.SubjectCallable.doCall(SubjectCallable.java:90) [shiro-core-1.2.3.jar:1.2.3]  at org.apache.shiro.subject.support.SubjectCallable.call(SubjectCallable.java:83) [shiro-core-1.2.3.jar:1.2.3]  at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:334) [na:1.7.0_21]  at java.util.concurrent.FutureTask.run(FutureTask.java:166) [na:1.7.0_21]  at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:178) [na:1.7.0_21]  at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:292) [na:1.7.0_21]  at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [na:1.7.0_21]  at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [na:1.7.0_21]  at java.lang.Thread.run(Thread.java:722) [na:1.7.0_21]  2014-12-01 10:53:49,439-0600 WARN  [pxpool-1-thread-16] jorlina com.sonatype.nexus.staging.internal.StagingRulesHelper - Rule 'pom-staging' evaluation unexpectedly failed  org.sonatype.nexus.proxy.walker.WalkerException: Aborted walking on repository ID='comgithubthe-alchemist-1001' from path='/'.  at org.sonatype.nexus.proxy.walker.DefaultWalker.reportWalkEnd(DefaultWalker.java:152) ~[nexus-core-2.11.0-01.jar:2.11.0-01]  at org.sonatype.nexus.proxy.walker.DefaultWalker.walk(DefaultWalker.java:118) ~[nexus-core-2.11.0-01.jar:2.11.0-01]  at com.sonatype.nexus.staging.rule.AbstractStagingRuleEvaluator.evaluate(AbstractStagingRuleEvaluator.java:46) ~[nexus-staging-plugin-2.11.0-01/:na]  at com.sonatype.nexus.staging.rule.StagingRule.evaluate(StagingRule.java:63) ~[nexus-staging-plugin-2.11.0-01/:na]  at com.sonatype.nexus.staging.internal.StagingRulesHelper.evaluateRules(StagingRulesHelper.java:271) [nexus-staging-plugin-2.11.0-01/:na]  at com.sonatype.nexus.staging.internal.StagingRulesHelper.evaluateRuleSet(StagingRulesHelper.java:238) [nexus-staging-plugin-2.11.0-01/:na]  at com.sonatype.nexus.staging.internal.StagingRulesHelper.evaluateProfileRuleSets(StagingRulesHelper.java:131) [nexus-staging-plugin-2.11.0-01/:na]  at com.sonatype.nexus.staging.internal.StagingRulesHelper.evaluate(StagingRulesHelper.java:102) [nexus-staging-plugin-2.11.0-01/:na]  at com.sonatype.nexus.staging.internal.task.RepositoryCloseTask$CloseOperation.verifyItem(RepositoryCloseTask.java:89) [nexus-staging-plugin-2.11.0-01/:na]  at com.sonatype.nexus.staging.internal.task.RepositoryCloseTask$CloseOperation.verifyItem(RepositoryCloseTask.java:1) [nexus-staging-plugin-2.11.0-01/:na]  at com.sonatype.nexus.staging.internal.task.OperationTaskSupport$OperationSupport.verify(OperationTaskSupport.java:294) [nexus-staging-plugin-2.11.0-01/:na]  at com.sonatype.nexus.staging.internal.task.OperationTaskSupport.executeOperations(OperationTaskSupport.java:425) [nexus-staging-plugin-2.11.0-01/:na]  at com.sonatype.nexus.staging.internal.task.OperationTaskSupport.doCall(OperationTaskSupport.java:415) [nexus-staging-plugin-2.11.0-01/:na]  at com.sonatype.nexus.staging.internal.task.TaskSupport.call(TaskSupport.java:37) [nexus-staging-plugin-2.11.0-01/:na]  at com.sonatype.nexus.staging.internal.task.StagingTaskSupport.call(StagingTaskSupport.java:133) [nexus-staging-plugin-2.11.0-01/:na]  at com.sonatype.nexus.staging.internal.task.StagingBackgroundTask.execute(StagingBackgroundTask.java:67) [nexus-staging-plugin-2.11.0-01/:na]  at com.sonatype.nexus.staging.internal.task.NexusTaskSupport.doRun(NexusTaskSupport.java:52) [nexus-staging-plugin-2.11.0-01/:na]  at com.sonatype.nexus.staging.internal.task.NexusTaskSupport.doRun(NexusTaskSupport.java:1) [nexus-staging-plugin-2.11.0-01/:na]  at org.sonatype.nexus.scheduling.AbstractNexusTask.call(AbstractNexusTask.java:151) [nexus-core-2.11.0-01.jar:2.11.0-01]  at org.sonatype.scheduling.DefaultScheduledTask.call(DefaultScheduledTask.java:418) [nexus-scheduler-2.11.0-01.jar:2.11.0-01]  at org.sonatype.nexus.threads.MDCAwareCallable.call(MDCAwareCallable.java:44) [nexus-core-2.11.0-01.jar:2.11.0-01]  at org.apache.shiro.subject.support.SubjectCallable.doCall(SubjectCallable.java:90) [shiro-core-1.2.3.jar:1.2.3]  at org.apache.shiro.subject.support.SubjectCallable.call(SubjectCallable.java:83) [shiro-core-1.2.3.jar:1.2.3]  at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:334) [na:1.7.0_21]  at java.util.concurrent.FutureTask.run(FutureTask.java:166) [na:1.7.0_21]  at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:178) [na:1.7.0_21]  at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:292) [na:1.7.0_21]  at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [na:1.7.0_21]  at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [na:1.7.0_21]  at java.lang.Thread.run(Thread.java:722) [na:1.7.0_21]  Caused by: java.lang.NullPointerException: null  at com.sonatype.nexus.staging.internal.rules.POMStagingRuleEvaluator$POMStagingRuleWalkerProcessor.validateDependency(POMStagingRuleEvaluator.java:140) ~[nexus-staging-plugin-2.11.0-01/:na]  at com.sonatype.nexus.staging.internal.rules.POMStagingRuleEvaluator$POMStagingRuleWalkerProcessor.validateDependencies(POMStagingRuleEvaluator.java:123) ~[nexus-staging-plugin-2.11.0-01/:na]  at com.sonatype.nexus.staging.internal.rules.POMStagingRuleEvaluator$POMStagingRuleWalkerProcessor.validatePOM(POMStagingRuleEvaluator.java:95) ~[nexus-staging-plugin-2.11.0-01/:na]  at com.sonatype.nexus.staging.internal.rules.POMStagingRuleEvaluator$POMStagingRuleWalkerProcessor.processFileItem(POMStagingRuleEvaluator.java:64) ~[nexus-staging-plugin-2.11.0-01/:na]  at org.sonatype.nexus.proxy.walker.AbstractFileWalkerProcessor.processItem(AbstractFileWalkerProcessor.java:26) ~[nexus-core-2.11.0-01.jar:2.11.0-01]  at org.sonatype.nexus.proxy.walker.DefaultWalker.processItem(DefaultWalker.java:292) ~[nexus-core-2.11.0-01.jar:2.11.0-01]  at org.sonatype.nexus.proxy.walker.DefaultWalker.walkItem(DefaultWalker.java:244) ~[nexus-core-2.11.0-01.jar:2.11.0-01]  at org.sonatype.nexus.proxy.walker.DefaultWalker.walkRecursive(DefaultWalker.java:200) ~[nexus-core-2.11.0-01.jar:2.11.0-01]  at org.sonatype.nexus.proxy.walker.DefaultWalker.walkRecursive(DefaultWalker.java:209) ~[nexus-core-2.11.0-01.jar:2.11.0-01]  at org.sonatype.nexus.proxy.walker.DefaultWalker.walkRecursive(DefaultWalker.java:209) ~[nexus-core-2.11.0-01.jar:2.11.0-01]  at org.sonatype.nexus.proxy.walker.DefaultWalker.walkRecursive(DefaultWalker.java:209) ~[nexus-core-2.11.0-01.jar:2.11.0-01]  at org.sonatype.nexus.proxy.walker.DefaultWalker.walkRecursive(DefaultWalker.java:209) ~[nexus-core-2.11.0-01.jar:2.11.0-01]  at org.sonatype.nexus.proxy.walker.DefaultWalker.walkRecursive(DefaultWalker.java:209) ~[nexus-core-2.11.0-01.jar:2.11.0-01]  at org.sonatype.nexus.proxy.walker.DefaultWalker.walk(DefaultWalker.java:89) ~[nexus-core-2.11.0-01.jar:2.11.0-01]  ... 28 common frames omitted  {quote}"""
"NEXUS-7785","Improvement","Support Tools",1,"request.log should be able to print the Nexus authenticated userid","""You can configure %u in the request log via logback access layout pattern.    However this always prints """"-"""" despite requests being authenticated by Nexus.    Nexus should implement a way to print the authenticated user id in the request.log    This is a useful diagnostic tool and helps avoid requiring 2 log lines in nexus.log proper as described in this article:    https://support.sonatype.com/entries/24056287"""
"NEXUS-7802","Improvement","Scheduled Tasks",0.5,"Revisit tasks logging","""Before NX3 Scheduler (legacy scheduler) there was a lot (was maybe even noisy) logging about tasks started, stoppped ,etc...    With new scheduler we got to the """"opposite end of the horse"""", silence. Scheduler uses INFO logging very sparingly.    Tinker about, do we need at least some INFO logs about tasks, and if yes what? State transition?    Note: This is about logging only, as feeds are preserved and should be available with full content as before."""
"NEXUS-7806","Improvement","NPM",0.5,"npm groups should merge versions of the same package in different members","""Start with this repository setup:        Configure your registry for **gets** to point at npm-group with proper permissions.    Using {{npm publish}} and a proper publishConfig url in package.json  deploy package X version 0.0.1 to npm-hosted1   deploy package X version 0.0.2 to npm-hosted2    Execute {{npm view X versions}}    This returns one version {{0.0.1}}.    Reorder the group members:        Execute {{npm view X versions}}    This returns one version ( {{0.0.2}} ).    Expected  - {{npm view X versions}} should list all versions of the same package in all group members    Notes:  - NPM groups do not exactly match up with Maven groups  -- NPM packages are flat, there is no hierarchy    Because of this, should we treat NPM groups like Maven groups?  We have a concern that we could merge packages together due to the flat nature of NPM that weren't meant to be merged  Scoped packages was invented to circumvent this problem    Potentially do:  - Allow for capability for specific groups to do merge, and instruct the users on how to add hosted/proxy repos to the group"""
"NEXUS-7812","Improvement","OSGI",1,"Add straight forward (console/log) start notification","""As a tester/administrator, it'd be good to have a clean indicator that the server is started in the console.  ---  In training, it is mentioned that you can see Nexus has started by looking at """"Started InstrumentedSelectChannelConnector@0.0.0.0:8081”.  Usability suggestion, add a line after the system processes are done “Nexus has started.” or something akin.  This is not unlike the “Initializing” message currently present (and I personally feel would be more useful).    This is just for nexus console.  Nexus start has a clean(ish) message.    This affects both NX3 m2 and SNAPSHOT.  I had seen this a while ago but had not checked SNAPSHOT til today, thus the delay in filing."""
"NEXUS-7811","Improvement","UI",0.5,"Refine button text for server disconnected dialog","""As a user, I do not want error/warnings I cannot get rid of (however useful).    ---    While testing NX3 SNAPSHOT I shutdown my server but forgot to close NX in my browser.  I noticed NX3 has a cool warning now that tells you there is a disconnect.  However, following this warning if you try and do anything you get a message popout on the screen """"There is a problem communicating with server.""""  This is similar to the NX2 message which I believe says timeout, however, the NX3 message will not go away on close (OK) - instead it reopens the popout and adds another warning window on the right side.    I don't feel this is good usability but if intentional, there's no point I see to having the OK button as is.  It might as well be a close tab button.    This is not an issue in NX2, tho I do believe NX3 performance is better besides this aspect.    I believe I noticed this in the milestone build as well but wanted to check the snapshot.  I did not see this in my notes however nor did I (re)recheck at this time.  I can if you like and it helps."""
"NEXUS-7810","Story","Security",1,"Kenai Settings UI","""Implement settings UI for Kenai (similar to Crowd UI)"""
"NEXUS-7808","Bug","Maven",2,"non-snapshot versions containing SNAPSHOT can bypass a release repository Deployment Policy","""We have a nexus server:    Sonatype Nexus™ Open Source Edition, Version: 2.0.6    (sure - kinda old)     But we are able to redeploy a version of an artifact with a version string of:    1.0.0-SNAPSHOT-FOO-999    We have our """"release"""" repo set up to deny redeploy, but we were able to redeploy this to this release repo over and over."""
"NEXUS-7819","Bug","UI",2,"Unselecting icon does nothing?","""Demonstration of the bug: http://monosnap.com/file/s3Dm8abWmAmgUdm4R3xp4ZERUwhorv    Currently in NX when you have the box icon at the top of the screen selected (or the gear if logged in as admin), if you click to unselect it, it removes the blue indicating that the item is selected but nothing else changes.  This was confusing to me as a new NX3 user.  For example, if logged in as an admin with the gear selected, if you unselect the gear you remain on the administration section.  The only thing that changes is the fact the gear icon is no longer blue.  When I posed this to the team, it was requested I file a ticket.    My expectation was that there be some behavior when the icons are not selected or suggest that they not be able to be unselected if no behavior is going to occur.    Going with bug for now; please change to improvement if you believe it's better.    Buttons not present in NX2."""
"NEXUS-7817","Bug","UI",3,"Second frame on welcome screen sometimes appears repeating milestone resources","""While discussing NEXUS-7811, Jason noticed the screen I took had a second frame repeating the milestone resources available for admin on the welcome page.  I was able to reproduce this but not consistently by logging in and out of the system as admin (deployment and anonymous do not have these resources at this time).    Since I was able to repro several times despite not every time I am filing.  If I see further tidbits about this I will add.    I am making this minor because once this frame shows up, it remains even on logout, exposing these resources to a non-admin.  I also have noticed less frequently while testing this that the resources sometimes stay on the page on logout (but on the non-second framed screen).  I mulled filing a second ticket but was unable to repro this behavior in FF or Chrome, so I'm holding off for now, semi-hopeful this ticket fix may cleanup that as well.    I did not specifically check NX2 for this at this time, however, I've never seen this there before."""
"NEXUS-7820","Improvement","UI",1,"Show persistent message on idle time out","""As a user, it'd be nice to have a persistent message when I come back to a session and am logged out.    ---    Two times today, I've been idling on NX3 and on return to the screen have had a pause then realized I am logged out presumably due to idling.  One benefit of NEXUS-7755 was that there was a history including that you were logged out.  Right now, you can potentially just click anonymously before realizing what happened.  Suggesting a message on the screen relaying you have been logged out that persists until the user clicks it off (or otherwise notes it as being seen).  If NEXUS-7755 or like history is restored, then this could likely be OBE.    Acceptance Criteria:  - When a user is logged out due to timeout, show the user a dialog that indicates to them they have been logged out"""
"NEXUS-7834","Bug","Repository",1,"Nexus allows direct access to trash directory through content URL's.","""Nexus allows direct access to trash directory contents through /content URL's.    Directory browsing does not work:    https://oss.sonatype.org/content/repositories/releases/.nexus/trash    But direct access does (note, this file might not be there anymore at some point, but right now the download works).    https://oss.sonatype.org/content/repositories/releases/.nexus/trash/br/com/address/archetypes/strtus2-archetype/maven-metadata.xml    This is a security concern, some of our customers have artifacts which are are only accessible to a small set of developers, and are protected via repository target privileges.  Access through /.nexus/trash will likely bypass these restrictions."""
"NEXUS-7835","Improvement","NPM",1,"provide a scheduled task to rebuild the npm metadata from storage data for hosted repositories","""As a Nexus administrator I want a supported procedure to rebuild the npm metadata from existing npm repository storage, particularly from hosted repositories.    This is useful for rebuilding metadata from rsynced npm storage in a failover instance and as a database corruption recovery tool.    Notes:  - Look into OrientDB backup, export as potential options if we can't rebuild    """
"NEXUS-7849","Task","Database",1,"Flesh out first StorageFacet interface and impl","""To support the initial raw content format, take an initial hack at the StorageFacet interface as roughly described here:  https://docs.sonatype.com/display/Nexus/Nexus+3+Storage+Facet#Nexus3StorageFacet-Facet    ...and provide an initial implementation    This is expected to be reworked at some point. In order to provide something that basically works, the interface will provide direct access to OrientDB primitives (e.g. Vertices, Edges, and possibly the Graph) rather than trying to hide them behind other objects, where practical."""
"NEXUS-7848","Task","Database",1,"Solicit graph data model feedback from OrientDB team","""Compose and send a proposed OrientDB graph data model for Nexus 3 to the OrientDB folks.    Purpose: Get expert advice on the direction we're pursuing for persistence of Component/Asset information, to inform the design."""
"NEXUS-7854","Bug","Capabilities|UI",0.5,"Capability About section blank on new","""Jason noticed that the About section when creating a new Capability was blank.  I subsequently noticed that this is filled in once you create the capability in the About tab of the subsequent screen; believe this is a bug with the creation section since the text is defined.    I only checked NX3 (SNAPSHOT) at this time."""
"NEXUS-7850","Improvement","Proxy Repository|Repository",1,"Ban content which could be interpreted as a ""link"" to be uploaded or downloaded","""To prevent malicious abuse of the NX2 framework, we should inspect content which is uploaded (deployed to hosted) or downloaded (fetched from remote) to ensure that the NX2 framework would not interpret the content as a """"link"""".    This should be separate from """"content-validation"""" checking and always checked.    Only direct use of the NX2 framework api to store a [Default]StorageLinkItem should be allowed to make content that is to be interpreted as a """"link""""."""
"NEXUS-7856","Bug","Database",1,"Shell quoting is interfering with orient comment quoting","""I'd expect this to work:        ... but it does not.    This however does work:        """
"NEXUS-7860","Bug","Support Tools",1,"request.log does not include authenticated userid for certain requests","""Configure repos:    nuget-group   -- nuget-proxy ( https://www.nuget.org/api/v2/ )    Delete the Nexus anonymous user. Do not configure Nuget API key realm.    Make the following request with Nexus 2.11.1    wget --debug --http-user admin --http-password=admin123 -S http://localhost:8081/nexus/service/local/nuget/nuget-group/Microsoft.AspNet.WebApi.Client/5.2.2    by design, wget does not use pre-emptive auth and makes two requests, the first responds with 401 and WWW-Authenticate headers and the second sends your credentials in response.    request.log does not print the authenticated user on the second request.    127.0.0.1 - - [30/Dec/2014:12:40:37 -0400] """"GET /nexus/service/local/nuget/nuget-group/Microsoft.AspNet.WebApi.Client/5.2.2 HTTP/1.1"""" 401 0  127.0.0.1 - - [30/Dec/2014:12:40:45 -0400] """"GET /nexus/service/local/nuget/nuget-group/Microsoft.AspNet.WebApi.Client/5.2.2 HTTP/1.1"""" 404 388    Note: the 404 in this case was because I had an http proxy server configured in Nexus returning 404 for the outbound request. This should normally return 200 and not related to this problem.    Seems like the security filter change in NEXUS-7785 where the logging was added is not being picked up for some reason."""
"NEXUS-8371","Story","Documentation",2,"Port LDAP docs","""Added/updated subsections to LDAP connection and auth, user/group mapping & a link to external role mapping"""
"NEXUS-7874","Bug","UI",0.5,"NuGet Package upload strings missing or so","""Seems like there are some missing or broken strings related to NuGet package upload. """
"NEXUS-7873","Bug","OBR",0.5,"org.jacoco:org.jacoco.report:0.6.2.201302030002 produces OBR metadata which cannot be parsed by felix 4.4.1","""Create a virtual OBR repository against the default central proxy repository in Nexus.  Request this artifact through the central proxy:    http://localhost:8081/nexus/content/repositories/central/org/jacoco/org.jacoco.report/0.6.2.201302030002/org.jacoco.report-0.6.2.201302030002.jar      Now fire up felix 4.4.1 and add the virtual obr repository to it.  This fails due to a missing trailing parenthesis in this declaration:    {code}  (mandatory:<*bundle-version)): (&(package=org.jacoco.core)(bundle-version=[0.6.2,0.6.3))(mandatory:<*bundle-version))  {code}    I don't know if this is because the artifact has invalid metadata, or if there is a bug in the obr.xml file generation.    """
"NEXUS-7883","Bug","UI",0.5,"Role ordering now case sensitive","""As a user, I do not want to worry about using case to have my values show.    ---    Adding a role, I created """"test"""" and thought it was not appearing.  After evaluating, I found that it sorted below the default ones provided in Nexus.  I changed it to """"Test"""" and found it sorted in.  This is a bug rather than an improvement type because in NX2, the sort is case insensitive.  I did not see any tickets indicating this was intentional or a known issue."""
"NEXUS-7882","Bug","Security",1,"/service/local/authentication/logout should ask the user-agent to delete the session cookie","""Currently a request to logout with a valid session cookie, will delete the server side session in Nexus, so that the originally sent session cookie value is no longer valid in the browser.    However the response that comes back should ( but does not ) ask the user-agent to delete/expire the existing session cookie, so that it does not bother trying to send it again.    We should make logout return a Set-Cookie header as expected that forces delete/expiry of the session cookie.  """
"NEXUS-7881","Improvement","Outreach",2,"allow nexus 2.x to load outreach content by version,edition and user","""NX3 loads outreach iframe with version/edition/user parameters to allow the outreach bundle to template.  NX2 should get this.    Example in NX3 of the params:  https://github.com/sonatype/nexus-oss/blob/master/plugins/rapture/nexus-coreui-plugin/src/main/resources/static/rapture/NX/coreui/controller/Outreach.js#L85"""
"NEXUS-7880","Improvement","Security|Transport",1,"change the default Nexus session cookie name","""The Nexus Session cookie name is currently JSESSIONID.    This is a default Java webapp default session cookie name.    When Nexus is running on a host where another java webapp is located, sometimes conflicts can occur with this cookie name where one webapp overwrites the cookie of the other.    To help avoid such conflicts, we should given the Nexus session cookie a non-default name. In case this presents unforeseen problems in some environments, make the cookie name configurable by a Nexus administrator.  """
"NEXUS-7879","Improvement","Security|Transport",2,"generate dynamic Secure parameterized cookies based on HttpServletRequest.isSecure()","""Secure flag should be set on Set-Cookie values dynamically based on if the inbound request is reported as secure by the container hosting Nexus, instead of using the configurable option provided by NEXUS-7800  """
"NEXUS-7878","Improvement","Transport",1,"prevent restlet resources from sending duplicate Date and Server headers","""When a Nexus Restlet resource is requested ( service/local/* ), restlet sends back duplicate Date and Server headers.    There should be only one Date header, and Jetty provides this for all responses:    http://download.eclipse.org/jetty/stable-8/xref/org/eclipse/jetty/http/HttpGenerator.html#482    There should only be one Server header, with each product/version joined in the header value by a single space.    http://pretty-rfc.herokuapp.com/RFC2616#header.server  http://pretty-rfc.herokuapp.com/RFC2616#product.tokens    < HTTP/1.1 200 OK  < Date: Sat, 03 Jan 2015 16:16:33 GMT  < Server: Nexus/2.11.1-01  < X-Frame-Options: SAMEORIGIN  < X-Content-Type-Options: nosniff  < Set-Cookie: JSESSIONID=2f781ca7-d955-45c7-99e4-a84cdcfa6d4a; Path=/nexus; HttpOnly  < Set-Cookie: rememberMe=deleteMe; Path=/nexus; Max-Age=0; Expires=Fri, 02-Jan-2015 16:16:33 GMT  < Content-Type: application/xml; charset=UTF-8  < Date: Sat, 03 Jan 2015 16:16:33 GMT  < Vary: Accept-Charset, Accept-Encoding, Accept-Language, Accept  < Server: Noelios-Restlet-Engine/1.1.6-SONATYPE-5348-V8  < Content-Length: 10320  """
"NEXUS-7895","Bug","UI",0.5,"Empty Trash Task helper grammar is off","""While reviewing https://issues.sonatype.org/browse/NEXUS-7705, I noticed that on an Empty Trash tasks the repository field had the helper text """"Select the repository to empty the trash."""".  This read grammatically weird to me so I checked with [~jwayman] and [~simpligility] and they suggested:    * Select the repository whose trash will be emptied  * Select the repository trash to be emptied  * The trash for the selected repository (below) will be emptied    Note, they had periods at the ends of some of their suggestions (as does the original text) but I removed them per the Design principles document attached with NEXUS-7705.    This is an NX3 issue only; NX2 does not have any helper text (which could be another solution)."""
"NEXUS-7893","Improvement","UI",0.5,"Text clarify timeout field","""While scanning text after NEXUS-7705 was closed, I noticed that on Administration>HTTP the Timeout field had no descriptor.  Recommend adding one telling what the # indicates (seconds, minutes, hours).  I do not know which it is, so cannot recommend text at this time.    Did not see this page in NX2, so only checked NX3 at this time."""
"NEXUS-7891","Bug","Capabilities",0.5,"No Kenai Capability About causing warning in log","""While testing NEXUS-7768 I noticed that when I clicked on the Capabilities left nav item I was getting this in the log:  {quote}  2015-01-08 12:15:51,353-0500 WARN  [pool-7-thread-7] joedragons org.sonatype.sisu.goodies.template.internal.VelocityTemplateEngine - Missing resource for template: kenai-about.vm; for owner: org.sonatype.security.realms.kenai.internal.capability.KenaiCapabilityDescriptor  {quote}    I suspect this is because no About is defined for the Kenai capability.  I checked all the other capabilities that are default added and all have an About defined even if just basically a repetition the name.  I did not check all the capabilties in the list however.    I did not notice this error before I added the capbility so I am guessing it only checks the ones listed.    I did notice when I went to create though and selected the dropdown (before picking a capability) I got the same error.    This became a capability in NX3 so not surprisingly no error in NX2.    Unsure epic or component, so guidance appreciated."""
"NEXUS-7889","Bug","Security",3,"RUT Auth does not work for /content URL's","""Disable anonymous access in Nexus, and configure RUT auth.  This works for /service/local URL's:        It does not work for /content URLs:        """
"NEXUS-7896","Bug","Scheduled Tasks|UI",0.5,"Tasks: Replace removed Cron helper text","""While testing NEXUS-7705, I noticed that when creating a new task when scheduling Advanced (Cron) the long guidance text describing Cron examples was gone.  I asked in email if this was intentional and it was decided that rather than having long examples, there would be an entry in the help content that we could link our helper text to.    I waffled between making this a task or a bug, but since the text is removed, I went with bug.  This is NX3 only as the text is present in NX2.    I believe this cannot be done until the link is added so added dependancy.    Acceptance Criteria:  - Have minimal helper text listing the columns and meaning of * and ? for cron syntax easily accessible via the UI. (Does not need to be shown constantly)  - Have a cron link to the Nexus Book documentation/search for more elaborate explanation and examples which is expected to be needed infrequently."""
"NEXUS-7901","Story","Build",1,"Upgrade Groovy version","""Update to more recent Groovy version. Groovy 2.3.7 appears to be the latest available version with a corresponding groovy-eclipse compiler, with 2.3.9 being the last release published at this time.    Java 8 interoperability is only """"official"""" since 2.3.x so hopefully this will head off any compatibility issues    Acceptance Criteria:  - Nexus 3 OSS and Pro will use Groovy 2.3.7"""
"NEXUS-7903","Bug","Repository",1,"resuming downloads for unsatisfiable Range should respond with 416 or 200 instead of 206","""Hi there, we noticed when using wget with the --continue flag set that it will hang indefinitely when trying to download a file which we've already downloaded.    Looking closer we can see:    {code}  ubuntu@agent-00-00:/vagrant$ wget  -S -c -d  https://maven.atlassian.com/public/com/atlassian/bamboo/atlassian-bamboo-agent-elastic-installer/5.7.2/atlassian-bamboo-agent-elastic-installer-5.7.2-jar-with-dependencies.jar  DEBUG output created by Wget 1.13.4 on linux-gnu.    URI encoding = `UTF-8'  --2015-01-12 04:00:03--  https://maven.atlassian.com/public/com/atlassian/bamboo/atlassian-bamboo-agent-elastic-installer/5.7.2/atlassian-bamboo-agent-elastic-installer-5.7.2-jar-with-dependencies.jar  Resolving maven.atlassian.com (maven.atlassian.com)... 172.24.36.3  Caching maven.atlassian.com => 172.24.36.3  Connecting to maven.atlassian.com (maven.atlassian.com)|172.24.36.3|:443... connected.  Created socket 3.  Releasing 0x000000000176ad40 (new refcount 1).  Initiating SSL handshake.  Handshake successful; connected socket 3 to SSL handle 0x000000000176b350  certificate:    subject: /C=AU/ST=New South Wales/L=Sydney/O=Atlassian Pty Ltd/CN=*.atlassian.com    issuer:  /C=US/O=DigiCert Inc/OU=www.digicert.com/CN=DigiCert SHA2 High Assurance Server CA  X509 certificate successfully verified and matches host maven.atlassian.com    ---request begin---  GET /public/com/atlassian/bamboo/atlassian-bamboo-agent-elastic-installer/5.7.2/atlassian-bamboo-agent-elastic-installer-5.7.2-jar-with-dependencies.jar HTTP/1.1  Range: bytes=22299663-  User-Agent: Wget/1.13.4 (linux-gnu)  Accept: */*  Host: maven.atlassian.com  Connection: Keep-Alive    ---request end---  HTTP request sent, awaiting response...  ---response begin---  HTTP/1.1 206 Partial Content  Server: nginx  Date: Mon, 12 Jan 2015 04:00:03 GMT  Content-Type: application/java-archive  Content-Length: 0  Connection: keep-alive  X-Frame-Options: SAMEORIGIN  X-Content-Type-Options: nosniff  Accept-Ranges: bytes  ETag: """"{SHA1{642389d24532277bb5d2b779055c1fc338092a75}}""""  Last-Modified: Tue, 02 Dec 2014 08:08:34 GMT  Content-Range: 22299663-22299663/22299663  Set-Cookie: rememberMe=deleteMe; Path=/; Max-Age=0; Expires=Sun, 11-Jan-2015 04:00:03 GMT  Strict-Transport-Security: max-age=31536000    ---response end---      HTTP/1.1 206 Partial Content    Server: nginx    Date: Mon, 12 Jan 2015 04:00:03 GMT    Content-Type: application/java-archive    Content-Length: 0    Connection: keep-alive    X-Frame-Options: SAMEORIGIN    X-Content-Type-Options: nosniff    Accept-Ranges: bytes    ETag: """"{SHA1{642389d24532277bb5d2b779055c1fc338092a75}}""""    Last-Modified: Tue, 02 Dec 2014 08:08:34 GMT    Content-Range: 22299663-22299663/22299663    Set-Cookie: rememberMe=deleteMe; Path=/; Max-Age=0; Expires=Sun, 11-Jan-2015 04:00:03 GMT    Strict-Transport-Security: max-age=31536000  Registered socket 3 for persistent reuse.  Length: 22299664 (21M), 1 remaining [application/java-archive]  Saving to: `atlassian-bamboo-agent-elastic-installer-5.7.2-jar-with-dependencies.jar'    99% [++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++ ] 22,299,663  --.-K/s  {code}    The request will hang there and ultimately timeout.     Looking into the RFC for range: http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html    We see the interesting point        Testing wget against other servers we see the behaviour as described in the RFC (a 416 or 200). However against nexus we get a 206, even when the range really is out of bounds. The content length is set to 0 and the content-range header seems to be adjusted accordingly, but it still seems it's not the correct behaviour given the request.    Any chance we can get a hand here?"""
"NEXUS-7915","Improvement","Proxy Repository",1,"support proxying maven.oracle.com","""Oracle has started to publish a Maven repo with weblogic related artifacts. I expect that to become pretty popular with Oracle users since it saves TONS of time in terms of deploying the artifacts to an internal Nexus instance alternatively. We should make sure we know how to configure this so we can show customers and potentially work with Oracle to get any problems removed.    https://blogs.oracle.com/WebLogicServer/entry/weblogic_server_and_the_oracle    More info:  http://docs.oracle.com/middleware/1213/core/MAVEN/config_maven_repo.htm#MAVEN9012    E.g. there might be no index.     This could also be done as a blog post related investigation if there is no engineering budget.. """
"NEXUS-7922","Task","Repository",2,"Publish storage events","""Make sure appropriate events get pushed to the EventHub when changes occur via StorageFacet.    This includes creation, updates, and deletes of assets and components, and creation and deletion of blobs.    These events should be published only if the graph transaction on which they occurred is successfully committed."""
"NEXUS-7919","Improvement","UI",2,"Improve one button management method on sub-UI pages","""As a user, I want to get what I want quickly and with as few clicks as possible from the navigation menus.  I prefer none of the options to be hidden unless essential to avoid clutter/confusion.    ---    In NX3 (Cowbell SNAPSHOT), I noticed on the Privileges page there was a """"Create"""" button with a dropdown which resulted in just one item.  This took me aback because I am not sure the purpose of having a dropdown with just 1 item, seems like extra clicks to me.    On internal review, Daniel suggested """"With the new drilldown panels, we can show a list of types when a user clicks “Create privilege” instead of having a bunch of buttons up front.  Of course, if there’s only one privilege type, we just won’t show that panel.""""  And decided to ticket.    Areas affected that could be improved (on review yesterday):  * Templates  * Privileges  * Staging profiles  * Roles  * SSL Certificates (""""http://localhost:8081/#admin/security/sslcertificates - has a create button with 2 options in the drop."""")  * Respository ('(user/non-admin) have 2 drops in their """"More"""" (for Standard).')  * Capabilities (capability type dropdown should be modeled as a drilldown panel)  * Tasks (same as above)    I did not check NX2 at this time since we are not planning to improve the UI on that unless pressed.  I strongly suspect some of these are there however (some may not be, a result from the move from tabs)."""
"NEXUS-7918","Bug","Repository",3,"content validation fails for valid rar file","""Create a proxy repo to https://repository.jboss.org/nexus/content/groups/public-jboss/    Request the following file:     http://localhost:8081/nexus/content/repositories/jboss/org/jboss/genericjms/generic-jms-ra/1.0.7.Final/generic-jms-ra-1.0.7.Final.rar    Nexus blocks this apparently valid rar file and should not.    """
"NEXUS-7939","Bug","Security|UI",1,"Privilege add validates with incorrect message?","""While testing https://issues.sonatype.org/browse/NEXUS-7911, I added a privilege with the same (attached below) configuration and now I am getting the validation listed below which I believe is incorrect since there is a value.  I asked [~mcculls], and he said this was uncovered by his fix and not caused by it.  He speculated it may be a UI issue.  Because of that filing separately."""
"NEXUS-7935","Bug","UI",1,"In drilldown panels, focus doesn’t automatically move to the current panel.","""When I click a drilldown panel, I expect the focus to move to the first field in the new panel. This is not currently the case.    Also, it’s possible to tab to a previous or subsequent drilldown panel, which messes up the view. This also needs fixing. Example: http://take.ms/UFZkR"""
"NEXUS-7934","Bug","UI",0.5,"Cannot delete a logger (easily)","""I created a logger with a typo and went to delete it but found that I could not get the """"Delete Logger"""" button to enable.  I tried clicking away from the logger and back and I tried clicking away from the section and back.  I also tried right click.  I was able to delete by resetting all to default levels but that also wipes out any other changes you may have made (both loggers added and special configurations).    This appears to be an NX3 specific issue; I did not have this issue in NX2.  I only tested the SNAPSHOT (Cowbell) at this time, not older versions of NX3."""
"NEXUS-7929","Bug","Repository",1,"maven site deployments with .. in paths fail","""Since Nexus 2.11.1 I have a problem deploying sites of maven modules via dav protocol which have a parent and where I do not want the site to deployed at a path below the parent site.    Maven site plugin generates links relative to the site of the parent project. Nexus does not accept these relative links anymore.    See (the edited) log excerpt below for an example.    Do you have an idea what I can do other than requesting / implementing a change in the site plugin, changing my site deployment structure? I'd also rather not change the transport protocol (if that would be a solution) because that probably would be difficult to organize.    {quote}  [INFO] --- maven-site-plugin:3.4:deploy (default-cli) @ simple-child ---  [INFO] Parent project loaded from repository: org.example.nexus.deployment.problem:simple-parent:pom:0.1.0-SNAPSHOT  http://localhost:8081/nexus/content/sites/local-maven-sites/simple-parent/0.1.0-SNAPSHOT/ - Session: Opened  [INFO] Pushing c:\Users\me\Development\eclipse-workspace\simple-child\target\site  [INFO]    >>> to http://localhost:8081/nexus/content/sites/local-maven-sites/simple-parent/0.1.0-SNAPSHOT/../../simple-child  Uploading: ../../simple-child/css/maven-base.css to http://localhost:8081/nexus/content/sites/local-maven-sites/simple-parent/0.1.0-SNAPSHOT/    #http://localhost/nexus/content/sites/local-maven-sites/simple-parent/0.1.0-SNAPSHOT/../../simple-child/css/maven-base.css - Status code:  400   Transfer error: org.apache.maven.wagon.TransferFailedException: Failed to transfer file:  http://localhost:8081/nexus/content/sites/local-maven-sites/simple-parent/0.1.0-SNAPSHOT/../../simple-child/css/maven-base.css. Return code is: 400  http://localhost:8081/nexus/content/sites/local-maven-sites/simple-parent/0.1.0-SNAPSHOT/ - Session: Disconnecting  http://localhost:8081/nexus/content/sites/local-maven-sites/simple-parent/0.1.0-SNAPSHOT/ - Session: Disconnected  [INFO] ------------------------------------------------------------------------  [INFO] BUILD FAILURE  [INFO] ------------------------------------------------------------------------  {quote}"""
"NEXUS-7960","Bug","Browse Storage|UI",0.5,"Single pill shows, should be hidden to avoid confusion","""While reviewing NEXUS-7660, I loaded repository which only had one element so I clicked it.  I noticed the resultant item had a blue Info button and info below it.  I tried clicking the button and nothing happened.  After discussion with [~dsauble] he relayed this was part of NEXUS-7709 and that items with a single pill should be hidden to avoid confusion.  I reviewed the rest of the site and saw no others, I believe this is the only place with this going on.  Ticketing as requested."""
"NEXUS-7959","Bug","UI",3,"Grid view is broken (column hide, reorder, and resize)","""When you hide a column, the web UI navigates away from the current page: http://take.ms/3Svy5    When you reorder the columns, the data aren’t rendered appropriately: http://take.ms/pbERY    When you double-click the resize bar for a column, the grid doesn’t perform any overflow checking: http://take.ms/6T3Sr"""
"NEXUS-7956","Bug","UI",0.5,"Failed to Load warnings in JS Console","""While reviewing NEXUS-7760, I noticed I kept getting the attached warnings in my Safari Web Console once per browser session.  I thought it might be search related but noticed that I also got it when I signed in and clicked Feeds and also when I clicked Standard (Repository; clicking Repositories was fine).  The messages are the same each time.    I do not notice anything errant on the pages but filing for investigation.    Note:  Do awful things to browser size to replicate this    Acceptance Criteria:  - Current missing assets will not show up in js console any longer when scrolling tabs"""
"NEXUS-7954","Bug","UI",0.5,"(Re)Clarify Analytics text","""Last week, I noticed that the text to enable the sending of analytics (Support>Analytics) information to Sonatype had changed in NX3 from:  """"Enable automatic analytics event submission""""  to  """"Send anonymized analytics to Sonatype""""    I raised a concern that the latter read like a single function whereas the checkbox was doing more than that.  We hashed out better text:  """"Enable anonymized analytics submission to Sonatype""""    Some concern was raised that some of the words in this suggestion were unnecessary and/or redundant."""
"NEXUS-7966","Improvement","UI",0.5,"Header mode buttons look like toggles, not navigation links.","""To a first-time user, it’s unclear what the mode buttons are supposed to do. They look like toggles. We need to tie them to the page better, make them look like navigation.    !Welcome - Sonatype Nexus 2015-01-20 10-35-44.png|thumbnail!"""
"NEXUS-7965","Bug","UI",0.5,"Typos in ""Smart Proxy: File Event Sink"" capability About","""While testing NEXUS-7854 yesterday, I noticed 3 typoes in the Smart Proxy: File Event Sink capability's About section.  I checked and these exist in NX2 as well.  Bug for cleanup.    1) """"in the flush/publih window."""" - 'publish' is missing an s.  2) """"blank lines are ingored"""" - 'ignored' is missing an n.  3) """"for the event or addional"""" - 'additional' misspelled."""
"NEXUS-7981","Bug","UI",0.5,"NX3 feeds have the same name unhelpfully","""Two feeds in NX3 are named """"New File"""" and are distinct items.  While this text is cleaner than NX2 (long descriptions) there is a distinction in NX2 beyond just the path.    Requesting this be differentiated somehow.    Filing as a bug since this was different (""""not a bug"""") in NX2.  I've attached NX3 and NX2 screens.  Will also reach out to Jeff/Manfred to see if they have any suggestions.  I am too verbose to make suggestions for this one=)"""
"NEXUS-7980","Bug","UI",1,"Capabilities update failure","""Trying to update a Capability results in an exception and failure to transition back to the list view. Appears related to the recent change to drilldown pattern in the UI.  """
"NEXUS-7979","Bug","UI",1,"Staging repository detail view throws Exception on load","""- detail view won't load, hits an undefined method here: https://github.com/sonatype/nexus-pro/blob/master/plugins/internal/nexus-proui-plugin/src/main/resources/static/rapture/NX/proui/controller/StagingRepositories.js#L263-263  - reproduction:   -- Add a Staging profile (content is irrelevant)  -- Upload an artifact to staging; UI upload is sufficient  -- Navigate to the newly created Staging repository and click it in the list view  -- Observe error thrown: TypeError: me.getFeature(...).setDescriptionIconName is not a function StagingRepositories.js:263  """
"NEXUS-7978","Bug","UI",1,"User Creation does not transition back to list view after saving","""Record is saved as expected, but the UI does not transition back to the list view as other drilldown views do.  Leads to failure with present code at https://github.com/sonatype/nexus-bundles/blob/master/testsuite/functional-testsuite/src/test/ft-resources/testsuite/security/310_security_user.t.js#L85"""
"NEXUS-7977","Bug","Rapture|UI",0.5,"Saving shows a validator briefly when condition is fulfilled (sometimes/some fields)","""While reviewing NEXUS-7901, I created a task and edited it and noticed that a validator was appearing despite the fact the field was filled in.  This occurs on both save and discard.  If this can be prevented, I see no point in having this appear.  See attached movie (shows save only)."""
"NEXUS-7975","Bug","UI",1,"Invalid email now allowed w/ typo & errors","""In NX3 on System>Email Server, when Verifying SMTP Connection you can verify with a blank submission (not allowed in NX2).  I noticed that the resultant message """"Invalida e-mail address: <>"""" has a typo (Invalid).  There is also an error in the log, that was not present in NX2, likely because this was not allowed:  {quote}  2015-01-21 10:23:40,467-0500 ERROR [qtp414557038-235] admin org.sonatype.nexus.extdirect.internal.ExtDirectServlet - Failed to invoke action method: coreui_SmtpSettings.verifyConnection, java-method: org.sonatype.nexus.coreui.SmtpSettingsComponent.verifyConnection  java.lang.IllegalArgumentException: Invalida e-mail address: <>   at org.sonatype.micromailer.Address.validateAddress(Address.java:115) [na:na]   at org.sonatype.micromailer.Address.<init>(Address.java:44) [na:na]   at org.sonatype.micromailer.Address.<init>(Address.java:36) [na:na]   at org.sonatype.nexus.internal.email.DefaultSmtpSettingsValidator.sendSmtpConfigurationTest(DefaultSmtpSettingsValidator.java:72) [na:na]   at org.sonatype.nexus.email.SmtpSettingsValidator$sendSmtpConfigurationTest.call(Unknown Source) [na:na]   at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:45) [na:na]   at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:108) [na:na]   at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:120) [na:na]   at org.sonatype.nexus.coreui.SmtpSettingsComponent.verifyConnection(SmtpSettingsComponent.groovy:132) [na:na]   at org.sonatype.nexus.extender.modules.ValidationInterceptor.invoke(ValidationInterceptor.java:53) [na:na]   at org.apache.shiro.guice.aop.AopAllianceMethodInvocationAdapter.proceed(AopAllianceMethodInvocationAdapter.java:49) [na:na]   at org.apache.shiro.authz.aop.AuthorizingAnnotationMethodInterceptor.invoke(AuthorizingAnnotationMethodInterceptor.java:68) [na:na]   at org.apache.shiro.guice.aop.AopAllianceMethodInterceptorAdapter.invoke(AopAllianceMethodInterceptorAdapter.java:36) [na:na]   at org.apache.shiro.guice.aop.AopAllianceMethodInvocationAdapter.proceed(AopAllianceMethodInvocationAdapter.java:49) [na:na]   at org.apache.shiro.authz.aop.AuthorizingAnnotationMethodInterceptor.invoke(AuthorizingAnnotationMethodInterceptor.java:68) [na:na]   at org.apache.shiro.guice.aop.AopAllianceMethodInterceptorAdapter.invoke(AopAllianceMethodInterceptorAdapter.java:36) [na:na]   at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) [na:1.7.0_71]   at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57) [na:1.7.0_71]   at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [na:1.7.0_71]   at java.lang.reflect.Method.invoke(Method.java:606) [na:1.7.0_71]   at com.softwarementors.extjs.djn.router.dispatcher.DispatcherBase.invokeJavaMethod(DispatcherBase.java:142) [org.sonatype.nexus.plugins.nexus-extdirect-plugin:3.0.0.SNAPSHOT]   at com.softwarementors.extjs.djn.router.dispatcher.DispatcherBase.invokeMethod(DispatcherBase.java:133) [org.sonatype.nexus.plugins.nexus-extdirect-plugin:3.0.0.SNAPSHOT]   at org.sonatype.nexus.extdirect.internal.ExtDirectServlet$3.invokeMethod(ExtDirectServlet.java:208) [org.sonatype.nexus.plugins.nexus-extdirect-plugin:3.0.0.SNAPSHOT]   at com.softwarementors.extjs.djn.router.dispatcher.DispatcherBase.dispatch(DispatcherBase.java:63) [org.sonatype.nexus.plugins.nexus-extdirect-plugin:3.0.0.SNAPSHOT]   at com.softwarementors.extjs.djn.router.processor.standard.StandardRequestProcessorBase.dispatchStandardMethod(StandardRequestProcessorBase.java:73) [org.sonatype.nexus.plugins.nexus-extdirect-plugin:3.0.0.SNAPSHOT]   at com.softwarementors.extjs.djn.router.processor.standard.json.JsonRequestProcessor.processIndividualRequest(JsonRequestProcessor.java:502) [org.sonatype.nexus.plugins.nexus-extdirect-plugin:3.0.0.SNAPSHOT]   at com.softwarementors.extjs.djn.router.processor.standard.json.JsonRequestProcessor.processIndividualRequestsInThisThread(JsonRequestProcessor.java:150) [org.sonatype.nexus.plugins.nexus-extdirect-plugin:3.0.0.SNAPSHOT]   at com.softwarementors.extjs.djn.router.processor.standard.json.JsonRequestProcessor.process(JsonRequestProcessor.java:133) [org.sonatype.nexus.plugins.nexus-extdirect-plugin:3.0.0.SNAPSHOT]   at com.softwarementors.extjs.djn.router.RequestRouter.processJsonRequest(RequestRouter.java:83) [org.sonatype.nexus.plugins.nexus-extdirect-plugin:3.0.0.SNAPSHOT]   at com.softwarementors.extjs.djn.servlet.DirectJNgineServlet.processRequest(DirectJNgineServlet.java:617) [org.sonatype.nexus.plugins.nexus-extdirect-plugin:3.0.0.SNAPSHOT]   at com.softwarementors.extjs.djn.servlet.DirectJNgineServlet.doPost(DirectJNgineServlet.java:580) [org.sonatype.nexus.plugins.nexus-extdirect-plugin:3.0.0.SNAPSHOT]   at org.sonatype.nexus.extdirect.internal.ExtDirectServlet.doPost(ExtDirectServlet.java:128) [org.sonatype.nexus.plugins.nexus-extdirect-plugin:3.0.0.SNAPSHOT]   at javax.servlet.http.HttpServlet.service(HttpServlet.java:755) [javax.servlet:3.0.0.v201112011016]   at javax.servlet.http.HttpServlet.service(HttpServlet.java:848) [javax.servlet:3.0.0.v201112011016]   at com.google.inject.servlet.ServletDefinition.doServiceImpl(ServletDefinition.java:298) [org.sonatype.sisu.guice:3.2.4]   at com.google.inject.servlet.ServletDefinition.doService(ServletDefinition.java:282) [org.sonatype.sisu.guice:3.2.4]   at com.google.inject.servlet.ServletDefinition.service(ServletDefinition.java:187) [org.sonatype.sisu.guice:3.2.4]   at com.google.inject.servlet.AbstractServletPipeline.service(AbstractServletPipeline.java:59) [org.sonatype.sisu.guice:3.2.4]   at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:85) [org.sonatype.sisu.guice:3.2.4]   at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:112) [org.apache.shiro.web:1.2.3]   at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:82) [org.sonatype.sisu.guice:3.2.4]   at org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilterChain.java:61) [org.apache.shiro.web:1.2.3]   at org.apache.shiro.web.servlet.AdviceFilter.executeChain(AdviceFilter.java:108) [org.apache.shiro.web:1.2.3]   at org.apache.shiro.web.servlet.AdviceFilter.doFilterInternal(AdviceFilter.java:137) [org.apache.shiro.web:1.2.3]   at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:125) [org.apache.shiro.web:1.2.3]   at org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilterChain.java:66) [org.apache.shiro.web:1.2.3]   at org.apache.shiro.web.servlet.AdviceFilter.executeChain(AdviceFilter.java:108) [org.apache.shiro.web:1.2.3]   at org.apache.shiro.web.servlet.AdviceFilter.doFilterInternal(AdviceFilter.java:137) [org.apache.shiro.web:1.2.3]   at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:125) [org.apache.shiro.web:1.2.3]   at org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilterChain.java:66) [org.apache.shiro.web:1.2.3]   at org.apache.shiro.web.servlet.AbstractShiroFilter.executeChain(AbstractShiroFilter.java:449) [org.apache.shiro.web:1.2.3]   at org.sonatype.nexus.web.SecurityFilter.executeChain(SecurityFilter.java:87) [org.sonatype.nexus.core:3.0.0.SNAPSHOT]   at org.apache.shiro.web.servlet.AbstractShiroFilter$1.call(AbstractShiroFilter.java:365) [org.apache.shiro.web:1.2.3]   at org.apache.shiro.subject.support.SubjectCallable.doCall(SubjectCallable.java:90) [org.apache.shiro.core:1.2.3]   at org.apache.shiro.subject.support.SubjectCallable.call(SubjectCallable.java:83) [org.apache.shiro.core:1.2.3]   at org.apache.shiro.subject.support.DelegatingSubject.execute(DelegatingSubject.java:383) [org.apache.shiro.core:1.2.3]   at org.apache.shiro.web.servlet.AbstractShiroFilter.doFilterInternal(AbstractShiroFilter.java:362) [org.apache.shiro.web:1.2.3]   at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:125) [org.apache.shiro.web:1.2.3]   at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:82) [org.sonatype.sisu.guice:3.2.4]   at com.sonatype.nexus.licensing.internal.LicensingRedirectFilter.doFilter(LicensingRedirectFilter.java:136) [com.sonatype.nexus.plugins.nexus-licensing-plugin:3.0.0.SNAPSHOT]   at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:82) [org.sonatype.sisu.guice:3.2.4]   at com.codahale.metrics.servlet.AbstractInstrumentedFilter.doFilter(AbstractInstrumentedFilter.java:97) [com.codahale.metrics.servlet:3.0.2]   at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:82) [org.sonatype.sisu.guice:3.2.4]   at org.sonatype.nexus.web.internal.StandardHttpResponseHeadersFilter.doFilter(StandardHttpResponseHeadersFilter.java:80) [org.sonatype.nexus.core:3.0.0.SNAPSHOT]   at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:82) [org.sonatype.sisu.guice:3.2.4]   at org.sonatype.nexus.web.internal.ErrorPageFilter.doFilter(ErrorPageFilter.java:66) [org.sonatype.nexus.core:3.0.0.SNAPSHOT]   at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:82) [org.sonatype.sisu.guice:3.2.4]   at org.sonatype.nexus.web.internal.BaseUrlHolderFilter.doFilter(BaseUrlHolderFilter.java:68) [org.sonatype.nexus.core:3.0.0.SNAPSHOT]   at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:82) [org.sonatype.sisu.guice:3.2.4]   at com.google.inject.servlet.AbstractFilterPipeline.dispatch(AbstractFilterPipeline.java:94) [org.sonatype.sisu.guice:3.2.4]   at com.google.inject.servlet.GuiceFilter$1.call(GuiceFilter.java:133) [org.sonatype.sisu.guice:3.2.4]   at com.google.inject.servlet.GuiceFilter$1.call(GuiceFilter.java:130) [org.sonatype.sisu.guice:3.2.4]   at com.google.inject.servlet.GuiceFilter$Context.call(GuiceFilter.java:203) [org.sonatype.sisu.guice:3.2.4]   at com.google.inject.servlet.GuiceFilter.doFilter(GuiceFilter.java:130) [org.sonatype.sisu.guice:3.2.4]   at org.sonatype.nexus.bootstrap.osgi.DelegatingFilter.doFilter(DelegatingFilter.java:73) [org.sonatype.nexus.bootstrap:3.0.0.SNAPSHOT]   at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1419) [org.eclipse.jetty.aggregate.jetty-all-server:8.1.11.v20130520]   at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:455) [org.eclipse.jetty.aggregate.jetty-all-server:8.1.11.v20130520]   at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:137) [org.eclipse.jetty.aggregate.jetty-all-server:8.1.11.v20130520]   at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:557) [org.eclipse.jetty.aggregate.jetty-all-server:8.1.11.v20130520]   at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:231) [org.eclipse.jetty.aggregate.jetty-all-server:8.1.11.v20130520]   at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1075) [org.eclipse.jetty.aggregate.jetty-all-server:8.1.11.v20130520]   at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:384) [org.eclipse.jetty.aggregate.jetty-all-server:8.1.11.v20130520]   at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:193) [org.eclipse.jetty.aggregate.jetty-all-server:8.1.11.v20130520]   at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1009) [org.eclipse.jetty.aggregate.jetty-all-server:8.1.11.v20130520]   at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:135) [org.eclipse.jetty.aggregate.jetty-all-server:8.1.11.v20130520]   at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:116) [org.eclipse.jetty.aggregate.jetty-all-server:8.1.11.v20130520]   at com.codahale.metrics.jetty8.InstrumentedHandler.handle(InstrumentedHandler.java:192) [com.codahale.metrics.jetty8:3.0.2]   at org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:154) [org.eclipse.jetty.aggregate.jetty-all-server:8.1.11.v20130520]   at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:116) [org.eclipse.jetty.aggregate.jetty-all-server:8.1.11.v20130520]   at org.eclipse.jetty.server.Server.handle(Server.java:370) [org.eclipse.jetty.aggregate.jetty-all-server:8.1.11.v20130520]   at org.eclipse.jetty.server.AbstractHttpConnection.handleRequest(AbstractHttpConnection.java:489) [org.eclipse.jetty.aggregate.jetty-all-server:8.1.11.v20130520]   at org.eclipse.jetty.server.AbstractHttpConnection.content(AbstractHttpConnection.java:960) [org.eclipse.jetty.aggregate.jetty-all-server:8.1.11.v20130520]   at org.eclipse.jetty.server.AbstractHttpConnection$RequestHandler.content(AbstractHttpConnection.java:1021) [org.eclipse.jetty.aggregate.jetty-all-server:8.1.11.v20130520]   at org.eclipse.jetty.http.HttpParser.parseNext(HttpParser.java:865) [org.eclipse.jetty.aggregate.jetty-all-server:8.1.11.v20130520]   at org.eclipse.jetty.http.HttpParser.parseAvailable(HttpParser.java:240) [org.eclipse.jetty.aggregate.jetty-all-server:8.1.11.v20130520]   at org.eclipse.jetty.server.AsyncHttpConnection.handle(AsyncHttpConnection.java:82) [org.eclipse.jetty.aggregate.jetty-all-server:8.1.11.v20130520]   at org.eclipse.jetty.io.nio.SelectChannelEndPoint.handle(SelectChannelEndPoint.java:668) [org.eclipse.jetty.aggregate.jetty-all-server:8.1.11.v20130520]   at org.eclipse.jetty.io.nio.SelectChannelEndPoint$1.run(SelectChannelEndPoint.java:52) [org.eclipse.jetty.aggregate.jetty-all-server:8.1.11.v20130520]   at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:608) [org.eclipse.jetty.aggregate.jetty-all-server:8.1.11.v20130520]   at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:543) [org.eclipse.jetty.aggregate.jetty-all-server:8.1.11.v20130520]   at java.lang.Thread.run(Thread.java:745) [na:1.7.0_71]  Caused by: javax.mail.internet.AddressException: Empty address   at javax.mail.internet.InternetAddress.checkAddress(InternetAddress.java:1149) [na:na]   at javax.mail.internet.InternetAddress.validate(InternetAddress.java:1129) [na:na]   at org.sonatype.micromailer.Address.getInternetAddress(Address.java:61) [na:na]   at org.sonatype.micromailer.Address.validateAddress(Address.java:111) [na:na]   ... 100 common frames omitted  {quote}    Interestingly, if you start to actually type an invalid email, it blocks it and validates.  I am not sure the gain of allowing this blank mail, so cannot suggest to revert to NX2 not allowing which would presumably fix this or if these need patched."""
"NEXUS-7974","Task","NPM",0.5,"Update NPM plugin to use OrientDB 2.0","""Note: databases created by OrientDB 1.7 are compatible with OrientDB 2.0    http://www.orientechnologies.com/docs/last/orientdb.wiki/Migration-from-1.7.x-to-2.0.x.html"""
"NEXUS-7971","Story","UI",3,"Finish conversion to NX.I18n string ","""A few places still not using NX.I18n.    * -Review all usage of NX.Messages API-  * -Review all usage of NX.Dialogs API-  * -Review all usage of NX.Security API-  * -Review all usage of 'waitMsg:' specifications    Classes in nexus-rapture-plugin:  * -NX.view.AboutWindow-  * -NX.view.Authenticate-  * -NX.view.ExpireSession-  * -NX.view.UnsupportedBrowser-  * -NX.view.header.AdminMode-  * -NX.view.header.BrowseMode-  * -NX.view.header.UserMode-  * -NX.view.header.Help-  * -NX.view.header.Messages-  * -NX.view.feature.NotFound-    Classes in nexus-coreui-plugin:  * -NX.coreui.controller.Metrics-  * -NX.coreui.controller.NuGetRepositorySettings-    -Pending further investigation fore coreui and proui modules.-"""
"NEXUS-7991","Task","Scheduled Tasks|UI",0.5,"Remove deprecated Task from NX3","""While reviewing https://issues.sonatype.org/browse/NEXUS-7895 I loaded the Download Nuget Feed task and noticed some text weirdness however [~mcculls] pointed out this had been depreciated in NX2 (.9) and should probably be removed from NX3.    Creating a task for evaluation/doing.  If this is WONTFIXed, the text could use some work (ref: 1/22/2015 email).  I did not check older versions of NX3 at this time.    Acceptance Criteria:  * Remove """"Download Nuget Feed"""" task"""
"NEXUS-7988","Improvement","UI",0.5,"Tasks: Improve helper text by removing and rebuilding title text","""While reviewing NEXUS-7895, I noticed that the helper text for Evict Unused Proxied Items From Repository Caches task for the """"Evict items older than (days)"""" was as attached but I felt grammatically wrong.    After discussion with [~simpligility] and [~dsauble], we decided to remove that helper text and instead change the title to """"Evict unused proxy items older than (days)"""" (so it would encompass the elements of the helper text that were removed).    I did not check NX2 at this time as I have been told to expect no UI changes for that.  I did not check older versions of NX3 either.    Acceptance Criteria:  * Remove helper text from Evict Unused Proxy Items task  * The title of Evict Unused Proxy Items will be """"Evict unused proxy items older than (days)"""""""
"NEXUS-8004","Bug","Repository",1,"""failed content integrity validation"" message when remote returns 404","""https://github.com/sonatype/nexus-oss/blob/nexus-2.11.x/components/nexus-core/src/main/java/org/sonatype/nexus/proxy/repository/AbstractProxyRepository.java#L1510-1510    https://github.com/sonatype/nexus-oss/blob/nexus-2.11.x/components/nexus-core/src/main/java/org/sonatype/nexus/proxy/repository/AbstractProxyRepository.java#L1259-1259    Prints a concerning log message stating """"failed content integrity validation"""" when in actual fact, the remote may have responded with 404 or other implied 'not found' status code.    Instead, print a log message indicating the status code and more exact reason the file was detected as not valid.    To reproduce:  # Change logging level of ROOT to DEBUG  # Request a file through a Maven proxy repository that the remote will return 404 for.  # examine the logs for the message """"failed content integrity validation""""        """
"NEXUS-7996","Bug","Security|UI",2,"Users: Changing dropdown does not show list until refresh","""In NX3 Cowbell SNAPSHOT, I noticed that on the users page, when I changed from """"Default"""" to """"All Configured Users"""" the 2nd list was empty.  After review, I found that the list would show contents if I refreshed (via the button on the page, not the browser).  I checked NX2 and the same behavior seems to occur except that the dropdown defaults to """"All Configured Users"""" but shows no contents when switching to """"All Users"""" (for example).    Attaching screen (of server with all 3 default users; NX3), let me know if unclear, and I can do a movie.    Acceptance Criteria:  * When changing dropdown, refresh and display all users who are in results of the new dropdown selected."""
"NEXUS-7995","Improvement","Proxy Repository",1,"Update HttpClient dependencies","""Update HttpClient and HttpCore to:  * HttpClient 4.3.6, release notes https://issues.apache.org/jira/secure/ReleaseNote.jspa?projectId=12310360&version=12327489  * HttpCore 4.3.3, release notes https://issues.apache.org/jira/secure/ReleaseNote.jspa?projectId=12310340&version=12326260"""
"NEXUS-8020","Improvement","Capabilities|UI|Yum",0.5,"Clarify Yum Capability helper text","""Reviewing Capabilities I noticed that in Yum: Generate Metadata and Yum: Staging Generate Metadata that the Aliases field had helper text """"Format: =[,=]"""".    I had no idea what this meant and after reviewing the book at [~simpligility]'s prompting, I found that it means that the Aliases field is comma delineated (i.e. production=1.2,testing=2.0).    Even knowing this, I feel this is unclear.  Suggest we replace with that fact or just put an example (either in helper text or in greytext in the field itself).    I did not check older versions of NX3 at this time."""
"NEXUS-8039","Improvement","NPM",1,"performance advice in logs when querying npm all resource","""Create an npm group repo with the following members:    npm-hosted ( hosted npm repo )  npm-proxy ( https://registry.npmjs.org )  npm-strongloop ( http://npm.strongloop.com/ )  npm-nodejitsu ( https://registry.nodejitsu.com )    make a query to:        Some performance related advice prints in logs. Is this advice we need to follow?    """
"NEXUS-8037","Improvement","Maven|Scheduled Tasks|UI",0.5,"Improve task helper text by clarifying acronym","""Last week I noticed in the """"Remove Releases From Repository"""" task there was helper text for the Number to Keep field: """"The number of versions for each GA to keep"""".    What GA was was unclear to me.  [~simpligility] clarified it was the first two portions of GAV - GroupIdArtifactId but suggested it could be clarified to """"The number of versions for each artifact identifier to keep"""".    I was going to leave this alone and chalk to my newness but other team members thought clarify valuable as well.    The message is the same in NX2 (though I expect the change will just be NX3)."""
"NEXUS-8036","Improvement","User Token",0.5,"User Token Protect Content feature should return 401 with message","""Enable User Token and the Protect Content feature.    When a request is made to a /content path with valid credentials that are not Nexus user token credentials, Nexus responds with 401, but no entity explaining why.     Problems:   - the end user is confused, because they know they have entered technically valid organization credentials.  - the Nexus admin is confused because they either have forgotten about or were not the ones who setup the Protect Content feature, or just assume protecting content is a good idea, so leave the box enabled.  - the Protect Content feature is valuable, but it is a rather odd special case that affects all realms in Nexus because of the special Token it creates internally, so an administrator is not reminded it may be in play because it is not near where all the other realms are configured  - a Nexus admin must enable DEBUG and TRACE logs to see why there was a 401, assuming they can even understand what loggers to enable and what to look for        Improvement: Simple continue to respond with 401, but include a simple message body explaining the reasoning - that user token credentials are being enforced in Nexus. In this way a simple test using curl that gets 401 response will help the admin, end user or Sonatype Support in quickly identifying the problem.    """
"NEXUS-8043","Bug","NPM",1,"rebuild hosted npm metadata task metadata parsing errors","""Tried to run rebuild hosted npm metadata task ( new in 2.11.2 ) against about 500MB of tgz packages from the strongloop registry.    https://drive.google.com/file/d/0B2wPMwl-8cOXdmMtYlUyWjJ4STQ/view?usp=sharing    Had several messages of concern - unsure as to the overall seriousness of each of these:          """
"NEXUS-8057","Bug","UI",2,"Double click resize column does not show full column contents sometimes","""In NEXUS-7959 it was revealed (#3) that you can double click column headers to expand contents to full width, giving this column """"priority"""".  I noticed when you do this with columns with shorter content (like Status) part of the words remain cutoff.  I suspect this is because the column width includes the filter dropdown but the space for the contents does not (not sure tho, but that is how it appears).    I did not check NX2 at this time.    Acceptance Criteria:  * If I double click to see contents of a column, I want to see full contents, not ellipsed contents."""
"NEXUS-8056","Bug","UI",2,"Hiding and restoring columns resizes weirdly","""While reviewing NEXUS-7959 (#1), from Repositories (Admin>Repository>Repositories) I removed the type column then added it back (having the original columns there) and noticed that many of the columns, including the lengthy name column were super small.    I am not sure if this was because of NEXUS-7959 but I definitely think the resizing could be better.  On refresh, everything resizes correctly, but on refresh all the hidden columns are restored as well, so that doesn't really mean much.  Waffled between Improvement and Bug; feel free to swap it if you want.    If unclear/you prefer a movie let me know.    I did not check NX2 at this time; I suspect NX3 specific."""
"NEXUS-8062","Bug","NPM",2,"impossible to delete stale hosted npm repository metadata","""Create a npm hosted repo with id 'npm-hosted'.  Publish one package into it.  Hit the /-/all resource for this repo. Verify the published package metadata.  Delete the entire npm hosted repo using the repository Delete button.  Create another npm hosted repo with the same id.  Hit the /-/all resource for this repo again - you still get metadata about the first repo even though the new repo contains nothing.    Similar:  delete all the content from a hosted npm repo but leave the repo itself. Nexus still serves metadata about packages which do not exist. Expire cache on the hosted repo does not help.  """
"NEXUS-8070","Bug","Security",2,"forgot password feature performs badly with external realms","""The forgot username/password feature rest resource ( /service/local/users_forgotid ) of Nexus can cause performance issues against an external realm.    We should consider options such as:    - optimizing the generic queries that the resource performs for external users   - provide a configurable way to disable the feature  - consider removing the feature entirely if that is easier  - removing the Forgot Username and Forgot Password resource privs from the built in anonymous role.    Acceptance Criteria:  - Remove Forgot Password/Username feature from UI (just remove the js code)    """
"NEXUS-8066","Improvement","Proxy Repository",1,"Apache HttpClient 4.4 is out","""Apache HttpClient 4.4 is out, is worth to consider updating to it sometime soon."""
"NEXUS-8080","Bug","Proxy Repository",1,"concurrent request paths cause ItemNotFoundException during population of not found cache","""Create a Maven 2 proxy repository to https://download.newrelic.com called `Yum-Newrelic`    **While** a request at this path is executing ( and ultimately returns with 302 or 404 ):        before this request ends, a request at these paths at the same time fail or throw errors:                  """
"NEXUS-8077","Bug","Support Tools",1,"OFF log level for Loggers visible as TRACE in the UI","""Add a new Logger or change an existing logger level to {{OFF}}.    Upon Saving this logger, the level is displayed as TRACE in the UI. In reality the logger is in fact OFF in logback-overrides.xml"""
"NEXUS-8076","Bug","Support Tools",0.5,"support zip generation fails if system has mounted clearcase volumes","""Support zip generation can fail when processing clearcase volumes:    {quote}  2015-02-03 16:11:20 ERROR [qtp1900065549-63898] admin org.sonatype.nexus.atlas.internal.SupportZipGeneratorImpl - Failed to create support ZIP  java.nio.file.NoSuchFileException: /vobs/tag/pvob_orc  at sun.nio.fs.UnixException.translateToIOException(UnixException.java:86) ~[na:1.7.0_07]  at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:102) ~[na:1.7.0_07]  at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:107) ~[na:1.7.0_07]  at sun.nio.fs.UnixFileStore.readAttributes(UnixFileStore.java:111) ~[na:1.7.0_07]  at sun.nio.fs.UnixFileStore.getTotalSpace(UnixFileStore.java:118) ~[na:1.7.0_07]    {quote}    We should catch and log this exception, and then keep going."""
"NEXUS-8083","Bug","Browse Remote|Transport",1," Connection leak in Browse Remote when content encoding is gzip","""There is a connection leak triggered when using the Browse Remote feature.    h4. Symptoms    Logs contain these types of messages:    bq. 2015-02-23 08:57:27 WARN  [850148762-12088] - org.sonatype.nexus.plugins.rrb.MavenRepositoryReader - Failed to get directory listing content   bq. org.apache.http.conn.ConnectionPoolTimeoutException: Timeout waiting for connection from pool    h4. Cause    Under normal circumstances the leak is handled gracefully by GC and HttpClient. Still, in case when remote uses Content-Encoding: gzip and/or chunked transfer encoding, the connections are NOT reused even after longer period, leading to connection pool depletion.    h5. Original reporter's description:    {quote}  When I'm browsing a remote maven repository in 2.11.1-01, after maybe ~20 steps through the remote repository tree, I get an infinitly spinning cirle. Refresh doesn't work either. The only way to continue browsing the repository is to restart Nexus.     This seems to impede all communication with the remote repository. Downloading a file that has not yet been cached locally doesn't work either in this state.  {quote}    h4. Workaround    For immediate mitigation a Nexus restart is required to free the leaking connections.    For temporary mitigation until you upgrade to a fixed Nexus version, install the version specific patched jars attached to this issue.      """
"NEXUS-8111","Bug","UI",0.5,"On Login, Password appears filled in IE11","""While reviewing my Windows 7 VM, on Nexus 3 login, I noticed that the password field already had *s in it.  I think they were a lighter grey (same color as the guide text) but I'm not 100% sure.  This does not occur in MacOSX or CentOS.  I am pretty sure it does not occur in NX2 (W7) either but I did not double check due to it being NX2 UI and us not reviewing that right now.    I felt this confusing and worth making the same as others """"Password"""" if possible."""
"NEXUS-8130","Bug","Staging|Yum",2,"Regression: Yum enabled staging repositories can't be released if target release repository contains yum metadata","""# Configure a hosted repository to allow yum metadata generation.  # Deploy an rpm into the hosted repository  # Configure a staging profile to allow yum metadata generation, and to release into the hosted repository used in step 1  # Stage an rpm, then try to release it    This will fail with a message like this:    {quote}  Artifact updating: Repository ='releases:Releases' does not allow updating artifact='/repodata/repomd.xml'  {quote}    This is a regression, in 2.10.0 the above scenario works without any problems.    In Nexus 2.11.1 if you try to release a staging repository that has yum metadata generation enabled it will fail if the target repository has a """"repodata/repomd.xml"""" file in it already."""
"NEXUS-8128","Improvement","UI",0.5,"Store state of grid columns and sorting","""As a user, if I add columns to a results page, I would like them to remain that way at least for the duration of my session.    ---    While testing CLM, I searched and then added Security Issues and License Threat columns to see the results.  Unsatisfied I did another search and noticed that those added columns were removed.    I realized we just talked about this in a semi-recent meeting but did not see a ticket.  I also assume this is behaving as desired and is not a bug.  If I am wrong, please feel free to adjust the issue type.    While my example was for search, I think this use case would be good for all pages.  There was discussion about making this longer than a session, which would solve the minimal case I mentioned above.    I did not test NX3 at this time because I believe search (specifically) is in flux.    Note:  - Could be a mixin that handles this (http://docs-origin.sencha.com/extjs/4.2.3/#!/api/Ext.state.Stateful)    Tech Direction:  - Configure grids to be stateful"""
"NEXUS-8148","Improvement","Scheduled Tasks",0.5,"Add scheduled tasks list filter when creating tasks","""In Nexus 3, when creating a new scheduled task, add a filter to help you find named tasks easier.    """
"NEXUS-8157","Bug","UI",0.5,"Both timeout and server disconnect messages can be shown","""Talking to Daniel last week, he mentioned that Jason had noticed both timeout and server shutdown popouts before (see screen).  Today at lunch, my NX3 (Dizzam SNAPSHOT) timed out so I went ahead and shut down the server and was able to reproduce this behavior.  The only difference in my experience was my timeout message was first (thus grey not focused/white) rather than server, probably because it was the first to occur.  Since disconnected and needing action on both events, once you receive one popout, do not believe there is value in having the other so logging a bug for evaluation."""
"NEXUS-8159","Bug","Logging|NuGet",0.5,"verbose WARN on NuGet proxy RemoteItemNotFoundException should be logged similar to other repository types","""When a request for a remote NuGet package is made and the result is 404 not found, Nexus should not print a full WARN stack trace.        Expected: Log in a manner consistent with other proxy repository types on remote item not found."""
"NEXUS-8192","Bug","UI",0.5,"Subheader text contains redundancy with content","""In NEXUS-7758, the capability details were merged from 4 areas to 2.  One of the things that moved was the Notes (About) section.  However, in the post-deploy, I noticed that the details area has a header """"Notes"""" but the old details also have """"Notes:"""".  I checked with [~dsauble] and we agree it's redundancy and can be removed.  Because so much of NEXUS-7758 is working, filing a separate ticket to avoid failing the """"parent"""" over something so small.  See attached for how it is now (one example), if you need more or old screens let me know.  Because of recent adjustment this is not an issue in NX2 or NX3-m3 (or earlier)."""
"NEXUS-8186","Bug","RubyGems",1,"RubyGems repository - error fetching gem from internal gem server ","""I can't install gem locally that is stored in internal gem server    I followed the instructions in chapter 18 in the """"Repository Management with Nexus"""" manual: http://books.sonatype.com/nexus-book/2.11/pdf/nxbook-pdf.pdf    I am using nexus-2.11.2-03    I can install gems that are found on RubyGems.org but I can't install gems that are in my internal gem server. I am able to install the nexus gem and push my internal gem to the internal gem repository. Everything documented in chapter 18 works for me except for the fetching (installing) of gem that is in my internal repository.     I tried to install it using gem as well as bundler and both failed. Attached are the logs, the first test was using gem to install:    gem install amt_modules -v 1.0.3  jvm 1    | 2015-02-25 15:12:40,714+0000 WARN  [qtp1997550262-52] deployment org.sonatype.nexus.proxy.storage.local.fs.DefaultFSPeer - Could not delete file: C:\nexus\sonatype-work\nexus\storage\gems-internal\specs.4.8.gz  jvm 1    | java.nio.file.FileSystemException: C:\nexus\sonatype-work\nexus\storage\gems-internal\specs.4.8.gz: The process cannot access the file because it is being used by another process.    second test was to setup bundler and once run I got an different exception:    bundle install  jvm 1    | 2015-02-25 15:18:43,261+0000 WARN  [qtp1997550262-55] anonymous org.sonatype.nexus.plugins.ruby.proxy.DefaultProxyRubyRepository - Failed URL retrieve/cache: https://rubygems.org  jvm 1    | java.nio.file.InvalidPathException: Illegal char <?> at index 69: C:\nexus\sonatype-work\nexus\storage\rubygems-org\api\v1\dependencies?gems=amt_modules  jvm 1    |  at sun.nio.fs.WindowsPathParser.normalize(Unknown Source) ~[na:1.8.0_25]  """
"NEXUS-8199","Bug","LDAP|UI",1,"Cannot save (fake) LDAP connection after creation","""Testing NEXUS-7758, I created a fake LDAP connection configuration to make sure the process was still functionally working (as well as graphic changes were made).  I was able to do this however when I went back in to check editing, on save, I got this error.  If I had to guess, I'd say it is checking if my setup is valid on save.  m3 does not do this so if not intentional this is regression.  NOTE: If intentional it is weird to me the initial save works.  I am making an additional assumption that this does not have anything to do with the (fake) variables I entered as I did several several different times, but if you can't repro and want more info about what I put in, let me know.    I did not check NX2 at this time.    {quote}  2015-02-25 16:01:39,947-0500 ERROR [qtp245357559-132] admin com.softwarementors.extjs.djn.router.processor.standard.json.JsonRequestProcessor - (Controlled) server error: Failed attempt to convert from a json string to java method parameters. Method='ldap_LdapServer.update', Json string='[{""""order"""":1,""""url"""":""""ldap://whatever:1/dc=joe"""",""""useTrustStore"""":false,""""authRealm"""":null,""""authUsername"""":null,""""authPassword"""":null,""""userSubtree"""":false,""""userMemberOfAttribute"""":""""memberOf"""",""""ldapGroupsAsRoles"""":false,""""groupType"""":null,""""groupBaseDn"""":null,""""groupSubtree"""":false,""""groupIdAttribute"""":null,""""groupMemberAttribute"""":null,""""groupMemberFormat"""":null,""""groupObjectClass"""":null,""""id"""":""""cf24ad56-513f-4137-9b9b-99f639bcf55d"""",""""name"""":""""a"""",""""protocol"""":""""ldap"""",""""host"""":""""whatever"""",""""port"""":""""1"""",""""searchBase"""":""""dc=joe"""",""""authScheme"""":""""none"""",""""connectionTimeout"""":""""30"""",""""connectionRetryDelay"""":""""300"""",""""maxIncidentsCount"""":""""3"""",""""combo-1569-inputEl"""":"""""""",""""userBaseDn"""":"""""""",""""userObjectClass"""":""""inetOrgPerson"""",""""userLdapFilter"""":"""""""",""""userIdAttribute"""":""""uid"""",""""userRealNameAttribute"""":""""cn"""",""""userEmailAddressAttribute"""":""""mail"""",""""userPasswordAttribute"""":""""userPassword"""",""""backupMirrorProtocol"""":"""""""",""""backupMirrorHost"""":"""""""",""""backupMirrorPort"""":"""""""",""""backupMirrorEnabled"""":false}]', ExpectedTypes='org.sonatype.nexus.ldap.internal.ui.LdapServerXO' for Method 'ldap_LdapServer.update'  com.softwarementors.extjs.djn.gson.JsonException: Failed attempt to convert from a json string to java method parameters. Method='ldap_LdapServer.update', Json string='[{""""order"""":1,""""url"""":""""ldap://whatever:1/dc=joe"""",""""useTrustStore"""":false,""""authRealm"""":null,""""authUsername"""":null,""""authPassword"""":null,""""userSubtree"""":false,""""userMemberOfAttribute"""":""""memberOf"""",""""ldapGroupsAsRoles"""":false,""""groupType"""":null,""""groupBaseDn"""":null,""""groupSubtree"""":false,""""groupIdAttribute"""":null,""""groupMemberAttribute"""":null,""""groupMemberFormat"""":null,""""groupObjectClass"""":null,""""id"""":""""cf24ad56-513f-4137-9b9b-99f639bcf55d"""",""""name"""":""""a"""",""""protocol"""":""""ldap"""",""""host"""":""""whatever"""",""""port"""":""""1"""",""""searchBase"""":""""dc=joe"""",""""authScheme"""":""""none"""",""""connectionTimeout"""":""""30"""",""""connectionRetryDelay"""":""""300"""",""""maxIncidentsCount"""":""""3"""",""""combo-1569-inputEl"""":"""""""",""""userBaseDn"""":"""""""",""""userObjectClass"""":""""inetOrgPerson"""",""""userLdapFilter"""":"""""""",""""userIdAttribute"""":""""uid"""",""""userRealNameAttribute"""":""""cn"""",""""userEmailAddressAttribute"""":""""mail"""",""""userPasswordAttribute"""":""""userPassword"""",""""backupMirrorProtocol"""":"""""""",""""backupMirrorHost"""":"""""""",""""backupMirrorPort"""":"""""""",""""backupMirrorEnabled"""":false}]', ExpectedTypes='org.sonatype.nexus.ldap.internal.ui.LdapServerXO'   at com.softwarementors.extjs.djn.gson.JsonException.forFailedConversionFromJsonStringToMethodParameters(JsonException.java:62) [org.sonatype.nexus.plugins.nexus-extdirect-plugin:3.0.0.SNAPSHOT]   at com.softwarementors.extjs.djn.router.processor.standard.json.JsonRequestProcessor.jsonDataToMethodParameters(JsonRequestProcessor.java:273) [org.sonatype.nexus.plugins.nexus-extdirect-plugin:3.0.0.SNAPSHOT]   at com.softwarementors.extjs.djn.router.processor.standard.json.JsonRequestProcessor.getIndividualRequestParameters(JsonRequestProcessor.java:255) [org.sonatype.nexus.plugins.nexus-extdirect-plugin:3.0.0.SNAPSHOT]   at com.softwarementors.extjs.djn.router.processor.standard.json.JsonRequestProcessor.processIndividualRequest(JsonRequestProcessor.java:494) [org.sonatype.nexus.plugins.nexus-extdirect-plugin:3.0.0.SNAPSHOT]   at com.softwarementors.extjs.djn.router.processor.standard.json.JsonRequestProcessor.processIndividualRequestsInThisThread(JsonRequestProcessor.java:150) [org.sonatype.nexus.plugins.nexus-extdirect-plugin:3.0.0.SNAPSHOT]   at com.softwarementors.extjs.djn.router.processor.standard.json.JsonRequestProcessor.process(JsonRequestProcessor.java:133) [org.sonatype.nexus.plugins.nexus-extdirect-plugin:3.0.0.SNAPSHOT]   at com.softwarementors.extjs.djn.router.RequestRouter.processJsonRequest(RequestRouter.java:83) [org.sonatype.nexus.plugins.nexus-extdirect-plugin:3.0.0.SNAPSHOT]   at com.softwarementors.extjs.djn.servlet.DirectJNgineServlet.processRequest(DirectJNgineServlet.java:617) [org.sonatype.nexus.plugins.nexus-extdirect-plugin:3.0.0.SNAPSHOT]   at com.softwarementors.extjs.djn.servlet.DirectJNgineServlet.doPost(DirectJNgineServlet.java:580) [org.sonatype.nexus.plugins.nexus-extdirect-plugin:3.0.0.SNAPSHOT]   at org.sonatype.nexus.extdirect.internal.ExtDirectServlet.doPost(ExtDirectServlet.java:124) [org.sonatype.nexus.plugins.nexus-extdirect-plugin:3.0.0.SNAPSHOT]   at javax.servlet.http.HttpServlet.service(HttpServlet.java:707) [javax.servlet-api:3.1.0]   at javax.servlet.http.HttpServlet.service(HttpServlet.java:790) [javax.servlet-api:3.1.0]   at com.google.inject.servlet.ServletDefinition.doServiceImpl(ServletDefinition.java:297) [org.sonatype.sisu.guice:3.2.5]   at com.google.inject.servlet.ServletDefinition.doService(ServletDefinition.java:281) [org.sonatype.sisu.guice:3.2.5]   at com.google.inject.servlet.ServletDefinition.service(ServletDefinition.java:186) [org.sonatype.sisu.guice:3.2.5]   at com.google.inject.servlet.AbstractServletPipeline.service(AbstractServletPipeline.java:65) [org.sonatype.sisu.guice:3.2.5]   at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:85) [org.sonatype.sisu.guice:3.2.5]   at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:112) [org.apache.shiro.web:1.2.3]   at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:82) [org.sonatype.sisu.guice:3.2.5]   at org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilterChain.java:61) [org.apache.shiro.web:1.2.3]   at org.apache.shiro.web.servlet.AdviceFilter.executeChain(AdviceFilter.java:108) [org.apache.shiro.web:1.2.3]   at org.apache.shiro.web.servlet.AdviceFilter.doFilterInternal(AdviceFilter.java:137) [org.apache.shiro.web:1.2.3]   at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:125) [org.apache.shiro.web:1.2.3]   at org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilterChain.java:66) [org.apache.shiro.web:1.2.3]   at org.apache.shiro.web.servlet.AbstractShiroFilter.executeChain(AbstractShiroFilter.java:449) [org.apache.shiro.web:1.2.3]   at org.sonatype.nexus.web.SecurityFilter.executeChain(SecurityFilter.java:87) [org.sonatype.nexus.core:3.0.0.SNAPSHOT]   at org.apache.shiro.web.servlet.AbstractShiroFilter$1.call(AbstractShiroFilter.java:365) [org.apache.shiro.web:1.2.3]   at org.apache.shiro.subject.support.SubjectCallable.doCall(SubjectCallable.java:90) [org.apache.shiro.core:1.2.3]   at org.apache.shiro.subject.support.SubjectCallable.call(SubjectCallable.java:83) [org.apache.shiro.core:1.2.3]   at org.apache.shiro.subject.support.DelegatingSubject.execute(DelegatingSubject.java:383) [org.apache.shiro.core:1.2.3]   at org.apache.shiro.web.servlet.AbstractShiroFilter.doFilterInternal(AbstractShiroFilter.java:362) [org.apache.shiro.web:1.2.3]   at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:125) [org.apache.shiro.web:1.2.3]   at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:82) [org.sonatype.sisu.guice:3.2.5]   at com.sonatype.nexus.licensing.internal.LicensingRedirectFilter.doFilter(LicensingRedirectFilter.java:136) [com.sonatype.nexus.plugins.nexus-licensing-plugin:3.0.0.SNAPSHOT]   at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:82) [org.sonatype.sisu.guice:3.2.5]   at com.codahale.metrics.servlet.AbstractInstrumentedFilter.doFilter(AbstractInstrumentedFilter.java:97) [com.codahale.metrics.servlet:3.0.2]   at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:82) [org.sonatype.sisu.guice:3.2.5]   at org.sonatype.nexus.internal.web.StandardHttpResponseHeadersFilter.doFilter(StandardHttpResponseHeadersFilter.java:80) [org.sonatype.nexus.core:3.0.0.SNAPSHOT]   at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:82) [org.sonatype.sisu.guice:3.2.5]   at org.sonatype.nexus.internal.web.ErrorPageFilter.doFilter(ErrorPageFilter.java:65) [org.sonatype.nexus.core:3.0.0.SNAPSHOT]   at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:82) [org.sonatype.sisu.guice:3.2.5]   at org.sonatype.nexus.internal.web.BaseUrlHolderFilter.doFilter(BaseUrlHolderFilter.java:68) [org.sonatype.nexus.core:3.0.0.SNAPSHOT]   at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:82) [org.sonatype.sisu.guice:3.2.5]   at com.google.inject.servlet.AbstractFilterPipeline.dispatch(AbstractFilterPipeline.java:100) [org.sonatype.sisu.guice:3.2.5]   at com.google.inject.servlet.GuiceFilter$1.call(GuiceFilter.java:133) [org.sonatype.sisu.guice:3.2.5]   at com.google.inject.servlet.GuiceFilter$1.call(GuiceFilter.java:130) [org.sonatype.sisu.guice:3.2.5]   at com.google.inject.servlet.GuiceFilter$Context.call(GuiceFilter.java:203) [org.sonatype.sisu.guice:3.2.5]   at com.google.inject.servlet.GuiceFilter.doFilter(GuiceFilter.java:130) [org.sonatype.sisu.guice:3.2.5]   at org.sonatype.nexus.bootstrap.osgi.DelegatingFilter.doFilter(DelegatingFilter.java:73) [org.sonatype.nexus.bootstrap:3.0.0.SNAPSHOT]   at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652) [org.eclipse.jetty.servlet:9.2.7.v20150116]   at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:585) [org.eclipse.jetty.servlet:9.2.7.v20150116]   at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143) [org.eclipse.jetty.server:9.2.7.v20150116]   at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:577) [org.eclipse.jetty.security:9.2.7.v20150116]   at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:223) [org.eclipse.jetty.server:9.2.7.v20150116]   at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1127) [org.eclipse.jetty.server:9.2.7.v20150116]   at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:515) [org.eclipse.jetty.servlet:9.2.7.v20150116]   at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:185) [org.eclipse.jetty.server:9.2.7.v20150116]   at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1061) [org.eclipse.jetty.server:9.2.7.v20150116]   at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141) [org.eclipse.jetty.server:9.2.7.v20150116]   at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:97) [org.eclipse.jetty.server:9.2.7.v20150116]   at com.codahale.metrics.jetty9.InstrumentedHandler.handle(InstrumentedHandler.java:175) [com.codahale.metrics.jetty9:3.0.2]   at org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:110) [org.eclipse.jetty.server:9.2.7.v20150116]   at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:97) [org.eclipse.jetty.server:9.2.7.v20150116]   at org.eclipse.jetty.server.Server.handle(Server.java:497) [org.eclipse.jetty.server:9.2.7.v20150116]   at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:310) [org.eclipse.jetty.server:9.2.7.v20150116]   at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:245) [org.eclipse.jetty.server:9.2.7.v20150116]   at org.eclipse.jetty.io.AbstractConnection$2.run(AbstractConnection.java:540) [org.eclipse.jetty.io:9.2.7.v20150116]   at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:635) [org.eclipse.jetty.util:9.2.7.v20150116]   at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:555) [org.eclipse.jetty.util:9.2.7.v20150116]   at java.lang.Thread.run(Thread.java:745) [na:1.7.0_71]  Caused by: com.google.gson.JsonSyntaxException: java.lang.NumberFormatException: For input string: """"""""   at com.google.gson.internal.bind.TypeAdapters$7.read(TypeAdapters.java:232) [org.sonatype.nexus.plugins.nexus-extdirect-plugin:3.0.0.SNAPSHOT]   at com.google.gson.internal.bind.TypeAdapters$7.read(TypeAdapters.java:222) [org.sonatype.nexus.plugins.nexus-extdirect-plugin:3.0.0.SNAPSHOT]   at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$1.read(ReflectiveTypeAdapterFactory.java:94) [org.sonatype.nexus.plugins.nexus-extdirect-plugin:3.0.0.SNAPSHOT]   at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory$Adapter.read(ReflectiveTypeAdapterFactory.java:178) [org.sonatype.nexus.plugins.nexus-extdirect-plugin:3.0.0.SNAPSHOT]   at com.google.gson.Gson.fromJson(Gson.java:791) [org.sonatype.nexus.plugins.nexus-extdirect-plugin:3.0.0.SNAPSHOT]   at com.google.gson.Gson.fromJson(Gson.java:855) [org.sonatype.nexus.plugins.nexus-extdirect-plugin:3.0.0.SNAPSHOT]   at com.softwarementors.extjs.djn.router.processor.standard.json.JsonRequestProcessor.jsonToJavaObject(JsonRequestProcessor.java:365) [org.sonatype.nexus.plugins.nexus-extdirect-plugin:3.0.0.SNAPSHOT]   at com.softwarementors.extjs.djn.router.processor.standard.json.JsonRequestProcessor.getMethodParameters(JsonRequestProcessor.java:315) [org.sonatype.nexus.plugins.nexus-extdirect-plugin:3.0.0.SNAPSHOT]   at com.softwarementors.extjs.djn.router.processor.standard.json.JsonRequestProcessor.jsonDataToMethodParameters(JsonRequestProcessor.java:269) [org.sonatype.nexus.plugins.nexus-extdirect-plugin:3.0.0.SNAPSHOT]   ... 68 common frames omitted  Caused by: java.lang.NumberFormatException: For input string: """"""""   at java.lang.NumberFormatException.forInputString(NumberFormatException.java:65) [na:1.7.0_71]   at java.lang.Integer.parseInt(Integer.java:504) [na:1.7.0_71]   at java.lang.Integer.parseInt(Integer.java:527) [na:1.7.0_71]   at com.google.gson.JsonPrimitive.getAsInt(JsonPrimitive.java:255) [org.sonatype.nexus.plugins.nexus-extdirect-plugin:3.0.0.SNAPSHOT]   at com.google.gson.internal.bind.JsonTreeReader.nextInt(JsonTreeReader.java:197) [org.sonatype.nexus.plugins.nexus-extdirect-plugin:3.0.0.SNAPSHOT]   at com.google.gson.internal.bind.TypeAdapters$7.read(TypeAdapters.java:230) [org.sonatype.nexus.plugins.nexus-extdirect-plugin:3.0.0.SNAPSHOT]   ... 76 common frames omitted  {quote}    This is borderline major because of the error however because this only happens (as far as I know) with a fake configuration and optimally users will only ever have legitimate configurations, leaving minor for now.  Workaround would be to use a correct configuration."""
"NEXUS-8197","Bug","LDAP|UI",1,"Creating (fake) LDAP errors w/ ""Map LDAP groups as roles"" unchecked","""While testing NEXUS-7758, I created a fake LDAP just to make sure all the newly formed dialogues were working functionally.  Note, my intention was not to create a real LDAP setup and I don't think that matters in this case.    After filling out Connection information and clicking next, I went to fill out """"User and group"""" information.  In past iterations, I had picked a configuration template but this time just filled in the required variables.  When I got down to Group Type, I decided to uncheck """"Map LDAP group as roles"""" (figuring correctly this would hide the required field, thus in essence making it fill).    On creation click, I got the following error in the log as well as a """"java.lang.IllegalArguementException"""" from the UI.  The UI error struck me the most because almost all of our warnings are defined so you can tell what the error was.    {quote}  2015-02-26 16:00:09,961-0500 ERROR [qtp904481188-171] admin org.sonatype.nexus.extdirect.internal.ExtDirectServlet - Failed to invoke action method: ldap_LdapServer.create, java-method: org.sonatype.nexus.ldap.internal.ui.LdapServerComponent.create  java.lang.IllegalArgumentException: null   at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) [na:1.7.0_71]   at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57) [na:1.7.0_71]   at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [na:1.7.0_71]   at java.lang.reflect.Method.invoke(Method.java:606) [na:1.7.0_71]   at org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:90) [groovy-all:2.3.7]   at groovy.lang.MetaMethod.doMethodInvoke(MetaMethod.java:324) [groovy-all:2.3.7]   at groovy.lang.MetaClassImpl.setProperty(MetaClassImpl.java:2662) [groovy-all:2.3.7]   at groovy.lang.MetaClassImpl.setProperty(MetaClassImpl.java:3702) [groovy-all:2.3.7]   at groovy.lang.MetaClassImpl.setProperties(MetaClassImpl.java:1741) [groovy-all:2.3.7]   at org.codehaus.groovy.runtime.callsite.ConstructorSite$NoParamSite.callConstructor(ConstructorSite.java:122) [groovy-all:2.3.7]   at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callConstructor(AbstractCallSite.java:190) [groovy-all:2.3.7]   at org.sonatype.nexus.ldap.internal.ui.LdapServerComponent.asCLdapServerConfiguration(LdapServerComponent.groovy:362) [na:na]   at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) [na:1.7.0_71]   at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57) [na:1.7.0_71]   at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [na:1.7.0_71]   at java.lang.reflect.Method.invoke(Method.java:606) [na:1.7.0_71]   at org.codehaus.groovy.runtime.callsite.PogoMetaMethodSite$PogoCachedMethodSiteNoUnwrapNoCoerce.invoke(PogoMetaMethodSite.java:207) [groovy-all:2.3.7]   at org.codehaus.groovy.runtime.callsite.PogoMetaMethodSite.callCurrent(PogoMetaMethodSite.java:56) [groovy-all:2.3.7]   at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callCurrent(AbstractCallSite.java:145) [groovy-all:2.3.7]   at org.sonatype.nexus.ldap.internal.ui.LdapServerComponent.create(LdapServerComponent.groovy:128) [na:na]   at org.sonatype.nexus.extender.modules.ValidationInterceptor.invoke(ValidationInterceptor.java:53) [na:na]   at org.apache.shiro.guice.aop.AopAllianceMethodInvocationAdapter.proceed(AopAllianceMethodInvocationAdapter.java:49) [na:na]   at org.apache.shiro.authz.aop.AuthorizingAnnotationMethodInterceptor.invoke(AuthorizingAnnotationMethodInterceptor.java:68) [na:na]   at org.apache.shiro.guice.aop.AopAllianceMethodInterceptorAdapter.invoke(AopAllianceMethodInterceptorAdapter.java:36) [na:na]   at org.apache.shiro.guice.aop.AopAllianceMethodInvocationAdapter.proceed(AopAllianceMethodInvocationAdapter.java:49) [na:na]   at org.apache.shiro.authz.aop.AuthorizingAnnotationMethodInterceptor.invoke(AuthorizingAnnotationMethodInterceptor.java:68) [na:na]   at org.apache.shiro.guice.aop.AopAllianceMethodInterceptorAdapter.invoke(AopAllianceMethodInterceptorAdapter.java:36) [na:na]   at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) [na:1.7.0_71]   at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57) [na:1.7.0_71]   at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [na:1.7.0_71]   at java.lang.reflect.Method.invoke(Method.java:606) [na:1.7.0_71]   at com.softwarementors.extjs.djn.router.dispatcher.DispatcherBase.invokeJavaMethod(DispatcherBase.java:142) [org.sonatype.nexus.plugins.nexus-extdirect-plugin:3.0.0.SNAPSHOT]   at com.softwarementors.extjs.djn.router.dispatcher.DispatcherBase.invokeMethod(DispatcherBase.java:133) [org.sonatype.nexus.plugins.nexus-extdirect-plugin:3.0.0.SNAPSHOT]   at org.sonatype.nexus.extdirect.internal.ExtDirectServlet$3.invokeMethod(ExtDirectServlet.java:204) [org.sonatype.nexus.plugins.nexus-extdirect-plugin:3.0.0.SNAPSHOT]   at com.softwarementors.extjs.djn.router.dispatcher.DispatcherBase.dispatch(DispatcherBase.java:63) [org.sonatype.nexus.plugins.nexus-extdirect-plugin:3.0.0.SNAPSHOT]   at com.softwarementors.extjs.djn.router.processor.standard.StandardRequestProcessorBase.dispatchStandardMethod(StandardRequestProcessorBase.java:73) [org.sonatype.nexus.plugins.nexus-extdirect-plugin:3.0.0.SNAPSHOT]   at com.softwarementors.extjs.djn.router.processor.standard.json.JsonRequestProcessor.processIndividualRequest(JsonRequestProcessor.java:502) [org.sonatype.nexus.plugins.nexus-extdirect-plugin:3.0.0.SNAPSHOT]   at com.softwarementors.extjs.djn.router.processor.standard.json.JsonRequestProcessor.processIndividualRequestsInThisThread(JsonRequestProcessor.java:150) [org.sonatype.nexus.plugins.nexus-extdirect-plugin:3.0.0.SNAPSHOT]   at com.softwarementors.extjs.djn.router.processor.standard.json.JsonRequestProcessor.process(JsonRequestProcessor.java:133) [org.sonatype.nexus.plugins.nexus-extdirect-plugin:3.0.0.SNAPSHOT]   at com.softwarementors.extjs.djn.router.RequestRouter.processJsonRequest(RequestRouter.java:83) [org.sonatype.nexus.plugins.nexus-extdirect-plugin:3.0.0.SNAPSHOT]   at com.softwarementors.extjs.djn.servlet.DirectJNgineServlet.processRequest(DirectJNgineServlet.java:617) [org.sonatype.nexus.plugins.nexus-extdirect-plugin:3.0.0.SNAPSHOT]   at com.softwarementors.extjs.djn.servlet.DirectJNgineServlet.doPost(DirectJNgineServlet.java:580) [org.sonatype.nexus.plugins.nexus-extdirect-plugin:3.0.0.SNAPSHOT]   at org.sonatype.nexus.extdirect.internal.ExtDirectServlet.doPost(ExtDirectServlet.java:124) [org.sonatype.nexus.plugins.nexus-extdirect-plugin:3.0.0.SNAPSHOT]   at javax.servlet.http.HttpServlet.service(HttpServlet.java:707) [javax.servlet-api:3.1.0]   at javax.servlet.http.HttpServlet.service(HttpServlet.java:790) [javax.servlet-api:3.1.0]   at com.google.inject.servlet.ServletDefinition.doServiceImpl(ServletDefinition.java:297) [org.sonatype.sisu.guice:3.2.5]   at com.google.inject.servlet.ServletDefinition.doService(ServletDefinition.java:281) [org.sonatype.sisu.guice:3.2.5]   at com.google.inject.servlet.ServletDefinition.service(ServletDefinition.java:186) [org.sonatype.sisu.guice:3.2.5]   at com.google.inject.servlet.AbstractServletPipeline.service(AbstractServletPipeline.java:65) [org.sonatype.sisu.guice:3.2.5]   at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:85) [org.sonatype.sisu.guice:3.2.5]   at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:112) [org.apache.shiro.web:1.2.3]   at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:82) [org.sonatype.sisu.guice:3.2.5]   at org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilterChain.java:61) [org.apache.shiro.web:1.2.3]   at org.apache.shiro.web.servlet.AdviceFilter.executeChain(AdviceFilter.java:108) [org.apache.shiro.web:1.2.3]   at org.apache.shiro.web.servlet.AdviceFilter.doFilterInternal(AdviceFilter.java:137) [org.apache.shiro.web:1.2.3]   at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:125) [org.apache.shiro.web:1.2.3]   at org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilterChain.java:66) [org.apache.shiro.web:1.2.3]   at org.apache.shiro.web.servlet.AbstractShiroFilter.executeChain(AbstractShiroFilter.java:449) [org.apache.shiro.web:1.2.3]   at org.sonatype.nexus.web.SecurityFilter.executeChain(SecurityFilter.java:87) [org.sonatype.nexus.core:3.0.0.SNAPSHOT]   at org.apache.shiro.web.servlet.AbstractShiroFilter$1.call(AbstractShiroFilter.java:365) [org.apache.shiro.web:1.2.3]   at org.apache.shiro.subject.support.SubjectCallable.doCall(SubjectCallable.java:90) [org.apache.shiro.core:1.2.3]   at org.apache.shiro.subject.support.SubjectCallable.call(SubjectCallable.java:83) [org.apache.shiro.core:1.2.3]   at org.apache.shiro.subject.support.DelegatingSubject.execute(DelegatingSubject.java:383) [org.apache.shiro.core:1.2.3]   at org.apache.shiro.web.servlet.AbstractShiroFilter.doFilterInternal(AbstractShiroFilter.java:362) [org.apache.shiro.web:1.2.3]   at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:125) [org.apache.shiro.web:1.2.3]   at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:82) [org.sonatype.sisu.guice:3.2.5]   at com.sonatype.nexus.licensing.internal.LicensingRedirectFilter.doFilter(LicensingRedirectFilter.java:136) [com.sonatype.nexus.plugins.nexus-licensing-plugin:3.0.0.SNAPSHOT]   at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:82) [org.sonatype.sisu.guice:3.2.5]   at com.codahale.metrics.servlet.AbstractInstrumentedFilter.doFilter(AbstractInstrumentedFilter.java:97) [com.codahale.metrics.servlet:3.0.2]   at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:82) [org.sonatype.sisu.guice:3.2.5]   at org.sonatype.nexus.internal.web.StandardHttpResponseHeadersFilter.doFilter(StandardHttpResponseHeadersFilter.java:80) [org.sonatype.nexus.core:3.0.0.SNAPSHOT]   at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:82) [org.sonatype.sisu.guice:3.2.5]   at org.sonatype.nexus.internal.web.ErrorPageFilter.doFilter(ErrorPageFilter.java:65) [org.sonatype.nexus.core:3.0.0.SNAPSHOT]   at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:82) [org.sonatype.sisu.guice:3.2.5]   at org.sonatype.nexus.internal.web.BaseUrlHolderFilter.doFilter(BaseUrlHolderFilter.java:68) [org.sonatype.nexus.core:3.0.0.SNAPSHOT]   at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:82) [org.sonatype.sisu.guice:3.2.5]   at com.google.inject.servlet.AbstractFilterPipeline.dispatch(AbstractFilterPipeline.java:100) [org.sonatype.sisu.guice:3.2.5]   at com.google.inject.servlet.GuiceFilter$1.call(GuiceFilter.java:133) [org.sonatype.sisu.guice:3.2.5]   at com.google.inject.servlet.GuiceFilter$1.call(GuiceFilter.java:130) [org.sonatype.sisu.guice:3.2.5]   at com.google.inject.servlet.GuiceFilter$Context.call(GuiceFilter.java:203) [org.sonatype.sisu.guice:3.2.5]   at com.google.inject.servlet.GuiceFilter.doFilter(GuiceFilter.java:130) [org.sonatype.sisu.guice:3.2.5]   at org.sonatype.nexus.bootstrap.osgi.DelegatingFilter.doFilter(DelegatingFilter.java:73) [org.sonatype.nexus.bootstrap:3.0.0.SNAPSHOT]   at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652) [org.eclipse.jetty.servlet:9.2.7.v20150116]   at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:585) [org.eclipse.jetty.servlet:9.2.7.v20150116]   at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143) [org.eclipse.jetty.server:9.2.7.v20150116]   at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:577) [org.eclipse.jetty.security:9.2.7.v20150116]   at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:223) [org.eclipse.jetty.server:9.2.7.v20150116]   at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1127) [org.eclipse.jetty.server:9.2.7.v20150116]   at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:515) [org.eclipse.jetty.servlet:9.2.7.v20150116]   at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:185) [org.eclipse.jetty.server:9.2.7.v20150116]   at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1061) [org.eclipse.jetty.server:9.2.7.v20150116]   at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141) [org.eclipse.jetty.server:9.2.7.v20150116]   at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:97) [org.eclipse.jetty.server:9.2.7.v20150116]   at com.codahale.metrics.jetty9.InstrumentedHandler.handle(InstrumentedHandler.java:175) [com.codahale.metrics.jetty9:3.0.2]   at org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:110) [org.eclipse.jetty.server:9.2.7.v20150116]   at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:97) [org.eclipse.jetty.server:9.2.7.v20150116]   at org.eclipse.jetty.server.Server.handle(Server.java:497) [org.eclipse.jetty.server:9.2.7.v20150116]   at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:310) [org.eclipse.jetty.server:9.2.7.v20150116]   at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:245) [org.eclipse.jetty.server:9.2.7.v20150116]   at org.eclipse.jetty.io.AbstractConnection$2.run(AbstractConnection.java:540) [org.eclipse.jetty.io:9.2.7.v20150116]   at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:635) [org.eclipse.jetty.util:9.2.7.v20150116]   at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:555) [org.eclipse.jetty.util:9.2.7.v20150116]   at java.lang.Thread.run(Thread.java:745) [na:1.7.0_71]  {quote}    My original test was in Safari but I confirmed in Chrome (both MacOSX).  After doing this, I found that if I left the box checked and filled in the value, everything worked (thus templates were also working).  After realizing that, I checked m3 and it was working there.  This also works in NX2.  This seems new to Dizzam."""
"NEXUS-8196","Bug","UI",2,"Timeout modal dialog does not appear sometimes (related JS error)","""While at lunch and shoveling, I timed out NX3 (Dizzam SNAPSHOT) again/as usual.    On return to my session however there was no popout saying it had timed out (as was implemented in m3).  Because of what I was testing, I did have my Javascript Console open and this was there:  """" POST http://localhost:8081/service/extdirect/poll/rapture_State_get 500 (javax.servlet.ServletException: Filtered request failed.)baseapp-prod.js?_v=3.0.0-SNAPSHOT&_dc=1424962738701:1 Ext.cmd.derive.requestbaseapp-prod.js?_v=3.0.0-SNAPSHOT&_dc=1424962738701:1 Ext.cmd.derive.runPollbaseapp-prod.js?_v=3.0.0-SNAPSHOT&_dc=1424962738701:1 Ext.cmd.derive.onTickbaseapp-prod.js?_v=3.0.0-SNAPSHOT&_dc=1424962738701:1 (anonymous function)    baseapp-prod.js?_v=3.0.0-SNAPSHOT&_dc=1424962738701:1""""    I'd never seen this fail before so it's intermittent.  However Daniel said he'd seen this before as well, so ticketing so not to lose the (presumably) associated debug."""
"NEXUS-8195","Bug","Yum",0.5,"Deadlock between yum merge metadata task and yum generate metadata task","""Concurrently running yum generate and merge metadata tasks can deadlock.    The generate yum metadata tasks tries to get locks on group metadata:    {quote}      pxpool-1-thread-11 id=181 state=WAITING      - waiting on <0x629c279d> (a java.util.concurrent.locks.ReentrantReadWriteLock$NonfairSync)      - locked <0x629c279d> (a java.util.concurrent.locks.ReentrantReadWriteLock$NonfairSync)      owned by qtp2025967620-804 id=804      at sun.misc.Unsafe.park(Native Method)      at java.util.concurrent.locks.LockSupport.park(LockSupport.java:186)      at java.util.concurrent.locks.AbstractQueuedSynchronizer.parkAndCheckInterrupt(AbstractQueuedSynchronizer.java:834)      at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireQueued(AbstractQueuedSynchronizer.java:867)      at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquire(AbstractQueuedSynchronizer.java:1197)      at java.util.concurrent.locks.ReentrantReadWriteLock$WriteLock.lock(ReentrantReadWriteLock.java:945)      at org.sonatype.nexus.yum.internal.YumGroupImpl.markDirty(YumGroupImpl.java:109)      at org.sonatype.nexus.yum.internal.task.GenerateMetadataTask.regenerateMetadataForGroups(GenerateMetadataTask.java:267)      at org.sonatype.nexus.yum.internal.task.GenerateMetadataTask.doRun(GenerateMetadataTask.java:183)      at org.sonatype.nexus.yum.internal.task.GenerateMetadataTask.doRun(GenerateMetadataTask.java:69)      at org.sonatype.nexus.scheduling.AbstractNexusTask.call(AbstractNexusTask.java:151)      at org.sonatype.scheduling.DefaultScheduledTask.call(DefaultScheduledTask.java:418)      at org.sonatype.nexus.threads.MDCAwareCallable.call(MDCAwareCallable.java:44)      at org.apache.shiro.subject.support.SubjectCallable.doCall(SubjectCallable.java:90)      at org.apache.shiro.subject.support.SubjectCallable.call(SubjectCallable.java:83)      at java.util.concurrent.FutureTask.run(FutureTask.java:262)      at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:178)      at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:292)      at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)      at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)      at java.lang.Thread.run(Thread.java:745)  {quote}    And the merge metadata tasks tries to get UID locks on the group repositories children, who (presumably) are not giving it to them because they're running generate metadata:    {quote}      pxpool-1-thread-4 id=157 state=WAITING      - waiting on <0x4a6f1c78> (a java.util.concurrent.Semaphore$FairSync)      - locked <0x4a6f1c78> (a java.util.concurrent.Semaphore$FairSync)      at sun.misc.Unsafe.park(Native Method)      at java.util.concurrent.locks.LockSupport.park(LockSupport.java:186)      at java.util.concurrent.locks.AbstractQueuedSynchronizer.parkAndCheckInterrupt(AbstractQueuedSynchronizer.java:834)      at java.util.concurrent.locks.AbstractQueuedSynchronizer.doAcquireShared(AbstractQueuedSynchronizer.java:964)      at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireShared(AbstractQueuedSynchronizer.java:1282)      at java.util.concurrent.Semaphore.acquireUninterruptibly(Semaphore.java:500)      at org.sonatype.sisu.locks.LocalResourceLock.acquire(LocalResourceLockFactory.java:83)      at org.sonatype.sisu.locks.AbstractSemaphoreResourceLock.lockShared(AbstractSemaphoreResourceLock.java:50)      at org.sonatype.nexus.proxy.item.SisuLockResource.lockShared(SisuLockResource.java:38)      at org.sonatype.nexus.proxy.item.DefaultRepositoryItemUidLock.lock(DefaultRepositoryItemUidLock.java:35)      at org.sonatype.nexus.proxy.repository.AbstractRepository.retrieveItem(AbstractRepository.java:757)      at org.sonatype.nexus.proxy.repository.AbstractRepository.retrieveItem(AbstractRepository.java:592)      at org.sonatype.nexus.yum.internal.task.MergeMetadataTask.getBaseDirsOfMemberRepositories(MergeMetadataTask.java:142)      at org.sonatype.nexus.yum.internal.task.MergeMetadataTask.doRun(MergeMetadataTask.java:102)      at org.sonatype.nexus.yum.internal.task.MergeMetadataTask.doRun(MergeMetadataTask.java:61)      at org.sonatype.nexus.scheduling.AbstractNexusTask.call(AbstractNexusTask.java:151)      at org.sonatype.scheduling.DefaultScheduledTask.call(DefaultScheduledTask.java:418)      at org.sonatype.nexus.threads.MDCAwareCallable.call(MDCAwareCallable.java:44)      at org.apache.shiro.subject.support.SubjectCallable.doCall(SubjectCallable.java:90)      at org.apache.shiro.subject.support.SubjectCallable.call(SubjectCallable.java:83)      at java.util.concurrent.FutureTask.run(FutureTask.java:262)      at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:178)      at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:292)      at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)      at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)      at java.lang.Thread.run(Thread.java:745)  {quote}"""
"NEXUS-8193","Task","Transport",0.5,"Upgrade to Jetty 9.2.9 or greater","""There is a vulnerability to avoid so we need to upgrade.    https://github.com/eclipse/jetty.project/blob/jetty-9.2.x/advisories/2015-02-24-httpparser-error-buffer-bleed.md    """
"NEXUS-8206","Bug","Scheduled Tasks|UI",2,"Possible to grey out create button","""While testing NEXUS-7758, I went to create a task and filtered, but realized I missed something so switched to repositories.  After finding the info I needed, I returned to Tasks but my create button was greyed out/unselectable.  I was able to repro this reliably by filtering on a second level (Tasks) returning to a base level (not even filtering) and then returning.  Steps below.    I went to see if this was an issue in m3 but as far as I can tell there are no second level filters in m3, this is a new concept to Dizzam.  This also does not affect NX2 (same reason but more basic).    Borderline minor as the workaround is to restart/refresh browser.    I do not believe this is related to where I found it but linking in case wrong and for completeness.    Steps:  1) Login to NX3 (Dizzam) as admin  2) Click Tasks (admin section, under System)  3) Click Create  4) Filter by something (like """"whatever"""")  5) Click Repositories (left nav item under Repository)  6) Click Tasks again.  BUG: Create is disabled/greyed out."""
"NEXUS-8226","Improvement","Repository",2,"Create a task to find and fix bad checksums affected by the extra link detection check","""See NEXUS-8221 and NEXUS-8178    The bad checksums are based on the first 8 bytes of the item plus the full content of the item. The task should search the item context and attributes for checksums that match and regenerate them."""
"NEXUS-8224","Task","Database",0.5,"Update OrientDB from 2.0.2 to 2.0.4","""Changes:    https://github.com/orientechnologies/orientdb/issues?q=milestone%3A2.0.4  https://github.com/orientechnologies/orientdb/issues?q=milestone%3A%222.0.3+%28hotfix%29%22  """
"NEXUS-8235","Bug","UI",0.5,"Certain errors hose the UI","""When certain errors (e.g. Ext.Direct errors) occur, the UI will refuse to load features until it is refreshed.    Example: http://take.ms/XG47F    We should change this behavior so failures are localized to features with bad implementations, and don’t affect the web UI globally."""
"NEXUS-8241","Improvement","Settings Templates|UI",1,"Add authentication guard before allowing template download","""Before allowing user to download settings template, ask for authentication, as the template could have sensitive information."""
"NEXUS-8247","Bug","Capabilities|UI",0.5,"Capabilities enabled box unchecked during creation","""While comparing NX2 and NX3, I discovered that on creation of Capabilities in NX3, the enabled checkbox is automatically unchecked.  In NX2, the enabled checkbox was automatically checked.  I emailed asked if anyone knew if this was intentional and several folks said it was regression, so I am filing.    There was note that some Capabilities we may want not checked to start.  I recently went through and created them all testing something unrelated and am pretty sure they are all functioning this way.  If you'd like me to recheck let me know.    While probably trivial priority (easy workaround to check the box), I am giving minor priority due to regression.  I did not check older versions of NX3 at this time."""
"NEXUS-8261","Improvement","Scheduled Tasks",1,"Add support to set base-url-holder value for scheduled tasks","""ATM we only invoke BaseUrlHolder.set() in servlet filter.  We need to have a means to set this in other context, like scheduled tasks."""
"NEXUS-8260","Improvement","Database",1,"Automatically set last updated date for assets and components","""As per March 12th discussion on nexus-cma list.    Acceptance criteria:  * Adding a component or asset record will automatically set the last_updated property to the current time.  * Updating a component or asset record will do the same.  * Works for all types of repositories automatically. Accordingly, this work should also drop the code that manually sets this property today for nuget and raw assets."""
"NEXUS-8278","Task","Database",1,"Add Component/Asset wrappers for OrientVertex","""This is a refactoring task to simplify existing format implementations and make it easier to unit test them by adding a Component and Asset wrappers for OrientVertex.    Where it makes sense, these will:  * Be returned by StorageFacet in place of OrientVertex  * Be used by existing format impls in place of direct OrientVertex access  * Take on some of the utility functionality of StorageTx (e.g. getAttributes) and format-specific helpers, if any are found that can be generalized.  * Include getters/setters for format-neutral properties"""
"NEXUS-8292","Bug","UI",0.5,"Investigate and fix failing functional tests","""Appears that something has changed in Repository Targets to cause the test to fail. It looks like in most cases the test framework fails to type the expected name completely. And the modal presented for the form definitely has some styling issues.  Failing tests have been quarantined until we sort this out.    http://bamboo.s/chain/result/viewChainResult.action?planKey=NX3-DISTT&buildNumber=43"""
"NEXUS-8291","Improvement","Repository",1,"make ?describe optionally return html or json","""It would be useful to get ?describe output as JSON in addition to HTML.    - scripting can parse JSON much more easily than html  - when requesting ?describe output from an end user for troubleshooting, asking the user to login to UI, and then using same browser session to request ?describe output is extra work to do and explain. In some cases, the user may not even be able to access the UI due to security restrictions  - it is much simpler to visually grok a JSON response on the cmd line  - a cmd line response as JSON can be more easily piped into JSON parsing tools to isolate specific data    Proposed Criteria:  - if the user agent implies a web browser is being used, return html, otherwise return JSON with the appropriate Content-Type header  - if the request Accept header explicitly requests either JSON or HTML, return it as requested  - the data (model) returned for both content types should be identical  - JSON pretty printed by default is preferable, but not absolutely required initially if it impacts the implementation significantly"""
"NEXUS-8288","Bug","Repository|Search",2,"Validate repository name","""Elasticsearch seems to be more finicky that our data model allows right now, and likely spaces in Repository names is something we want to support.      And after removing the space we find we don't allow uppercase letters:      To reproduce just add a new Repository in the UI with a space or capital letter in the name. An unhelpful error is shown in the UI: """"Failed to start facets""""    Minimally we should add validation to ensure that we don't allow invalid characters, as right now we end up with configured Repositories that cannot possibly function.    Acceptance criteria:  - names should be validated in the UI, and provide guidance when illegal names are tried  - names should be validated on the server using the same rules as the client(preventing abuse of the ExtDirect api)  - names should only allow (English) alphanumeric and  -_. (dash, underscore, period)  - names should be sanitized for elasticsearch usage in index names; this requires enforcing case-insensitive uniqueness of names as indexes are all lowercase"""
"NEXUS-8316","Bug","Staging",2,"Profile Target Matcher staging rule should not fail on file patterns not uploaded into a staging repository","""Setup    - Create a staging ruleset with a Profile Target Matcher Rule  - Create a Repository target that includes these typical patterns:  -- {{^/+com/example/.*}}  -- {{/|/com/|/com/example/.*}}  - Create a staging profile that references the repository target and uses the staging ruleset in the Close and promote set of rulesets to apply    Test  - Stage matching artifacts against this staging profile to create a closed staging repository. This works, as the ruleset patterns match  - Try to release the staging repository. This fails because of the Profile target matcher rule. Nexus created a {{/archetype-catalog.xml}} file on close, and the repository target pattern does not match this.    Expected  - one should not have to add patterns to a repository target for files generated by Nexus in order to apply the Profile Target Matcher rule on a staging repository  - one should still be allowed to apply this rule on Release/Promotion, in case the repository target has changed since the staging repository was closed    """
"NEXUS-8324","Bug","Search",2,"Checksum search should be case insensitive","""When doing a search for the sha1 hash I was unable to locate the file I was expecting. The tool I was using was generating an upper case hash string which didn't match.    e.g. for http://search.maven.org/#artifactdetails|org.springframework.ws|spring-ws-core|2.2.0.RELEASE|jar  {code:XML}  <dependency>      <groupId>org.springframework.ws</groupId>      <artifactId>spring-ws-core</artifactId>      <version>2.2.0.RELEASE</version>  </dependency>  {code}    The lower case hash works  f5de942e30c3c047a273b5bb42cc5c71d3303fcb  The upper case does not.  F5DE942E30C3C047A273B5BB42CC5C71D3303FCB    Acceptance criteria:    * Make the keyword field case insensitive    Technical notes:    * This will require a reindex"""
"NEXUS-8343","Improvement","Build",1,"make it easier to find the nexus software license","""The LICENSE.txt file in the Nexus OSS bundle doesn't contain the license Nexus is licensed under, instead it contains the license for the health check plugin.      The EPL software license is actually in the NOTICE.txt file in the bundle.    This is confusing, it seems to me the contents of the files should be reversed.    The github project also doesn't show the license, you need to look at source code headers to figure it out.    """
"NEXUS-8356","Task","Build",1,"Use “present” instead of the current year in the copyright notice","""So we don’t have to update it every year. Do this:    Copyright © 2008-present, Sonatype Inc. All rights reserved."""
"NEXUS-8352","Bug","IQ Integration|UI",0.5,"Typo in CLM Server helper text","""Noticed that the CLM>Server page helper text says """"empty a password"""" for the Password field.  Believe this a typo and should be """"enter a password"""".  I did not check NX2 or older NX3 versions at this time."""
"NEXUS-8389","Bug","NPM",0.5,"npm plugin does not work with UNC paths","""Install Nexus on a path which can be mounted using UNC on Windows.  Start a Powershell console  ( CMD console doesn't like UNC paths ) and change directory to the UNC path when the nexus.bat script lives  Start Nexus with {{./nexus console}}  Notice the Orient database used by the NPM plugin logs some errors on startup, yet the Nexus NPM plugin starts successfully.        Now the NPM plugin is in a bad state. For example, a user can still create npm repositories in Nexus without problem. However simple npm client operations fail in strange ways. Once such way is:    1. Create a npm-proxy repository to https://registry.npmjs.org  2. npm install bower  3. Nexus reports: 404 - Request is serviced by NPM metadata service, remote access not needed from DefaultNpmProxyRepository(id=npm-proxy)    """
"NEXUS-8399","Bug","UI",0.5,"Cannot create an LDAP connection","""This was broken by the recent “unsaved changes” work. The LDAP connection form is being reset when the user drills down to the next screen, which prevents it from being created. Should be a trivial fix."""
"NEXUS-8398","Bug","UI",2,"Styling bugs","""Nexus design annoyances:    + Menu has thin border at the top (http://take.ms/IFaun)  + Item selector controls have excess padding in the body (http://take.ms/TdU5e)  + Some controls have a permanent scroll bar (http://take.ms/FUgPD and http://take.ms/YfUaI)  + Some controls have inconsistent left alignment (http://take.ms/xKHjD, http://take.ms/Kn2KA, and http://take.ms/M9WdU)  + Bundles toolbar has a grey background (http://take.ms/mth62)  + Bundle detail view needs a wider key column (http://take.ms/LejJt)"""
"NEXUS-8410","Bug","Repository|UI",1,"Edit removing a repository from a group does not take right away","""While testing NEXUS-8016, I had added Central to the default nuget group (nuget-group) but later decided I wanted an independant group to test, so removed Central.  Later when I ran the following curl against nuget-group, I was seeing two warnings about incompatable repositories even thought there weren't any.  [~mprescott] discovered that there's a problem with removing repositories from CMA such that they will not remove until you restart and then remove them.  He is digging into any other areas/permutations this might affect but asked me to file a ticket.    {quote}  curl -u admin:admin123 -X GET -v """"http://localhost:8081/repository/nuget-group/Search()/\$count?\$filter=IsLatestVersion&searchTerm=''&targetFramework='net45'&includePrerelease=false""""  {quote}    I did not check older versions of NX3 at this time.    Steps to reproduce:  1) Login to NX3 as admin  2) Go to Repository>Repositories  3) Edit nuget-group to include Central and save  4) Edit nuget-group to exclude Central (only include the original two nuget repos - proxy and hosted) and save  5) Run the above CURL.  Note there are two WARNs in the log saying Central is included.    NOTE: The first time this broken I noticed loading nuget-group via the UI after step 4, I did not see Central in the configuration (json) however on Nexus restart I did see Central in the configuration (json).  I tried to repro this and it did not occur again."""
"NEXUS-8419","Bug","Search",0.5,"Possible search index problems on (nuget) delete","""While testing NEXUS-8414, I added a NuGet package to a hosted repo then wanting to test again deleted the package from the repo.  On delete, I got the attached warning and errors here: https://gist.github.com/joedragons/6ebca7e16a52c8bbbc35.  Note, despite these, the file did delete correctly.  Speaking with [~mprescott], he said this may be an issue with search index and asked me to file.  Please let me know if I can supply any further detail.  """
"NEXUS-8417","Bug","UI",1,"Realms panel starts uninitialized","""Occasionally when I open the Realms page/panel, all of the realms are shown as being 'Available' - this doesn't reflect the actual state, since several are actually active.    Click Save, of course, makes it impossible to use the UI. There aren't any errors reported in the js console."""
"NEXUS-8434","Bug","UI",0.5,"+ (expand) icon does not appear in IE11","""In the left navigation of IE11, when a main area is collapsed (via the - icon or by default) a + icon does not show to reexpand it.  You can click on the blank area and it will expand.  I left severity major because this is potentially confusing for any who are collapsed by default and/or mistake.  Borderline minor with the workaround.    I've attached a screen of this working in not-IE from Daniel, which may be the easiest way to explain (since absence of +s is hard to point out, tho can be screened).    I did not check older versions of NX3 at this time.  This does not affect NX2 as there are no +/- icons there."""
"NEXUS-8433","Bug","UI",0.5,"Some pages do not have masks on actions","""While doing UX review, I noticed the below pages do not have Saving masks that the rest of the pages do.  After speaking with Daniel we agreed on one ticket.    * Capabilities - Settings (when saving UI:Settings) [noticed FF MacOSX OSS and IE11 Windows 7 PRO)]  * Tasks - Settings (when saving a Task) [noticed FF MacOSX OSS and IE11 Windows 7 PRO]  * Tasks (when running/stopping) [noticed IE11 Windows 7 PRO]  * LDAP (saving to create an LDAP) [noticed IE11 Windows 7, Chrome MacOSX PRO]    I did not check NX2, this perhaps is an improvement but not worrying about that now."""
"NEXUS-8432","Bug","UI",0.5,"Some pages/actions have inconsistent masks","""Some pages/actions have inconsistant masks re: https://github.com/sonatype/nexus-oss/pull/1162 changes.  Filing one ticket to update after speaking with Daniel.    * The Security>SSL Certificates page when Loading PEM, the mask covers the entire page content (but not header or left nav) not just the frame area. [noticed FF MacOSX OSS bundle build]  * Staging Bundle - """"Upload mask"""" appears to be the whole page not just the area. [noticed Chrome MacOSX PRO bundle build]"""
"NEXUS-8430","Bug","UI",0.5,"Cancelling out of changing a users password fires validation and requires 2 clicks (sometimes)","""While doing the UX overview, I was in Security>Users, edited a user and opened the popout to change their password.  Not wanting to actually do this for a real user, I immediately clicked cancel.  When I did so, validation popped up telling me I needed to enter a user name.  Clicking cancel again closed the popout.  This does not occur if you have the fields filled in and then cancel.  See vid, hopefully clear."""
"NEXUS-8429","Bug","Security|UI",1,"Reset User Password fires error","""While doing the UX review, I noticed that via Security>Users editing a user and resetting their password had the attached screen and linked error: https://gist.github.com/joedragons/6de865fe4725e30f042a    Mulled briefly if this might be related to stripping forgot username/password out but since unsure at least filing for eval.  I did not check older versions of nx3 at this time."""
"NEXUS-8428","Bug","UI",1,"Selecting ""Format"" criteria in custom search does nothing sometimes","""While doing UX review, I noticed that in Chrome selecting the """"Format"""" criteria in Custom Search did not load any criteria.  I was able to reproduce this reliably there but not in FF.  In FF, this is reproducable if you go to another search type (NuGet for example) add a criteria, then come back to Custom search type and try adding """"Format"""".  Same intermittantly broken behavior in IE11 (Windows7).  Refreshing the page fixes the behavior."""
"NEXUS-8425","Bug","Licensing",1,"nexus pro log may report nexus as unlicensed on startup even when it is","""The 'licenseKey' in AbstractCommercialApplicationStatusSource is only initialized when a LicenseChangedEvent occurred. But this can only happen after NexusInitializedEvent, when the PeriodicLicenseValidator is started.    Anything querying the commercial status before then, like the banner message that appears in the logs at the start of initialization, will assume no license is installed:       """"Initializing Sonatype Nexus PRO-UNLICENSED 3.0.0-SNAPSHOT""""    Note: this is only apparent after the recent change to log the edition here instead of the application name (which doesn't include license information). It also looks like this has been an issue for a while because Nx2 also logs the following during initialization:       """"WARN ... com.sonatype.nexus.licensing.ProfessionalApplicationStatusSource - No license installed""""    (this state is shortlived, as the PeriodicLicenseValidator is started shortly afterwards.)  """
"NEXUS-8451","Bug","UI",0.5,"Cannot scroll in System Information print","""While performing UX review, I noticed in System Information the Print window not scrollable (so just shows screen height worth of lines).  This does occur in m3 (checked at Daniel's request) or in NX2."""
"NEXUS-8449","Improvement","Configuration",2,"prefix all jetty specific configuration properties with ""jetty.""","""The new jetty xml files in Nexus 3 are copies of those files found in Jetty 9.2.    These files contain system properties to simplify configuration of Jetty without the need to edit the xml files directly.    Some of these properties are prefixed with """"jetty."""", some are not:    [https://github.com/sonatype/nexus-oss/blob/master/assemblies/nexus-base-template/src/main/resources/overlay/etc/jetty.xml#L89:L93]     [https://github.com/sonatype/nexus-oss/blob/master/assemblies/nexus-base-template/src/main/resources/overlay/etc/jetty-https.xml#L73:L77]     When prefixed with jetty, it is very clear they are jetty container specific. When not, it is not clear if this applies to Jetty or something internal to Nexus.     There is a chance of conflicts if we don't prefix all jetty properties. It would be more valuable to support when scanning support bundles to see what jetty properties are set when they are grouped alphabetically together as well.    The only downside seems to be that we diverge from shipped default jetty xml files a bit. Personally not a concern with me as our files are bound to diverge in other ways regardless. Nexus jetty xml should be optimized for Nexus, not Jetty living in a vacuum.    Acceptance:     - prefix all container related ( jetty ) system properties with the text 'jetty.', except well established Nexus properties like application-host, etc."""
"NEXUS-8447","Bug","UI",1,"Post-double click to resize a column size, a second resize doesn't work","""Noticed while testing NEXUS-8056 in Chrome, on Routing if I double clicked Rule Type, the subsequent double click on Repositories to make it bigger is not working.  If I expand my browsers size it shows the Repositories column already full size so that might be the issue there (I keep my browsers not full screen so I can watch multiple windows easier; it is around the minimum supported 1024 width).    I initially noted this as a comment in NEXUS-8057, curious to see if it'd be fixed there.  Daniel relayed (via HipChat) it would not and asked me to file another ticket.    Here's a video, which also shows me trying to repro the same thing in a Fiddle configured by Daniel for NEXUS-8057.  So, that second part may be irrelavent.    Note, in the course of creating that video, I saw this working once in Nexus, so it's not 100% though 75% is a pretty good repro ratio.  I have not tried other areas of the site at this time, though suspect this would be site wide.  I did not check older versions of NX3 at this time."""
"NEXUS-8446","Bug","Scheduled Tasks|UI",0.5,"Tasks summary button missing text","""During UX review, I noticed that in System>Tasks (on edit) the summary button seems to have lost its text.  Now just shows as a blue box.  This is recent (NX3) regression.  NX2 is not setup this way so is unaffected here.  See attached."""
"NEXUS-8444","Bug","Support Tools",0.5,"stray null appears on System Information load in IE11","""During UX review, I noticed when I load Support>System Information a line """"null"""" appears in the IE Java Console.  It is not referenced to a page or line of js, it just appears.  I have never seen this before on any page or in any other browser.    Jason has in the past told me that there should be no JS errors and Daniel agreed worth filing for investigation/discussion at least, so here you go.    I did not check older versions of NX3 at this time.  This does not occur in NX2."""
"NEXUS-8443","Improvement","Support Tools|UI",0.5,"Improve System Information mask","""During UX review, I noticed when opening Support>System Information the loading mask appeared at the top of the page rather than in the middle.  I'm guessing this is because if in the middle, it'd literally be in the middle which would essentially be unseen 99% of the time because the system information is so long.    I asked Daniel and he replied:  """"This is actually the feature loading mask, not the form loading mask. Subtle difference. If you click through some of the other menu items, you’ll notice this mask flashing briefly.    I’d file this anyway, since it should mask the entire content window (including breadcrumb), not just the buttons and body. There might also be a way to center the loading indicator, since I agree it’s weird to have it anchored to the top.""""    Filing as an improvement, though I suppose it could be a bug too."""
"NEXUS-8442","Bug","Support Tools",2,"Generating support.zip times out in Windows before it can generate","""During UX review, I noticed creating a support.zip in Windows timed out.  This seems OK in Mac.  Nothing shows in log (default levels) besides INFO messages the zip is being generated.  Let me know if those messages would help or if I should try higher/different levels.    I tried this further by removing all the contents except System Information.  This worked albeit slowly (3-4MB file).  My guess thus is either the timeout is too quick or something wrong in Windows (or with my setup).  I did have both options limiters on (the entire time on all systems)."""
"NEXUS-8441","Bug","UI",0.5,"Log Viewer add mark modal has mask inside it","""During UX review, I noticed that when you added a mark to the Log (via Support>Logging>Log Viewer) that the modal that you use to add the mark gets a Saving mask.  I had never seen a modal with a mask so asked Daniel and he asked me to file.  He writes: """"This is a little odd, but the “Add Mark” modal is a bit of an odd-ball itself. Go ahead and file. I’ll probably just move the mask to the log textarea field for consistency.""""  I do not recall seeing this before but have not checked older versions of NX3 (or NX2) at this time.    Note:  - Just mask the entire UI"""
"NEXUS-8439","Bug","UI",2,"On cancel, window does not return in full view sometimes","""During UX review, I noticed that in Windows sometimes I would hit the cancel button and the window would restore to a screen that was not in full view.  See attached for better graphical description.    At first I just noticed in IE but eventually noticed in Chrome.  This issue is intermittant but Daniel asked me to file so he could take a look.  My best luck reproducing was waiting a few seconds (5-10) between test clicks (into view then cancel).  I have been able to break it reliably within 5 attempts by going slower but still does not break every time.    Specifically noticed on:  * Users (on create of new user then cancel) [IE11]  * SSL Certificates (Load Certificate - Paste PEM then cancel) [IE11]  * Logging (Create Logger then cancel) [IE11, Chrome]  * Trusted Keys (Create Key then cancel) [IE11]    I have not yet seen this behavior in any non-Windows browser.  Interestingly, I also haven't yet seen this behavior in OSS but that may have been luck(unluck).  As documented I have also not seen this behavior with breadcrumb clicks.  This may be my lack of doing that or it may be a fix hint there.    If I see more I'll addon."""
"NEXUS-8437","Bug","UI",0.5,"Icon missing for Repository View type items","""During UX review, I noticed on Security>Priviledges there was no icon for the Repository View type items.  Every other type has an icon."""
"NEXUS-8472","Bug","Support Tools",0.5,"Log Viewer shows entire log despite size selection","""While testing NEXUS-8442, I was trying to restore my system to the state where I'd had that issue by inputting a large amount of log files (amongst other stuff).  I created the attached ~80mb nexus log, primarily thru turning ROOT onto TRACE.  When I tried to access log viewer in IE I got the below errors (seperate attempts to repro):  """"SCRIPT14: Not enough storage is available to complete this operation.  File: baseapp-prod.js, Line: 1, Column: 1""""  """"SCRIPT14: Not enough storage is available to complete this operation.  File: baseapp-prod.js, Line: 1, Column: 161345""""  In both cases, the loading swirl stopped swirling but never went away so basically the page did not load.    When I tried to access log viewer in Chrome, I got no JS errors however, the log would load very briefly then white screen.    Note, when I did this with the log at around 16mb there was no issue in either browser, so I all clues point to the size.  BTW, this ticket is especially interesting to me because the log options (in NX2 as well) are to display 25K, 50K and 100K.  It seems shady to me if we're loading an 80mb log in entirity to just get even 100K of data...and no surprise that'd tax resources.    Workaround would be to load the log via console.  I am leaving this major as the workaround may not work for all people (there may be admins without console access) nor do I imagine is it an advisable workaround for marking.    I did not check older versions of NX3 or NX2 at this time.  Note, I don't believe that the issue is related to what I was testing but am filling out the link for completeness (and in case I'm wrong)."""
"NEXUS-8484","Bug","UI",0.5,"Cancel from Verify SMTP connection validates and takes second click","""While testing NEXUS-8447, I was on System>Email Server in Verify SMTP Connection popout and clicked to cancel.  Doing so (with no emailed filled in) caused validation to occur.  A second click closes the popout successfully.  Having emailed filled in and clicking cancel also behaves correctly.    I guess this is likely the same fix as NEXUS-8430.  It's definately similar behavior."""
"NEXUS-8482","Bug","Documentation|Support Tools|UI",2,"It should be apparent you cannot delete a default logger","""While reviewing the NEXUS-8377 PR, I noticed that when I tried to delete a default logger nothing happened (page refreshed, logger remained (including on refresh), no error in UI or JS).  I recall talking about this before but I could not find a ticket.  So I am assuming this is a bug because it does not function this way in NX2.  I did not check older versions of NX3 at this time.    If this turns out to be a change in NX3, I think the document should be updated with this fact.    Workaround is to disable (OFF) the logger."""
"NEXUS-8490","Bug","Maven|Repository|UI",0.5,"Maven Repository Policy unselectable initially","""While testing NEXUS-8486, I noticed that the Central Repository Policy was uneditable despite the fact it should be an editable field.  I created another proxy and it occurs there as well.  The workaround is to enter a repository whose type is NOT Maven Proxy and then the field works.  Until you refresh/restart.  No JS errors.  This is new to NX3 so did not check older versions.  I did not check NX2 at this time."""
"NEXUS-8488","Bug","Transport",1,"http proxy settings not working for outbound remote storage requests","""Start nx3 for the first time. empty storage.  Add an HTTP proxy to Nexus.  Trust the SSL certificate my proxy serves using the SSL Certificates UI ( this works fine and goes through proxy)    GET http://localhost:8081/repository/maven-central/abbot/abbot/0.13.0/abbot-0.13.0.pom    Request is 200 and works, but request does not go through proxy server    tested nexus-professional-3.0.0-20150423.044744-931-bundle  """
"NEXUS-8486","Bug","Maven|Repository|UI",0.5,"Central shows Repository Policy MIXED","""Noticed that NX3 Central repository currently shows Repository Policy MIXED.  This is different from NX2 where it shows Releases.  Releases is an option in the dropdown.  After asking in HipChat filing as regression.    Aside, if this is deemed intentional, I also noticed there's no way to switch back from MIXED, so I'd guess that's a bug and will probably file on it."""
"NEXUS-8495","Bug","NuGet|Repository",0.5,"Disconnect between Admin UI and nuget-hosted config","""While testing pushing a NuGet artifact, I noticed that the new Admin UI had Deployment Policy set automatically for the default NuGet hosted repo as read only.  Despite this I was able to push a NuGet artifact.    On further investigation with [~mprescott], we discovered that the initial configuration displayed in the admin UI is not reflected in the database (see attached - row 5).  Further, changes to that repo configuration do not update the DB, despite reflecting in the UI.    Using a newly configured NuGet hosted repo works properly and is the workaround.    This is new to CMA with the addition of the admin UI so no NX3 back checking is possible at this time.  There are no default NuGet repos in NX2 so cannot compare there either."""
"NEXUS-8494","Bug","Repository|UI",0.5,"Default repo creation has deployment policy read only","""The new CMA default (host) repo creation has deployment policy set as read only.  The NX2 default was dependant upon the release policy (disable redeploy for [maven] release, allow redeploy for [maven] snapshot, etc).  After speaking with [~mprescott] and [~krobinson] this did not sound intentional so filing.  These policies are new to CMA so no back checking of NX3 can be performed.    Workaround to select what deployment policy is correct manually.    This also affects the default NuGet hosted repo and caused me to find the related (linked) defect.    UPDATE:  - based on discussion during planning today we will leave the default as 'Disable redeploy' and it is already not read-only at this point."""
"NEXUS-8493","Bug","NuGet|Repository|UI",0.5,"Default nuget proxy has out of bounds value by default","""Noticed the default nuget proxy has a value for http request settings outside the bounds of the field (20000, the field allows max of 3600).  Since you subsequently cannot save, it seems likely either the max needs raised or the default needs lowered.  I am marking trivial since you can easily edit to what you want, tho I think this can be improved.    I am wondering if this was supposed to be 2000 and an extra 0 was struck.    This does not occur for default Maven proxy, tho the value is 1500, so no sure guidance there.    There are no default nuget repos in NX2 or older NX3 to compare against."""
"NEXUS-8492","Bug","Repository|UI",0.5,"""Bad"" repo name validation message missing","""Noticed that when you enter in a """"?"""" or space on creation of a repository in the Name field you get a validation """"MISSING_I18N:NAME_VALIDATION_MESSAGE"""".  Seems the validation message for """"bad"""" names (vs empty names) is undefined.  I checked all available repo types and it affects them all.    The legacy repo message is    For reference, not saying that should be the new message necessarily (tho it reads fine to me if true).    This is new to CMA and does not affect older versions of NX3. Nor NX2."""
"NEXUS-8503","Bug","Maven|Repository|UI",0.5,"Maven ""Version policy"" uneditable but shows as normal text field would","""In NEXUS-8490, [~alin] resolved the issue such that Version policy was only editable on create and never later.  However, I noticed while testing that on edit, the field appeared white as a normal editable text field would, not grey like the uneditable fields.  Rather than sending back, Alin asked me to file seperately.  This is new to NX3 so older checks are not done at this time.  I did not check NX2 at this time either."""
"NEXUS-8502","Bug","Maven|Proxy Repository|UI",0.5,"Authentication Password should always be required","""-Noticed that when creating a Maven Proxy when I checked """"Authentication"""" password did not appear to be required, however, when I submit it was required but via a different message and apparently means as every other field.-  -After talking to [~alin], he believes this should not be required so ticketing.-    -This is new to Admin UI so no older NX3 checking is needed.-  -In NX2, password was autofilled in on save attempt rather than it being required.  Because the password was not clearcase I am not sure at this time what was being filled in there.  I assume this could be potentially blank (and appear different) moving forward.  Whether it's actually different, may be a deeper Q.-    UPDATE:  - as per discussion with the team we will no longer support the NX2 behaviour; username and password will always be required and we just need to sort out the details to ensure that the model is consistent across CRUD operations. https://groups.google.com/a/sonatype.com/forum/?hl=en#!topic/sonatype-nexus-dev-group/AWsMoklJY34    Acceptance criteria:  - Password field should be required and styled as such in the UI"""
"NEXUS-8517","Bug","Repository|UI",1,"Repo uneditable right after creating","""Right after creating a maven group, I went to delete it and noticed I could not.  It said I didn't have permission and the delete button (and save button) was greyed out.  I tried another group and it was ok, so I went back to see if there was any errors and it was deletable.  I was able to repro this with maven proxy, maven hosted, nuget proxy and nuget hosted.  Surprisingly I could not with nuget groups (may be a fix hint there).  See attached video example.  This solved itself once (I am not sure how) but I was able to get this behavior to continue by refreshing my browser.  So there may be a complicated workaround but it is not obvious to me.  The easier workaround is to wait a couple seconds to edit.  It seems to be around the same as it takes the """"repo is created"""" note to fade (maybe 4-5 seconds).    Admin UI is new to CMA for Dizzam so no NX3 backcheck is possible.  I did not check NX2 at this time."""
"NEXUS-8512","Bug","Capabilities|Rapture|UI",0.5,"Category column disappears from Capabilities page","""-While reviewing the NX3 documentation for Capabilities, I noticed that there was a section describing a Category column.  I thought this hangover from NX2 but [~simpligility] noted he saw it in OSS (I was testing PRO).-  -I double checked and see what he did.  OSS has a Category column in the Capabilities section and PRO does not.-  -I can't think of any reason for this inconsistancy so filing.-    -The category does show when inside the details of the Capability so making trivial.  I did not check older NX3 or NX2 at this time.-    UPDATE: Testing unrelated today, I noticed the Category column missing from OSS. It appears on initial load, but disappears if you leave the page and return. I rechecked PRO and the same thing happens. Sorry for initial misanalysis and titling."""
"NEXUS-8511","Bug","Repository",0.5,"Authentication password gets overwritten with nothing (does not save?)","""While testing NEXUS-8479, I performed the roundabout test listed there to check it and noticed that in the end my authentication password was blank.  I was able to reproduce this somewhat more easily by creating a new proxy repo (minimum fields), editing it to add authentication including username/password, saving, then saving again.  Note, after the first save password shows *** but after the second save it erases.  There are more complex ways to see this as well, but that's the simple one.  I did not check if the password actually saves the first time but the second time it's definately being overwritten by nothing.    The CMA Admin UI is new to Dizzam so no NX3 backcheck was done at this time.  I did not check NX2 at this time."""
"NEXUS-8510","Bug","Repository|UI",0.5,"Information copies over from proxy to proxy","""While testing NEXUS-8479, I performed the instructions there, entering into a newly created (maven) proxy and entering in authentication and later http request information, and went to another repo.  I picked the Central repo.  When I did this, I noticed that despite the fact that Central has no authentication or http request information that the information from the newly created proxy was copying to Central.  I thought this was the inverse issue of NEXUS-8479 but [~alin] stated this was a distinct issue from NEXUS-8479 so I'm filing here.  Probably worth rechecking NEXUS-8479 steps when this fix is performed just in case.    No huge harm in this defect (besides """"lying"""") except you can inadvertantly copy in information if you save.  Workaround is to delete the info before proceeding to save.    Admin UI (CMA) is new for Dizzam so no back checking at this time.  I did not check NX2 at this time."""
"NEXUS-8523","Improvement","NuGet",1,"deprecate and disable the ""download nuget feed"" scheduled task","""As of version 2.10.0, the download nuget feed task is no longer needed for nuget proxy repositories.  We stopped scheduling this automatically in that version, and told people to remove the task in the release notes.  But still, I very often see customer configurations that have this task running.     We're planning a community outreach to get people to remove this task from their instances.  While I was writing up the content for that it occurred to me that the negatives associated with this task for both the end user and nuget.org are very significant:    * It puts a significant load on the nuget.org repository (they are complaining of these queries DOS'ing their server)  * Over time causes size of the nuget h2 database to grow so large that queries [become very slow|https://support.sonatype.com/entries/88909378]    And really, there is almost no benefit to running this task.  I'm thinking we should disable this task in 2.11.3:    # Change the name of the task to """"Download NuGet Feed (DEPRECATED)  # Change the default implementation to be a no-op              """
"NEXUS-8521","Bug","UI",0.5,"Roles: Filters count as changes to discard","""After writing up NEXUS-8520, I clicked log out to continue my testing and noticed I was prompted to discard changes or back.  I hadn't done anything but filter.  This behavior was reproducable on clean login.  Go to roles, edit one, filter on something and try and logout.  I do not believe the filter itself should be included in the changes only the actual changes made to the roles/privlege sections.  Filing for evaluation.    Did not review older versions of NX3 or NX2 at this time."""
"NEXUS-8535","Bug","Repository|UI",0.5,"Disable changing version policy on Maven repo","""In the new CMA repo I can edit the version policy of a repository after the repository was created. So I can change a release repo to be a snapshot repo afterwards.    I can also change it to """"mixed"""" even though there might not even be such a repository version policy.    I think it should not be possible to change the version policy after the repo was created (unless I am missing something) and there should be no mixed policy in the drop down."""
"NEXUS-8525","Bug","Repository|UI",0.5,"On repo save NTLM auth fields disappear","""I noticed that after saving a repo with auth checked and authentication type """"Windows NTLM"""", the Windows NTLM specific auth fields (Windows NTLM hostname and Windows NTLM domain) disappear.  This persists through repo switching but not through refresh/restart or even paging away (outside of CMA repository) and returning to repos.  So those are your workarounds.  This occurs regardless if the fields have values or not.    This is not a problem in NX2 but there's also not two types in NX2, there's just 1 and you use whatever fields you need.  So really this is new to NX3.  Since Admin UI is new to Dizzam no older NX3 checks were done."""
"NEXUS-8542","Bug","Repository|UI",1,"(CMA) Repos can become uneditable","""While reviewing CMA Repos, I noticed that intermittantly, they were becoming uneditable.  After a lot of permuting through, I found the below reproducable case.  There may be more.  I'm 100% sure, for example, I have seen maven-public uneditable (took a screenshot - which I've attached).  Hopefully this gives enough of a lead to investigate without me permuting through a bunch more items.    If this seems familiar, it may be because of NEXUS-8517.  I am creating a seperate ticket for several reasons.  First, there was some skepticism if that ticket is about granting proper permissions (like a race condition to edit before the repo is editable).  This is with default created repos so there shouldn't be such a race to my knowledge.  Second, totally different set of steps.  You'll note there actually isn't any actions besides view changes being done.  Third, this seems to have nothing to do with timing (NEXUS-8517 """"goes away"""" if you wait a very small amount of time).  I waited a minute or more between each of the steps below (used a timer) to make sure of this.    CMA repos are new to Dizzam so no previous NX3 testing can be done at this time.  I did not check NX2 at this time.  I did however check both OSS and PRO and this affects both.    Steps:  (from Repository>Repositories)  1) Create - (pick a type, but seems to be any type)  2) Repositories breadcrumb  3) Edit maven-central (looks OK)  4) Repositories breadcrumb  5) Create - (pick a type, but seems to be any type)  6) Repositories breadcrumb  7) Edit maven-central; BUG: normally editable fields remote storage URL, maximum artifact age and NFC TTL are greyed out/uneditable.  No permission to edit message at bottom by save button."""
"NEXUS-8541","Bug","Repository|UI",1,"Format specific config parameter for repositories ","""The repo admin has a number of common parameters for all formats as well as format specific parameters.     Ideally the common parameters should always be in the same order and the same location and maybe even visually different.    The format specific parameters should be separate and maybe even highlighted as such.     E.g. Nuget Proxy repo has Query cache size and Query cache age in the middle of other configs.    Maven repo format has Version policy and that is also in between fields.     It would be nice to be able to have this consistent and easily visible somehow."""
"NEXUS-8562","Bug","NPM|UI",2,"support distinct artifactMaxAge and metadataMaxAge settings in NPM","""# Create an NPM proxy repository. Leave default values. Save.  # Edit the repository configuration, changing to these values and Save.  ## Not Found Cache TTL = 5  ## Artifact Max Age = 0  ## Metadata Max Age = 0  ## Item Max Age = 1440  # Confirm the values are as you have saved them in nexus.xml and UI.  # Try to change the values back to default values and click Save  # Resulting Values:  ## Not Found Cache TTL = 1440  ## Artifact Max Age = 0  ## Metadata Max Age = 0  ## Item Max Age = 1440      The only way to reset the configuration is     - delete the repository and start over  - edit nexus.xml directly    The UI is sending the correct values, but the backend refuses to save these and responds with:    {noformat:title=response json}  {""""data"""":{""""contentResourceURI"""":""""http://localhost:8081/nexus/content/repositories/npmjs"""",""""id"""":""""npmjs"""",""""name"""":""""npmjs"""",""""provider"""":""""npm-proxy"""",""""providerRole"""":""""org.sonatype.nexus.proxy.repository.Repository"""",""""format"""":""""npm"""",""""repoType"""":""""proxy"""",""""exposed"""":true,""""writePolicy"""":""""READ_ONLY"""",""""browseable"""":true,""""indexable"""":false,""""notFoundCacheTTL"""":1440,""""repoPolicy"""":""""MIXED"""",""""checksumPolicy"""":""""IGNORE"""",""""downloadRemoteIndexes"""":false,""""defaultLocalStorageUrl"""":""""file:/app/nexus-testing/2.11.2-06/nexus-professional-2.11.2-06-bundle/sonatype-work/nexus/storage/npmjs/"""",""""remoteStorage"""":{""""remoteStorageUrl"""":""""https://registry.npmjs.org/""""},""""fileTypeValidation"""":true,""""artifactMaxAge"""":0,""""metadataMaxAge"""":0,""""itemMaxAge"""":1440,""""autoBlockActive"""":true}}  {noformat}  """
"NEXUS-8561","Bug","Rapture|UI",1,"Chrome: Cannot use scroll wheel to view some bundles details","""I just noticed that I cannot scroll through the bundles details using the scroll wheel of my mouse or the the trackpad of my laptop when in Chrome.  FF works fine and the bundles list also works fine (in Chrome).  Something about the bundles details.  Workaround is to use the scrollbar on the right side or just mousing over it and scrolling.  Copy/highlight mouse dragging also works (tho is an ugly workaround).  Note, keyboard also isn't a workaround but is not part of this issue as it doesn't work on the list or in FF either.  Seems just that keyboard movement through pages is not supported.    The bundles revamp is new to Dizzam.  I did not check older versions of NX3 to see if the same issue affects Plugins.  I did not check NX2 at this time."""
"NEXUS-8559","Bug","Rapture|Search|UI",0.5,"Search criteria have navigation with no items","""I noticed that on the RAW search, if you click """"More Criteria"""" there's an option for """"Raw Repositories"""" but it contains no items.  When you drill into, it does open a menu but since there are no items there's a single grey line.  The non-menu type items on this page have a more expected function: you pick them and they disappear from the list.    This issue is not limited to RAW.  You can get this to repro with any menu item that has a second level by adding all the items in that item to the search.    I did not check older versions of NX3 or NX2 at this time.    Steps to repro (this is just the one the attached screen shows):  0) Do not need to login (unless your anonymous is messed up).  1) Click on + to expand Search  2) Click on Raw  3) Click on More Criteria  4) Hover over """"Raw Repositories"""".  BUG: Selector is blank."""
"NEXUS-8557","Bug","NuGet|Repository",0.5,"Cannot push nuget packages","""NEXUS-8419 test essentially involves pushing a package to NuGet hosted and deleting it.  I found that pushing a package was generating an error.  [~mprescott] said he noted the same error working on the IT but it was not ticketed yet.  This is that ticket.  This ticket blocks NEXUS-8419 testing so I've marked it a blocker.  This is Dizzam regression and does not occur in NX2.    Here's the error from the log:  {quote}  2015-05-06 12:25:51,850-0400 ERROR [qtp1745283964-51] admin com.sonatype.nexus.r  epository.nuget.internal.NugetPushHandler - Unknown error  java.lang.IllegalStateException: attempted use of temporary document id          at com.google.common.base.Preconditions.checkState(Preconditions.java:17  3) [com.google.guava:18.0.0]          at org.sonatype.nexus.orient.entity.EntityAdapter$AttachedEntityId.getVa  lue(EntityAdapter.java:275) [org.sonatype.nexus.orient:3.0.0.SNAPSHOT]          at org.sonatype.nexus.common.entity.EntityId.toString(EntityId.java:68)  [org.sonatype.nexus.common:3.0.0.SNAPSHOT]          at org.sonatype.nexus.repository.search.SearchFacetImpl.identifier(Searc  hFacetImpl.java:47) [org.sonatype.nexus.repository:3.0.0.SNAPSHOT]          at org.sonatype.nexus.common.stateguard.MethodInvocationAction.run(Metho  dInvocationAction.java:40) [org.sonatype.nexus.common:3.0.0.SNAPSHOT]          at org.sonatype.nexus.common.stateguard.StateGuard$GuardImpl.run(StateGu  ard.java:233) [org.sonatype.nexus.common:3.0.0.SNAPSHOT]          at org.sonatype.nexus.common.stateguard.GuardedInterceptor.invoke(Guarde  dInterceptor.java:53) [org.sonatype.nexus.common:3.0.0.SNAPSHOT]          at org.sonatype.nexus.repository.search.SearchFacetImpl.put(SearchFacetI  mpl.java:53) [org.sonatype.nexus.repository:3.0.0.SNAPSHOT]          at org.sonatype.nexus.common.stateguard.MethodInvocationAction.run(Metho  dInvocationAction.java:40) [org.sonatype.nexus.common:3.0.0.SNAPSHOT]          at org.sonatype.nexus.common.stateguard.StateGuard$GuardImpl.run(StateGu  ard.java:233) [org.sonatype.nexus.common:3.0.0.SNAPSHOT]          at org.sonatype.nexus.common.stateguard.GuardedInterceptor.invoke(Guarde  dInterceptor.java:53) [org.sonatype.nexus.common:3.0.0.SNAPSHOT]          at com.sonatype.nexus.repository.nuget.internal.NugetGalleryFacetImpl.cr  eateOrUpdatePackageAndContents(NugetGalleryFacetImpl.java:425) [na:na]          at com.sonatype.nexus.repository.nuget.internal.NugetGalleryFacetImpl.pu  t(NugetGalleryFacetImpl.java:331) [na:na]          at org.sonatype.nexus.common.stateguard.MethodInvocationAction.run(Metho  dInvocationAction.java:40) [org.sonatype.nexus.common:3.0.0.SNAPSHOT]          at org.sonatype.nexus.common.stateguard.StateGuard$GuardImpl.run(StateGu  ard.java:233) [org.sonatype.nexus.common:3.0.0.SNAPSHOT]          at org.sonatype.nexus.common.stateguard.GuardedInterceptor.invoke(Guarde  dInterceptor.java:53) [org.sonatype.nexus.common:3.0.0.SNAPSHOT]          at com.sonatype.nexus.repository.nuget.internal.NugetPushHandler.storePa  yload(NugetPushHandler.java:75) [na:na]          at com.sonatype.nexus.repository.nuget.internal.NugetPushHandler.handle(  NugetPushHandler.java:55) [na:na]          at org.sonatype.nexus.repository.view.Context.proceed(Context.java:89) [  org.sonatype.nexus.repository:3.0.0.SNAPSHOT]          at org.sonatype.nexus.repository.security.SecurityHandler.handle(Securit  yHandler.java:46) [org.sonatype.nexus.repository:3.0.0.SNAPSHOT]          at org.sonatype.nexus.repository.view.Context.proceed(Context.java:89) [  org.sonatype.nexus.repository:3.0.0.SNAPSHOT]          at org.sonatype.nexus.repository.view.handlers.TimingHandler.handle(Timi  ngHandler.java:46) [org.sonatype.nexus.repository:3.0.0.SNAPSHOT]          at org.sonatype.nexus.repository.view.Context.proceed(Context.java:89) [  org.sonatype.nexus.repository:3.0.0.SNAPSHOT]          at org.sonatype.nexus.repository.view.Context.start(Context.java:112) [o  rg.sonatype.nexus.repository:3.0.0.SNAPSHOT]          at org.sonatype.nexus.repository.view.Router.dispatch(Router.java:58) [o  rg.sonatype.nexus.repository:3.0.0.SNAPSHOT]          at org.sonatype.nexus.repository.view.ConfigurableViewFacet.dispatch(Con  figurableViewFacet.java:45) [org.sonatype.nexus.repository:3.0.0.SNAPSHOT]          at org.sonatype.nexus.repository.httpbridge.internal.ViewServlet.dispatc  hAndSend(ViewServlet.java:177) [org.sonatype.nexus.plugins.nexus-repository-http  bridge:3.0.0.SNAPSHOT]          at org.sonatype.nexus.repository.httpbridge.internal.ViewServlet.doServi  ce(ViewServlet.java:164) [org.sonatype.nexus.plugins.nexus-repository-httpbridge  :3.0.0.SNAPSHOT]          at org.sonatype.nexus.repository.httpbridge.internal.ViewServlet.service  (ViewServlet.java:121) [org.sonatype.nexus.plugins.nexus-repository-httpbridge:3  .0.0.SNAPSHOT]          at javax.servlet.http.HttpServlet.service(HttpServlet.java:790) [javax.s  ervlet-api:3.1.0]          at com.google.inject.servlet.ServletDefinition.doServiceImpl(ServletDefi  nition.java:287) [com.google.inject:4.0.0]          at com.google.inject.servlet.ServletDefinition.doService(ServletDefiniti  on.java:277) [com.google.inject:4.0.0]          at com.google.inject.servlet.ServletDefinition.service(ServletDefinition  .java:182) [com.google.inject:4.0.0]          at com.google.inject.servlet.DynamicServletPipeline.service(DynamicServl  etPipeline.java:70) [com.google.inject:4.0.0]          at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainI  nvocation.java:85) [com.google.inject:4.0.0]          at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerReq  uestFilter.java:112) [org.apache.shiro.web:1.2.3]          at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainI  nvocation.java:82) [com.google.inject:4.0.0]          at org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilte  rChain.java:61) [org.apache.shiro.web:1.2.3]          at org.apache.shiro.web.servlet.AdviceFilter.executeChain(AdviceFilter.j  ava:108) [org.apache.shiro.web:1.2.3]          at org.apache.shiro.web.servlet.AdviceFilter.doFilterInternal(AdviceFilt  er.java:137) [org.apache.shiro.web:1.2.3]          at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerReq  uestFilter.java:125) [org.apache.shiro.web:1.2.3]          at org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilte  rChain.java:66) [org.apache.shiro.web:1.2.3]          at org.apache.shiro.web.servlet.AdviceFilter.executeChain(AdviceFilter.j  ava:108) [org.apache.shiro.web:1.2.3]          at org.apache.shiro.web.servlet.AdviceFilter.doFilterInternal(AdviceFilt  er.java:137) [org.apache.shiro.web:1.2.3]          at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerReq  uestFilter.java:125) [org.apache.shiro.web:1.2.3]          at org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilte  rChain.java:66) [org.apache.shiro.web:1.2.3]          at org.apache.shiro.web.servlet.AdviceFilter.executeChain(AdviceFilter.j  ava:108) [org.apache.shiro.web:1.2.3]          at org.apache.shiro.web.servlet.AdviceFilter.doFilterInternal(AdviceFilt  er.java:137) [org.apache.shiro.web:1.2.3]          at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerReq  uestFilter.java:125) [org.apache.shiro.web:1.2.3]          at org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilte  rChain.java:66) [org.apache.shiro.web:1.2.3]          at org.apache.shiro.web.servlet.AbstractShiroFilter.executeChain(Abstrac  tShiroFilter.java:449) [org.apache.shiro.web:1.2.3]          at org.sonatype.nexus.web.SecurityFilter.executeChain(SecurityFilter.jav  a:87) [org.sonatype.nexus.core:3.0.0.SNAPSHOT]          at org.apache.shiro.web.servlet.AbstractShiroFilter$1.call(AbstractShiro  Filter.java:365) [org.apache.shiro.web:1.2.3]          at org.apache.shiro.subject.support.SubjectCallable.doCall(SubjectCallab  le.java:90) [org.apache.shiro.core:1.2.3]          at org.apache.shiro.subject.support.SubjectCallable.call(SubjectCallable  .java:83) [org.apache.shiro.core:1.2.3]          at org.apache.shiro.subject.support.DelegatingSubject.execute(Delegating  Subject.java:383) [org.apache.shiro.core:1.2.3]          at org.apache.shiro.web.servlet.AbstractShiroFilter.doFilterInternal(Abs  tractShiroFilter.java:362) [org.apache.shiro.web:1.2.3]          at org.sonatype.nexus.web.SecurityFilter.doFilterInternal(SecurityFilter  .java:103) [org.sonatype.nexus.core:3.0.0.SNAPSHOT]          at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerReq  uestFilter.java:125) [org.apache.shiro.web:1.2.3]          at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainI  nvocation.java:82) [com.google.inject:4.0.0]          at com.sonatype.nexus.licensing.internal.LicensingRedirectFilter.doFilte  r(LicensingRedirectFilter.java:134) [com.sonatype.nexus.plugins.nexus-licensing-  plugin:3.0.0.SNAPSHOT]          at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainI  nvocation.java:82) [com.google.inject:4.0.0]          at com.codahale.metrics.servlet.AbstractInstrumentedFilter.doFilter(Abst  ractInstrumentedFilter.java:97) [com.codahale.metrics.servlet:3.0.2]          at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainI  nvocation.java:82) [com.google.inject:4.0.0]          at org.sonatype.nexus.internal.web.ErrorPageFilter.doFilter(ErrorPageFil  ter.java:65) [org.sonatype.nexus.core:3.0.0.SNAPSHOT]          at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainI  nvocation.java:82) [com.google.inject:4.0.0]          at org.sonatype.nexus.internal.web.EnvironmentFilter.doFilter(Environmen  tFilter.java:92) [org.sonatype.nexus.core:3.0.0.SNAPSHOT]          at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainI  nvocation.java:82) [com.google.inject:4.0.0]          at com.google.inject.servlet.DynamicFilterPipeline.dispatch(DynamicFilte  rPipeline.java:104) [com.google.inject:4.0.0]          at com.google.inject.servlet.GuiceFilter$1.call(GuiceFilter.java:133) [c  om.google.inject:4.0.0]          at com.google.inject.servlet.GuiceFilter$1.call(GuiceFilter.java:130) [c  om.google.inject:4.0.0]          at com.google.inject.servlet.GuiceFilter$Context.call(GuiceFilter.java:2  03) [com.google.inject:4.0.0]          at com.google.inject.servlet.GuiceFilter.doFilter(GuiceFilter.java:130)  [com.google.inject:4.0.0]          at org.sonatype.nexus.bootstrap.osgi.DelegatingFilter.doFilter(Delegatin  gFilter.java:73) [org.sonatype.nexus.bootstrap:3.0.0.SNAPSHOT]          at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(Servlet  Handler.java:1652) [org.eclipse.jetty.servlet:9.2.9.v20150224]          at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java  :585) [org.eclipse.jetty.servlet:9.2.9.v20150224]          at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.j  ava:143) [org.eclipse.jetty.server:9.2.9.v20150224]          at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.jav  a:577) [org.eclipse.jetty.security:9.2.9.v20150224]          at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandl  er.java:223) [org.eclipse.jetty.server:9.2.9.v20150224]          at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandl  er.java:1127) [org.eclipse.jetty.server:9.2.9.v20150224]          at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:  515) [org.eclipse.jetty.servlet:9.2.9.v20150224]          at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandle  r.java:185) [org.eclipse.jetty.server:9.2.9.v20150224]          at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandle  r.java:1061) [org.eclipse.jetty.server:9.2.9.v20150224]          at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.j  ava:141) [org.eclipse.jetty.server:9.2.9.v20150224]          at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper  .java:97) [org.eclipse.jetty.server:9.2.9.v20150224]          at com.codahale.metrics.jetty9.InstrumentedHandler.handle(InstrumentedHa  ndler.java:175) [com.codahale.metrics.jetty9:3.0.2]          at org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerColl  ection.java:110) [org.eclipse.jetty.server:9.2.9.v20150224]          at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper  .java:97) [org.eclipse.jetty.server:9.2.9.v20150224]          at org.eclipse.jetty.server.Server.handle(Server.java:497) [org.eclipse.  jetty.server:9.2.9.v20150224]          at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:310) [or  g.eclipse.jetty.server:9.2.9.v20150224]          at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.jav  a:257) [org.eclipse.jetty.server:9.2.9.v20150224]          at org.eclipse.jetty.io.AbstractConnection$2.run(AbstractConnection.java  :540) [org.eclipse.jetty.io:9.2.9.v20150224]          at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPoo  l.java:635) [org.eclipse.jetty.util:9.2.9.v20150224]          at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool  .java:555) [org.eclipse.jetty.util:9.2.9.v20150224]          at java.lang.Thread.run(Thread.java:745) [na:1.7.0_75]  {quote}    Of note, this error occurs both before and after setting API key, so you should see it pretty fast in the test.  I was testing using the SONATYPE.TEST package and nuget cmd line tool if it matters."""
"NEXUS-8556","Bug","Staging",1,"staging.xml validation can orphan nexus.xml repositories during startup","""Under certain startup conditions, Nexus staging configuration validation can orphan staging repositories such that they are no longer visible in the Nexus Staging Repositories UI. The repository storage directory will still exist for the repository, and the orphaned staging repository(s) will still be visible via Repositories -> Nexus Managed Repositories list.    Example log excerpts on startup where staging validation removed a staging repository {{raid_staging-1197}} because it was not yet added to the internal registry of repositories:        h4. Symptoms    After a Nexus restart, some staging repositories are no longer visible in the staging repositories list.    Log messages similar to this will be present in nexus.log:    {quote}  com.sonatype.nexus.staging.internal.persist.DefaultStagingConfiguration - Validation warning:  o repositories - Staging Repository 'raid_staging-1197' is not a valid repository, removing from configuration.  {quote}    h4. Workaround    There is no workaround to prevent this race condition.    h4. How to Recover Orphaned Repositories.    Repositories can be recovered by Sonatype Support. Affected users should open a support ticket at https://support.sonatype.com along with a Nexus support bundle."""
"NEXUS-8555","Bug","NPM",0.5,"not found cache should be expired for packages with implied references from updated package metadata","""1. Create an npm proxy repository to the official registry  2. Request a known package file in the remote registry, through the proxy repository ( not metadata ). This will result in 404. This is as currently designed as Nexus needs package metadata before getting any related package.  3. request the metadata for the package file in step 2. This is 200 as expected.  4. request the package that was requested in step 2. This is still 404 not found until an expire cache task on the repository is run or the not found cache expires naturally for the package.    Expected: When we update the package metadata, the not found cache should be expired for any package referenced in that metadata. Meaning the 404 not found in step 4 above should not require manually expiring cache or waiting until repository configured cache timeout."""
"NEXUS-8571","Bug","UI",1,"'Describe' output not rendering correctly for some values","""Looks like we're running into this issue: https://github.com/google/guava/issues/844  Rendering from here is including a micro character that doesn't render properly:  https://github.com/sonatype/nexus-oss/blob/master/plugins/basic/nexus-content-plugin/src/main/resources/org/sonatype/nexus/content/internal/requestDescriptionHtml.vm#L83-83  Noted while reviewing this screenshot in a PR(note the question mark in the Processing Time): https://cloud.githubusercontent.com/assets/186715/7512753/faecffdc-f4a6-11e4-890c-d67da41f21aa.png"""
"NEXUS-8570","Improvement","NPM",1,"improve the experience when npm package files are requested before npm metadata","""Our current npm repository behaviour:    1. Request a package tgz through a proxy repository that exists in the remote. 404 not found  2. Request the metadata for that package. 200 response and package url in step 1 says to get it from Nexus  3. Try to get the package again from Nexus - still 404, cached not found.    Expected: Nexus should try to be more forgiving when a package file is requested before metadata."""
"NEXUS-8568","Bug","NPM",1,"prevent OConcurrentModificationException when expiring not found cache and updating package metadata at the same time for a npm repository","""The npm database can get in a state where expiring the not found cache on an npm repository can trigger an OConcurrentModificationException if package metadata is updated at the same time by another thread. The other thread would typically be a get or PUT request for an npm package.    {{com.orientechnologies.orient.core.exception.OConcurrentModificationException: Cannot UPDATE the record #9:293 because the version is not the latest. Probably you are updating an old record or it has been modified by another user (db=v6 your=v5)  }}        Expected: do better preventing this commonly reproducible concurrency issue"""
"NEXUS-8567","Bug","NPM",1,"expire cache task on npm group repositories should not abort when there is a problem processing member repositories","""ExpireCacheTask on an npm group repository will abort if there is a problem processing a member repository.    Expected: The task should not abort. The problem should be logged and the task should continue processing as many records/member repositories as possible.    For an example problem, see NEXUS-8568.  """
"NEXUS-8566","Improvement","Maven|Repository",2,"Support multi-range requests","""Currently Nexus only supports HTTP GET requests that contain a single range header. For effective retrieval of large files with tools like zsync (http://zsync.moria.org.uk/) it's important to be able to retrieve multiple parts in a single HTTP request.    We are using this technique extensively with this patch:  https://github.com/busjaeger/nexus-oss/commit/0cfaea8b4882c335672cae67b6509808713b95dd    Would appreciate if you guys could pull it in. It's low-risk and well-tested."""
"NEXUS-8564","Improvement","Repository|UI",0.5,"Helper text spans 3 lines, could be 1 and save space","""I noticed that the Online helper text (seen when creating or editing a repository) spans 3 lines [see attached] and it seems it could be 1 line saving space and consolodating the page a bit.  ADMIN_REPOSITORIES_SETTINGS_ONLINE_HELP in PluginStrings.js seems to be defined as 1 string without breaks, so I assume this is a page """"issue"""".  We've specifically spoken about real estate on this page so filing improvement.    This is recent regression to Dizzam and I suspect unintentional fallout (perhaps from http://bamboo.s/browse/NX3-OSS-229/commit ?).    Spoke to [~dsauble] about this before filing."""
"NEXUS-8584","Bug","UI",0.5,"Uneditable list leaves whitespace where filter clear was","""While writing up NEXUS-8583, I noticed the attached: That there was a weird white space following the greyed out filter space when editing an uneditable role.  When creating a new or editing an editable role, this spot is filled by an X used to clear the filter.  My guess is it's hidden to maximize uneditability but leaves a weird white space in its wake.    I did not check older NX3 or NX2 at this time."""
"NEXUS-8581","Bug","UI",0.5,"Unselectable space between field contents and dropdown arrow","""I noticed on the repository page when editing/creating a repository with authentication, in the authentication dropdown, there's currently a space between the authentication type contents and the dropdown arrow which pulls down available choices.  This space is unselectable and seems it could be tightened.  See version policy dropdown for expectations.    This seems like recent regression but I did not check older branches at this time.  Revamp is new to Dizzam so no older NX3 checks were performed.  This does not affect NX2 (no dropdown exists)."""
"NEXUS-8579","Bug","Repository",1,"repository storage may not be properly deleted","""1. Create an npm proxy repository named npm.  2. Request some metadata and package that results in 200 and stored in local cache    3. Delete the repository. Now you have nexus/trash/npm and the packages you downloaded    4. Create an npm hosted repository named npm  5. publish an npm package to it.  6. Delete the repository. This fails ( see example stack trace below ) and the storage/npm directory and contents remain in place. The repository is removed from nexus.xml    7. create an npm proxy repo named npm again. the repo gets created fine.  8. Now the new proxy repo contains the packages from the failed deleted hosted repo directory    Expected:  - delete to trash should not fail in this way and formerly deleted contents should not be available to newly created repos.    """
"NEXUS-8577","Bug","UI",0.5,"Create new user gives error","""I went to create a new user and got the attached error on screen and the below error in the log.  This is recent NX3 regression (maybe legacy strip?).  To try and assure that it was not related to a role I gave, I followed up and gave the exact same roles that Anonymous has.  Same issue.  Saving Anonymous works.    {quote}  2015-05-08 14:06:26,487-0400 ERROR [qtp858464260-248] admin org.sonatype.nexus.extdirect.internal.ExtDirectServlet - Failed to invoke action method: coreui_User.create, java-method: org.sonatype.nexus.coreui.UserComponent.create  groovy.lang.MissingPropertyException: No such property: valueIfValid for class: java.lang.String   at org.codehaus.groovy.runtime.ScriptBytecodeAdapter.unwrap(ScriptBytecodeAdapter.java:51) [na:na]   at org.codehaus.groovy.runtime.callsite.GetEffectivePojoPropertySite.getProperty(GetEffectivePojoPropertySite.java:63) [na:na]   at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callGetProperty(AbstractCallSite.java:227) [na:na]   at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callGetPropertySafe(AbstractCallSite.java:333) [na:na]   at org.sonatype.nexus.coreui.UserComponent.create(UserComponent.groovy:141) [na:na]   at org.sonatype.nexus.validation.internal.ValidationInterceptor.invoke(ValidationInterceptor.java:53) [na:na]   at org.apache.shiro.guice.aop.AopAllianceMethodInvocationAdapter.proceed(AopAllianceMethodInvocationAdapter.java:49) [na:na]   at org.apache.shiro.authz.aop.AuthorizingAnnotationMethodInterceptor.invoke(AuthorizingAnnotationMethodInterceptor.java:68) [na:na]   at org.apache.shiro.guice.aop.AopAllianceMethodInterceptorAdapter.invoke(AopAllianceMethodInterceptorAdapter.java:36) [na:na]   at org.apache.shiro.guice.aop.AopAllianceMethodInvocationAdapter.proceed(AopAllianceMethodInvocationAdapter.java:49) [na:na]   at org.apache.shiro.authz.aop.AuthorizingAnnotationMethodInterceptor.invoke(AuthorizingAnnotationMethodInterceptor.java:68) [na:na]   at org.apache.shiro.guice.aop.AopAllianceMethodInterceptorAdapter.invoke(AopAllianceMethodInterceptorAdapter.java:36) [na:na]   at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) [na:1.8.0_40]   at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) [na:1.8.0_40]   at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [na:1.8.0_40]   at java.lang.reflect.Method.invoke(Method.java:497) [na:1.8.0_40]   at com.softwarementors.extjs.djn.router.dispatcher.DispatcherBase.invokeJavaMethod(DispatcherBase.java:142) [org.sonatype.nexus.plugins.nexus-extdirect-plugin:3.0.0.SNAPSHOT]   at com.softwarementors.extjs.djn.router.dispatcher.DispatcherBase.invokeMethod(DispatcherBase.java:133) [org.sonatype.nexus.plugins.nexus-extdirect-plugin:3.0.0.SNAPSHOT]   at org.sonatype.nexus.extdirect.internal.ExtDirectServlet$3.invokeMethod(ExtDirectServlet.java:204) [org.sonatype.nexus.plugins.nexus-extdirect-plugin:3.0.0.SNAPSHOT]   at com.softwarementors.extjs.djn.router.dispatcher.DispatcherBase.dispatch(DispatcherBase.java:63) [org.sonatype.nexus.plugins.nexus-extdirect-plugin:3.0.0.SNAPSHOT]   at com.softwarementors.extjs.djn.router.processor.standard.StandardRequestProcessorBase.dispatchStandardMethod(StandardRequestProcessorBase.java:73) [org.sonatype.nexus.plugins.nexus-extdirect-plugin:3.0.0.SNAPSHOT]   at com.softwarementors.extjs.djn.router.processor.standard.json.JsonRequestProcessor.processIndividualRequest(JsonRequestProcessor.java:502) [org.sonatype.nexus.plugins.nexus-extdirect-plugin:3.0.0.SNAPSHOT]   at com.softwarementors.extjs.djn.router.processor.standard.json.JsonRequestProcessor.processIndividualRequestsInThisThread(JsonRequestProcessor.java:150) [org.sonatype.nexus.plugins.nexus-extdirect-plugin:3.0.0.SNAPSHOT]   at com.softwarementors.extjs.djn.router.processor.standard.json.JsonRequestProcessor.process(JsonRequestProcessor.java:133) [org.sonatype.nexus.plugins.nexus-extdirect-plugin:3.0.0.SNAPSHOT]   at com.softwarementors.extjs.djn.router.RequestRouter.processJsonRequest(RequestRouter.java:83) [org.sonatype.nexus.plugins.nexus-extdirect-plugin:3.0.0.SNAPSHOT]   at com.softwarementors.extjs.djn.servlet.DirectJNgineServlet.processRequest(DirectJNgineServlet.java:617) [org.sonatype.nexus.plugins.nexus-extdirect-plugin:3.0.0.SNAPSHOT]   at com.softwarementors.extjs.djn.servlet.DirectJNgineServlet.doPost(DirectJNgineServlet.java:580) [org.sonatype.nexus.plugins.nexus-extdirect-plugin:3.0.0.SNAPSHOT]   at org.sonatype.nexus.extdirect.internal.ExtDirectServlet.doPost(ExtDirectServlet.java:124) [org.sonatype.nexus.plugins.nexus-extdirect-plugin:3.0.0.SNAPSHOT]   at javax.servlet.http.HttpServlet.service(HttpServlet.java:707) [javax.servlet-api:3.1.0]   at javax.servlet.http.HttpServlet.service(HttpServlet.java:790) [javax.servlet-api:3.1.0]   at com.google.inject.servlet.ServletDefinition.doServiceImpl(ServletDefinition.java:287) [com.google.inject:4.0.0]   at com.google.inject.servlet.ServletDefinition.doService(ServletDefinition.java:277) [com.google.inject:4.0.0]   at com.google.inject.servlet.ServletDefinition.service(ServletDefinition.java:182) [com.google.inject:4.0.0]   at com.google.inject.servlet.DynamicServletPipeline.service(DynamicServletPipeline.java:70) [com.google.inject:4.0.0]   at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:85) [com.google.inject:4.0.0]   at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:112) [org.apache.shiro.web:1.2.3]   at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:82) [com.google.inject:4.0.0]   at org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilterChain.java:61) [org.apache.shiro.web:1.2.3]   at org.apache.shiro.web.servlet.AdviceFilter.executeChain(AdviceFilter.java:108) [org.apache.shiro.web:1.2.3]   at org.apache.shiro.web.servlet.AdviceFilter.doFilterInternal(AdviceFilter.java:137) [org.apache.shiro.web:1.2.3]   at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:125) [org.apache.shiro.web:1.2.3]   at org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilterChain.java:66) [org.apache.shiro.web:1.2.3]   at org.apache.shiro.web.servlet.AbstractShiroFilter.executeChain(AbstractShiroFilter.java:449) [org.apache.shiro.web:1.2.3]   at org.sonatype.nexus.web.SecurityFilter.executeChain(SecurityFilter.java:87) [org.sonatype.nexus.core:3.0.0.SNAPSHOT]   at org.apache.shiro.web.servlet.AbstractShiroFilter$1.call(AbstractShiroFilter.java:365) [org.apache.shiro.web:1.2.3]   at org.apache.shiro.subject.support.SubjectCallable.doCall(SubjectCallable.java:90) [org.apache.shiro.core:1.2.3]   at org.apache.shiro.subject.support.SubjectCallable.call(SubjectCallable.java:83) [org.apache.shiro.core:1.2.3]   at org.apache.shiro.subject.support.DelegatingSubject.execute(DelegatingSubject.java:383) [org.apache.shiro.core:1.2.3]   at org.apache.shiro.web.servlet.AbstractShiroFilter.doFilterInternal(AbstractShiroFilter.java:362) [org.apache.shiro.web:1.2.3]   at org.sonatype.nexus.web.SecurityFilter.doFilterInternal(SecurityFilter.java:103) [org.sonatype.nexus.core:3.0.0.SNAPSHOT]   at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:125) [org.apache.shiro.web:1.2.3]   at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:82) [com.google.inject:4.0.0]   at com.sonatype.nexus.licensing.internal.LicensingRedirectFilter.doFilter(LicensingRedirectFilter.java:134) [com.sonatype.nexus.plugins.nexus-licensing-plugin:3.0.0.SNAPSHOT]   at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:82) [com.google.inject:4.0.0]   at com.codahale.metrics.servlet.AbstractInstrumentedFilter.doFilter(AbstractInstrumentedFilter.java:97) [com.codahale.metrics.servlet:3.0.2]   at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:82) [com.google.inject:4.0.0]   at org.sonatype.nexus.internal.web.ErrorPageFilter.doFilter(ErrorPageFilter.java:65) [org.sonatype.nexus.core:3.0.0.SNAPSHOT]   at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:82) [com.google.inject:4.0.0]   at org.sonatype.nexus.internal.web.EnvironmentFilter.doFilter(EnvironmentFilter.java:92) [org.sonatype.nexus.core:3.0.0.SNAPSHOT]   at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:82) [com.google.inject:4.0.0]   at com.google.inject.servlet.DynamicFilterPipeline.dispatch(DynamicFilterPipeline.java:104) [com.google.inject:4.0.0]   at com.google.inject.servlet.GuiceFilter$1.call(GuiceFilter.java:133) [com.google.inject:4.0.0]   at com.google.inject.servlet.GuiceFilter$1.call(GuiceFilter.java:130) [com.google.inject:4.0.0]   at com.google.inject.servlet.GuiceFilter$Context.call(GuiceFilter.java:203) [com.google.inject:4.0.0]   at com.google.inject.servlet.GuiceFilter.doFilter(GuiceFilter.java:130) [com.google.inject:4.0.0]   at org.sonatype.nexus.bootstrap.osgi.DelegatingFilter.doFilter(DelegatingFilter.java:73) [org.sonatype.nexus.bootstrap:3.0.0.SNAPSHOT]   at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652) [org.eclipse.jetty.servlet:9.2.9.v20150224]   at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:585) [org.eclipse.jetty.servlet:9.2.9.v20150224]   at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143) [org.eclipse.jetty.server:9.2.9.v20150224]   at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:577) [org.eclipse.jetty.security:9.2.9.v20150224]   at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:223) [org.eclipse.jetty.server:9.2.9.v20150224]   at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1127) [org.eclipse.jetty.server:9.2.9.v20150224]   at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:515) [org.eclipse.jetty.servlet:9.2.9.v20150224]   at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:185) [org.eclipse.jetty.server:9.2.9.v20150224]   at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1061) [org.eclipse.jetty.server:9.2.9.v20150224]   at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141) [org.eclipse.jetty.server:9.2.9.v20150224]   at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:97) [org.eclipse.jetty.server:9.2.9.v20150224]   at com.codahale.metrics.jetty9.InstrumentedHandler.handle(InstrumentedHandler.java:175) [com.codahale.metrics.jetty9:3.0.2]   at org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:110) [org.eclipse.jetty.server:9.2.9.v20150224]   at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:97) [org.eclipse.jetty.server:9.2.9.v20150224]   at org.eclipse.jetty.server.Server.handle(Server.java:497) [org.eclipse.jetty.server:9.2.9.v20150224]   at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:310) [org.eclipse.jetty.server:9.2.9.v20150224]   at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:257) [org.eclipse.jetty.server:9.2.9.v20150224]   at org.eclipse.jetty.io.AbstractConnection$2.run(AbstractConnection.java:540) [org.eclipse.jetty.io:9.2.9.v20150224]   at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:635) [org.eclipse.jetty.util:9.2.9.v20150224]   at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:555) [org.eclipse.jetty.util:9.2.9.v20150224]   at java.lang.Thread.run(Thread.java:745) [na:1.8.0_40]  {quote}    I'd make this critical if this wasn't a WIP.  As is, can workaround with default roles, esp since save works."""
"NEXUS-8576","Bug","Scheduled Tasks|UI",1,"Cannot submit tasks with advanced (cron) filled in","""While reviewing NEXUS-7896, I tried to submit a task with advanced cron filled in and got a NPE warning both in browser and in log.  [~krobinson] and I checked older Dizzam branches and found this is not related to that change.  I did not check m3 or older (or NX2) at this time.  I am leaving major assuming regression (at least from NX2) or we would have heard something by now.    My crons were:  0 0 0 30 1 1  0 0 12 * * ?    {quote}  2015-05-08 13:30:25,862-0400 ERROR [qtp858464260-222] admin org.sonatype.nexus.extdirect.internal.ExtDirectServlet - Failed to invoke action method: coreui_Task.create, java-method: org.sonatype.nexus.coreui.TaskComponent.create  java.lang.NullPointerException: null   at com.google.common.base.Preconditions.checkNotNull(Preconditions.java:210) [com.google.guava:18.0.0]   at org.sonatype.nexus.validation.ValidationMessage.<init>(ValidationMessage.java:36) [org.sonatype.nexus.validation:3.0.0.SNAPSHOT]   at org.sonatype.nexus.validation.ValidationMessage.<init>(ValidationMessage.java:41) [org.sonatype.nexus.validation:3.0.0.SNAPSHOT]   at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) [na:1.8.0_40]   at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) [na:1.8.0_40]   at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) [na:1.8.0_40]   at java.lang.reflect.Constructor.newInstance(Constructor.java:422) [na:1.8.0_40]   at org.codehaus.groovy.reflection.CachedConstructor.invoke(CachedConstructor.java:77) [na:na]   at org.codehaus.groovy.runtime.callsite.ConstructorSite$ConstructorSiteNoUnwrapNoCoerce.callConstructor(ConstructorSite.java:102) [na:na]   at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCallConstructor(CallSiteArray.java:57) [na:na]   at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callConstructor(AbstractCallSite.java:182) [na:na]   at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callConstructor(AbstractCallSite.java:194) [na:na]   at org.sonatype.nexus.coreui.TaskComponent.asSchedule(TaskComponent.groovy:351) [na:na]   at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) [na:1.8.0_40]   at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) [na:1.8.0_40]   at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [na:1.8.0_40]   at java.lang.reflect.Method.invoke(Method.java:497) [na:1.8.0_40]   at org.codehaus.groovy.runtime.callsite.PogoMetaMethodSite$PogoCachedMethodSiteNoUnwrapNoCoerce.invoke(PogoMetaMethodSite.java:207) [na:na]   at org.codehaus.groovy.runtime.callsite.PogoMetaMethodSite.callCurrent(PogoMetaMethodSite.java:56) [na:na]   at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCallCurrent(CallSiteArray.java:49) [na:na]   at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callCurrent(AbstractCallSite.java:133) [na:na]   at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callCurrent(AbstractCallSite.java:141) [na:na]   at org.sonatype.nexus.coreui.TaskComponent.create(TaskComponent.groovy:132) [na:na]   at org.sonatype.nexus.validation.internal.ValidationInterceptor.invoke(ValidationInterceptor.java:53) [na:na]   at org.apache.shiro.guice.aop.AopAllianceMethodInvocationAdapter.proceed(AopAllianceMethodInvocationAdapter.java:49) [na:na]   at org.apache.shiro.authz.aop.AuthorizingAnnotationMethodInterceptor.invoke(AuthorizingAnnotationMethodInterceptor.java:68) [na:na]   at org.apache.shiro.guice.aop.AopAllianceMethodInterceptorAdapter.invoke(AopAllianceMethodInterceptorAdapter.java:36) [na:na]   at org.apache.shiro.guice.aop.AopAllianceMethodInvocationAdapter.proceed(AopAllianceMethodInvocationAdapter.java:49) [na:na]   at org.apache.shiro.authz.aop.AuthorizingAnnotationMethodInterceptor.invoke(AuthorizingAnnotationMethodInterceptor.java:68) [na:na]   at org.apache.shiro.guice.aop.AopAllianceMethodInterceptorAdapter.invoke(AopAllianceMethodInterceptorAdapter.java:36) [na:na]   at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) [na:1.8.0_40]   at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) [na:1.8.0_40]   at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [na:1.8.0_40]   at java.lang.reflect.Method.invoke(Method.java:497) [na:1.8.0_40]   at com.softwarementors.extjs.djn.router.dispatcher.DispatcherBase.invokeJavaMethod(DispatcherBase.java:142) [org.sonatype.nexus.plugins.nexus-extdirect-plugin:3.0.0.SNAPSHOT]   at com.softwarementors.extjs.djn.router.dispatcher.DispatcherBase.invokeMethod(DispatcherBase.java:133) [org.sonatype.nexus.plugins.nexus-extdirect-plugin:3.0.0.SNAPSHOT]   at org.sonatype.nexus.extdirect.internal.ExtDirectServlet$3.invokeMethod(ExtDirectServlet.java:204) [org.sonatype.nexus.plugins.nexus-extdirect-plugin:3.0.0.SNAPSHOT]   at com.softwarementors.extjs.djn.router.dispatcher.DispatcherBase.dispatch(DispatcherBase.java:63) [org.sonatype.nexus.plugins.nexus-extdirect-plugin:3.0.0.SNAPSHOT]   at com.softwarementors.extjs.djn.router.processor.standard.StandardRequestProcessorBase.dispatchStandardMethod(StandardRequestProcessorBase.java:73) [org.sonatype.nexus.plugins.nexus-extdirect-plugin:3.0.0.SNAPSHOT]   at com.softwarementors.extjs.djn.router.processor.standard.json.JsonRequestProcessor.processIndividualRequest(JsonRequestProcessor.java:502) [org.sonatype.nexus.plugins.nexus-extdirect-plugin:3.0.0.SNAPSHOT]   at com.softwarementors.extjs.djn.router.processor.standard.json.JsonRequestProcessor.processIndividualRequestsInThisThread(JsonRequestProcessor.java:150) [org.sonatype.nexus.plugins.nexus-extdirect-plugin:3.0.0.SNAPSHOT]   at com.softwarementors.extjs.djn.router.processor.standard.json.JsonRequestProcessor.process(JsonRequestProcessor.java:133) [org.sonatype.nexus.plugins.nexus-extdirect-plugin:3.0.0.SNAPSHOT]   at com.softwarementors.extjs.djn.router.RequestRouter.processJsonRequest(RequestRouter.java:83) [org.sonatype.nexus.plugins.nexus-extdirect-plugin:3.0.0.SNAPSHOT]   at com.softwarementors.extjs.djn.servlet.DirectJNgineServlet.processRequest(DirectJNgineServlet.java:617) [org.sonatype.nexus.plugins.nexus-extdirect-plugin:3.0.0.SNAPSHOT]   at com.softwarementors.extjs.djn.servlet.DirectJNgineServlet.doPost(DirectJNgineServlet.java:580) [org.sonatype.nexus.plugins.nexus-extdirect-plugin:3.0.0.SNAPSHOT]   at org.sonatype.nexus.extdirect.internal.ExtDirectServlet.doPost(ExtDirectServlet.java:124) [org.sonatype.nexus.plugins.nexus-extdirect-plugin:3.0.0.SNAPSHOT]   at javax.servlet.http.HttpServlet.service(HttpServlet.java:707) [javax.servlet-api:3.1.0]   at javax.servlet.http.HttpServlet.service(HttpServlet.java:790) [javax.servlet-api:3.1.0]   at com.google.inject.servlet.ServletDefinition.doServiceImpl(ServletDefinition.java:287) [com.google.inject:4.0.0]   at com.google.inject.servlet.ServletDefinition.doService(ServletDefinition.java:277) [com.google.inject:4.0.0]   at com.google.inject.servlet.ServletDefinition.service(ServletDefinition.java:182) [com.google.inject:4.0.0]   at com.google.inject.servlet.DynamicServletPipeline.service(DynamicServletPipeline.java:70) [com.google.inject:4.0.0]   at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:85) [com.google.inject:4.0.0]   at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:112) [org.apache.shiro.web:1.2.3]   at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:82) [com.google.inject:4.0.0]   at org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilterChain.java:61) [org.apache.shiro.web:1.2.3]   at org.apache.shiro.web.servlet.AdviceFilter.executeChain(AdviceFilter.java:108) [org.apache.shiro.web:1.2.3]   at org.apache.shiro.web.servlet.AdviceFilter.doFilterInternal(AdviceFilter.java:137) [org.apache.shiro.web:1.2.3]   at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:125) [org.apache.shiro.web:1.2.3]   at org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilterChain.java:66) [org.apache.shiro.web:1.2.3]   at org.apache.shiro.web.servlet.AbstractShiroFilter.executeChain(AbstractShiroFilter.java:449) [org.apache.shiro.web:1.2.3]   at org.sonatype.nexus.web.SecurityFilter.executeChain(SecurityFilter.java:87) [org.sonatype.nexus.core:3.0.0.SNAPSHOT]   at org.apache.shiro.web.servlet.AbstractShiroFilter$1.call(AbstractShiroFilter.java:365) [org.apache.shiro.web:1.2.3]   at org.apache.shiro.subject.support.SubjectCallable.doCall(SubjectCallable.java:90) [org.apache.shiro.core:1.2.3]   at org.apache.shiro.subject.support.SubjectCallable.call(SubjectCallable.java:83) [org.apache.shiro.core:1.2.3]   at org.apache.shiro.subject.support.DelegatingSubject.execute(DelegatingSubject.java:383) [org.apache.shiro.core:1.2.3]   at org.apache.shiro.web.servlet.AbstractShiroFilter.doFilterInternal(AbstractShiroFilter.java:362) [org.apache.shiro.web:1.2.3]   at org.sonatype.nexus.web.SecurityFilter.doFilterInternal(SecurityFilter.java:103) [org.sonatype.nexus.core:3.0.0.SNAPSHOT]   at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:125) [org.apache.shiro.web:1.2.3]   at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:82) [com.google.inject:4.0.0]   at com.sonatype.nexus.licensing.internal.LicensingRedirectFilter.doFilter(LicensingRedirectFilter.java:134) [com.sonatype.nexus.plugins.nexus-licensing-plugin:3.0.0.SNAPSHOT]   at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:82) [com.google.inject:4.0.0]   at com.codahale.metrics.servlet.AbstractInstrumentedFilter.doFilter(AbstractInstrumentedFilter.java:97) [com.codahale.metrics.servlet:3.0.2]   at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:82) [com.google.inject:4.0.0]   at org.sonatype.nexus.internal.web.ErrorPageFilter.doFilter(ErrorPageFilter.java:65) [org.sonatype.nexus.core:3.0.0.SNAPSHOT]   at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:82) [com.google.inject:4.0.0]   at org.sonatype.nexus.internal.web.EnvironmentFilter.doFilter(EnvironmentFilter.java:92) [org.sonatype.nexus.core:3.0.0.SNAPSHOT]   at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:82) [com.google.inject:4.0.0]   at com.google.inject.servlet.DynamicFilterPipeline.dispatch(DynamicFilterPipeline.java:104) [com.google.inject:4.0.0]   at com.google.inject.servlet.GuiceFilter$1.call(GuiceFilter.java:133) [com.google.inject:4.0.0]   at com.google.inject.servlet.GuiceFilter$1.call(GuiceFilter.java:130) [com.google.inject:4.0.0]   at com.google.inject.servlet.GuiceFilter$Context.call(GuiceFilter.java:203) [com.google.inject:4.0.0]   at com.google.inject.servlet.GuiceFilter.doFilter(GuiceFilter.java:130) [com.google.inject:4.0.0]   at org.sonatype.nexus.bootstrap.osgi.DelegatingFilter.doFilter(DelegatingFilter.java:73) [org.sonatype.nexus.bootstrap:3.0.0.SNAPSHOT]   at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652) [org.eclipse.jetty.servlet:9.2.9.v20150224]   at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:585) [org.eclipse.jetty.servlet:9.2.9.v20150224]   at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143) [org.eclipse.jetty.server:9.2.9.v20150224]   at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:577) [org.eclipse.jetty.security:9.2.9.v20150224]   at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:223) [org.eclipse.jetty.server:9.2.9.v20150224]   at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1127) [org.eclipse.jetty.server:9.2.9.v20150224]   at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:515) [org.eclipse.jetty.servlet:9.2.9.v20150224]   at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:185) [org.eclipse.jetty.server:9.2.9.v20150224]   at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1061) [org.eclipse.jetty.server:9.2.9.v20150224]   at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141) [org.eclipse.jetty.server:9.2.9.v20150224]   at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:97) [org.eclipse.jetty.server:9.2.9.v20150224]   at com.codahale.metrics.jetty9.InstrumentedHandler.handle(InstrumentedHandler.java:175) [com.codahale.metrics.jetty9:3.0.2]   at org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:110) [org.eclipse.jetty.server:9.2.9.v20150224]   at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:97) [org.eclipse.jetty.server:9.2.9.v20150224]   at org.eclipse.jetty.server.Server.handle(Server.java:497) [org.eclipse.jetty.server:9.2.9.v20150224]   at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:310) [org.eclipse.jetty.server:9.2.9.v20150224]   at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:257) [org.eclipse.jetty.server:9.2.9.v20150224]   at org.eclipse.jetty.io.AbstractConnection$2.run(AbstractConnection.java:540) [org.eclipse.jetty.io:9.2.9.v20150224]   at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:635) [org.eclipse.jetty.util:9.2.9.v20150224]   at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:555) [org.eclipse.jetty.util:9.2.9.v20150224]   at java.lang.Thread.run(Thread.java:745) [na:1.8.0_40]  {quote}"""
"NEXUS-8595","Bug","Search|UI",2,"UI errors on search load","""Loading search I am seeing the attached.  I do not see an error in the logs (standard level) or JS.  I was able to perform a search as well (though having trouble with a second - unsure if related so ticketing seperately) so as far as I can tell this is UI.  My guess is since everything starts null seems it'd conflict with anything not allowed to be null.  This seems recent regression but without the capability to push NuGet repos (NEXUS-8557) I haven't searched for a while.  Search is revamped in Dizzam though so no older NX3 checks done at this time.  This issue does not impact NX2."""
"NEXUS-8586","Improvement","Database",0.5,"OScriptManager - Cannot find default script language for javascript","""Orient supports some scripting features, which we are not using (maybe never will) but its spitting out a warning when it starts up.    Should look into disabling this so it won't complain, or change the default to """"groovy"""" which is available."""
"NEXUS-8606","Bug","UI",0.5,"Cannot save changes to an existing LDAP connection","""Steps to reproduce:    + Create an LDAP connection  + Edit the connection, and change one of the parameters  + Save the change  + Attempt to navigate to a different feature (notice the “Discard changes” modal)  + If you click “Discard changes”, then navigate back to the LDAP connection, notice how the edited parameter still has its original value.    Screencast:    http://take.ms/1aaBz"""
"NEXUS-8605","Bug","UI",1,"No such property: valueIfValid while saving LDAP/CLM/Crowd","""Cannot create LDAP servers, configure CLM/Crowd due to exception shown in attachment."""
"NEXUS-8604","Bug","Security|UI",2,"If you change the admin password, auth fails on future login attempts","""Steps to reproduce:    + Go to the User feature, and change the password for `admin`.  + Log out, and try to log back in (attempt fails).  + Restart the server, and try to log in (fails).  + Delete the sonatype-work folder, restart the server, and try to log in (fails).  + Rebuild Nexus, start the server, and try to log in (works!)    Example:    http://take.ms/8KZGd    Log output:    """
"NEXUS-8602","Bug","NuGet",1,"Misconfigured nuget realm/api key leads to indecipherable warning","""In NEXUS-8420, I believed I was unable to push some NuGet packages.  It turns out that my configuration was bad but because the errors were so generic and the fact some packages worked (still a mystery to me) I was unable to tell this.    The front end nuget message is """"Unable to write data to the transport connection: An existing connection was forcibly closed by the remote host.""""  The log shows:  {quote}  2015-05-11 17:43:21,120-0400 WARN  [qtp1321231863-47]  org.eclipse.jetty.http.HttpParser - badMessage: java.lang.IllegalStateException: too much data after closed for HttpChannelOverHttp@4fdaf693{r=1,c=false,a=IDLE,uri=-}  {quote}    Neither of these speak to the fact the configuration is bad (realm not enabled, API Key not set for host).  After discussing with [~mprescott], we decided to file and discuss if worth fixing in triage.    This could also be an improvement; leaving bug because of the way the summary is phrased:P  NuGet was revamped for Dizzam so no older NX3 checks were done at this time.  Also did not back check NX2 (which could be impacted).    Acceptance Criteria:  - Provide a human readable message that informs you to turn on the NuGet realm"""
"NEXUS-8620","Bug","Maven|Repository|UI",1,"Maven Proxy / Hosted repositories cannot be saved","""[~alin] noticed that repositories with version policies cannot be saved.  I checked master and see when I save I get a """"may not be null"""" message under these.  I checked through the default ones and think it just proxy and hosted maven that are affected.    Alin says this is related to NEXUS-8503 and """"that is becuase disabling a field will result into those fields to not be submitted and that will not pass repository validation"""".  I guess when I checked that I only checked by sight, my bad=\    Below also appears in the log:  {quote}  2015-05-13 14:38:42,377-0400 WARN  [qtp789933455-214] admin org.sonatype.nexus.repository.config.ConfigurationFacetImpl - Validation failed; 1 constraints violated:    1) may not be null, type: class org.sonatype.nexus.repository.config.ConfigurationFacetImpl$SectionWrapper, property: attributes[maven].versionPolicy, value: null  {quote}    This does not impact NX2 or older NX3 builds."""
"NEXUS-8632","Bug","UI",0.5,"HTTP Proxy takes 2 clicks to save ""off""","""While testing NEXUS-8488, I setup a proxy via System>HTTP, but I saw something weird so went to do it again.  Rather than delete all the settings I had input, I simply unchecked the proxy and saved.  When I did this, I was presented with a screen with HTTP Proxy still checked but both fields validating, despite the fact I had saved with HTTP Proxy unchecked.  If you uncheck again and save this time it turns off.  Similarly if you refresh the page or leave and return, it will be unchecked.    Steps to repro:  1) Load System>HTTP  2) Check HTTP Proxy  3) Enter HTTP Proxy host and HTTP Proxy port  4) Save  5) Uncheck HTTP Proxy  6) Save; BUG: HTTP Proxy rechecks (tho fields are wiped)    I did not check older NX3 or NX2 at this time."""
"NEXUS-8631","Bug","UI",1,"Switching to System>HTTP auto expands all then collapses","""I noticed when I went to System>HTTP, that behind the normal loading screen, every field was expanded.  I could tell this because I saw traces of red where there is none once the field loads in addition to the page contents being longer then loading shorter.    While reproducing I also noticed that intermittantly, I would get a message prompting me to discard/save changes even though I was going to/loading this page.  This may be a distinct issue, however, mentioning here because the video I captured, this happened twice.  The third time (on video) it did not occur and shows the behavior without this.  I left minor in case this is two issues in one, that one is rather perplexing, otherwise this would be trivial.  Let me know if not clear.    I did not check older versions of NX3 or NX2 at this time."""
"NEXUS-8630","Improvement","UI",0.5,"Stop auto-collapsing side-nav","""http://take.ms/6FIqC    Its distracting (ui flickers/twitches on some transitions), doesn't add too much real value.    It also will auto hide even if manually expanded due to status refresh, which is also pretty annoying.    Dont mind if user wants to collapse it, so this isn't about making the side-nav static (collapsable=false) but simply don't automatically hide it anymore."""
"NEXUS-8629","Improvement","CMA",2,"Add non-browsable warning","""We don't yet have repository browse support (e.g. by visiting the repository URL in the browser), which may cause confusion when users follow the repository URLs from the Repo Admin UI.    ACCEPTANCE CRITERIA    For browsable formats (maven, but not nuget - determine which is which), visiting the root of the repository produces a user-friendly explanation that this is meant for clients and is not yet browsable.    Technical comments  - this will require amending the repository recipe(s)"""
"NEXUS-8625","Bug","NPM",1,"Allow fetching of tarballs from incomplete NPM packages","""Currently we disallow fetching of tarballs from incomplete NPM packages, where a package is considered as incomplete if it has at least one version which doesn't define a tarball distribution.    We should instead just disallow fetching of tarballs whose specific version is incomplete, rather than ban the whole package whose versions might all be complete except for one incomplete version.    Recreate instructions:    * Install Nexus and add an NPM proxy repository for https://registry.npmjs.org/ and then add it to an NPM group (called npm)  * Accessing chokidar package root should pass:  curl 'http://127.0.0.1:8081/nexus/content/groups/npm/chokidar'  * Now download the registry root:  curl 'http://127.0.0.1:8081/nexus/content/groups/npm/-/all'   (will take a while)  * Accessing chokidar package root should now fail:  curl 'http://127.0.0.1:8081/nexus/content/groups/npm/chokidar'  * Accessing chokidar tarball should also fail:  http://127.0.0.1:8081/nexus/content/groups/npm/chokidar/-/chokidar-0.6.3.tgz    Original cause:  the npmjs registry root declares basic version metadata for all packages, and Nexus distributes this partial metadata across the package roots when the registry root is fetched. If you then request a particular package root (say chokidar) Nexus will overlay the full package metadata with the partial metadata from the registry root. For almost all packages this means that the partial version metadata from the registry root is replaced with full version metadata from the package root. However, the chokidar and phantomjs packages each have a version listed in the registry root that doesn't appear in their package root. This leaves an incomplete version in the merged package root, which then causes nexus to fail to serve any tarballs from that package.    Acceptance test:  with this fix these last two failures are fixed.  """
"NEXUS-8624","Bug","NPM",1,"Replace NPM package root when proxying (instead of merging the content)","""At the moment we always merge the downloaded package root with previously cached content. This can end up leaving bad entries in the cache even after they have been removed from the upstream proxy.     The most likely reason package versions were removed from the remote is due to the package author [unpublishing|https://docs.npmjs.com/cli/unpublish] them. End users should examine the associated package SCM repository commit history to look for a note of such an action.    NEXUS-8625 also describes another scenario where Nexus can end up with bad metadata.    Expected: Replace the cached metadata content with the new downloaded content."""
"NEXUS-8642","Bug","UI",0.5,"No NX version in describe","""While testing the revamped ?describe UI, I noticed that the page no longer has a version at the top.  Instead it says $nexusVersion.  Assuming a variable went awry somewhere?  Since (largely) an internal tool this might be the most trivial thing I've ever filed but I think worth correcting (if not intentional).    Did not check older NX3 at this time, but the screen from [~dsauble]'s PR for NEXUS-7711 shows it working, so I'm assuming recent regression, likely because of NEXUS-7711."""
"NEXUS-8637","Bug","Repository",1,"Forbidden redeploy attempt causes HTTP 500 response","""While the policy is enforced, the log gets an ugly stack-trace and response code of 500 Internal Error which is not acceptable.        Response should be 400 Bad Request."""
"NEXUS-8635","Improvement","UI",0.5,"Picker widget field labels for disabled are strange","""Other fields labels when disabled do not get same treatment."""
"NEXUS-8644","Bug","UI",0.5,"On refresh, feature icon and title overlap","""Screencast: http://take.ms/v4o3j    Saw this periodically on Nexus 3 Pro, but now seeing on every refresh in Nexus 3 OSS."""
"NEXUS-8658","Bug","UI",1,"After save of LDAP user, Users screen shows non-LDAP users with LDAP filter","""Testing LDAP, I saved an LDAP user (giving them permissions) and the behavior returned you to the Users list but showed the non-LDAP users.  The filter however, was still showing LDAP.  This is inconsistant and confusing so ticketing.    One of the reasons for not seeing this elsewhere is this is one of the few (if any) pages in which you save and it changes the screen.  Most of them stay on the page they were on.    This occurred in Dizzam before the found as ticket and was not immediate regression though I did not test older NX3 builds.  This does not impact NX2."""
"NEXUS-8656","Bug","UI",0.5,"non proxy hosts tooltip suggests a misleading syntax","""If one is to add non proxy hosts - the tooltip (? icon) suggests regular expression *\.somecompany\.com. Inserting a host with such format does not produce an error, but while having a wildcard '*' at the beginning of a hostname causes an error to show up in the console upon restart of Nexus.  A correct regex patter should be something like:  .+\.somecompany\.com  This correctly validates upon restart.    Acceptance Criteria:  - Change help text to correct pattern"""
"NEXUS-8655","Bug","LDAP|UI",1,"LDAP's Verify Connection times out faster than listed","""While testing NEXUS-8606, I went back to a branch before the changes to establish how LDAP was running in NX3 (and NX2) pre-change to review for regression issues.  When testing NEXUS-8606, I noticed that when I set the Connection Rules (via the Connection """"tab"""") that it timed out within a 7 count when I clicked """"Verify Connection"""" regardless of what I put in that field.  In the branch I tested before NEXUS-8606 (109941d), Verify Connection seemed to take longer (or shorter) as I adjusted the values.  Note, in order to see this, you need to do a bad configuration.  If you have a good configuration it works immediately.    Honestly, I am not even sure it's supposed to work this way (or if it was only for actual LDAP timeout).  These fields are new to NX3 (so not NX2 regression).  I did not check older NX3 milestones at this time."""
"NEXUS-8654","Bug","LDAP|UI",0.5,"LDAP's Verify Login does nothing","""Noticed that in NX3, when configuring LDAP, the Verify Login submission did nothing regardless of configuration setup or data you entered valid or invalid.  There are no errors in the console, log or screen.  As far as I can tell this item does not exist in NX2, so there's nothing to compare against functionally either.  Weirdly, for that reason I am marking this minor because there's no real loss either.  I did not check older milestones of NX3 but this is NOT regression of the ticket discovered by."""
"NEXUS-8653","Bug","LDAP|UI",0.5,"LDAP's Verify User Mapping button errors and does nothing","""Noticed that in NX3, when configuring LDAP, the Verify User Mapping button gives the attached error and does nothing.  This also appears as a JS error in the console:  """"Uncaught ReferenceError: me is not defined  nexus-coreui-plugin-prod.js?_v=3.0.0-SNAPSHOT&_dc=1432064146870:1""""    ADDENDUM: This shows as """"Uncaught ReferenceError: me is not defined - LdapServers.js?_dc=1432066923264:433"""" with ?debug on.    This works in NX2.  I did not check older milestones of NX3 but this is not regression of the ticket discovered by.    I am leaving this major because this is a super easy way to make sure this configuration is working before actually working with LDAP stuff.  I am not sure if there's anywhere else that does that in one button click which makes for a poor workaround."""
"NEXUS-8650","Bug","Crowd",0.5,"Request Timeout field in Crowd appears to do nothing?","""While reviewing Crowd, I tried different values for both HTTP and Crowd specific Request Timeout and only the 0 value appeared to affect Crowd (would cause seemingly endless attempts to reconnect on a """"bad"""" username/password).  I asked the team what this field was supposed to do to clarify I was testing the right thing and it was inferred I should create a ticket for review.    I tried values of 60, 1 and 20000 (in case millseconds regression) in the field.  I tried with Crowd off and valid username/password as well as Crowd on and """"bad"""" username/password and it immediately gave me a validation no matter what configuration (except in the 0 case).  I tried less combinations on the fallback general HTTP values but my findings were those are not being picked up either.    Investigation appreciated.  If not just me, all the above should probably be (re)tested once a solution is implemented.    I did not check older NX3 or NX2 to see if working/not working at this time."""
"NEXUS-8667","Bug","Maven",1,"Maven content validation fails to valid POM","""Valid POM is being requested, but Maven Proxy fails to validate it. The POM is not a valid XML but Maven would parse it.    The POM in question:  https://repository.sonatype.org/content/groups/sonatype-grid/org/json/org.json/2.0-NEXUS-3758/org.json-2.0-NEXUS-3758.pom    Excerpt from logs:  """
"NEXUS-8666","Bug","Repository",1,"Group repositories should handle and skip members in case of some exceptions","""Spotted while testing, content validation stopped group processing, where the right content was present in two repositories:  - repoA - throw InvalidContentEx, and execution stopped here (and resulting with 500 Internal Error, see NEXUS-8665)  - repoB - did have the good content, but was never asked for.    In this case group handler should neglect (log maybe) that a member reported content validation failure, but *should continue processing* on next member."""
"NEXUS-8665","Bug","Repository",1,"Handle content validation failures gracefully","""Similar issue to NEXUS-8637, this case also currently results in HTTP 500 Internal Error, but should not. Downstream 404 Not Found is more appropriate, OR, in case of deploy, 400 Bad Request."""
"NEXUS-8676","Bug","Repository",0.5,"mime detection may not cache properly for specific request paths","""DefaultMimeSupport has it's own code to extract the extension from a given path. The code doesn't handle certain cases where dots appear multiple times in the path, or when slashes appear after the last dot, which means it can end up extract more of the path than necessary. This can lead to situations where the mime cache is ignored.    DefaultMimeSupport should instead use FilenameUtils.getExtension"""
"NEXUS-8697","Bug","Maven",1,"MavenProxyFacet - Could not parse date Last-Modified using system current time as item creation time WARN message","""Create a Nexus 3 Maven 2 proxy repository to your Nexus 3 instance Central Proxy repository.    Request abbot/abbot/0.13.0/abbot-0.13.0.pom through this proxy repo. This fails with 404 ( due to {{Declared content type text/xml, but discovered \[text/plain, application/octet-stream\]}}. See NEXUS-8667 I guess? ) - but there also appears to be a problem parsing Last-Modified headers because they were rewritten in a format not expected by our new proxy implementation.    """
"NEXUS-8696","Bug","Scheduled Tasks",0.5,"newly created scheduled tasks are not enabled by default","""Using Nexus 3 ( tested nexus-professional-3.0.0-20150525.080626-1043-bundle ), create a Scheduled task. By default the Task Enabled checkbox is not checked.     When creating any new scheduled task, the default should be that the enabled checkbox is checked. This is a logical default and how it works in Nexus 2.x.    """
"NEXUS-8695","Bug","Security|UI",0.5,"UI complaining about nexus:healthcheck:read missing for anonymous user","""http://take.ms/L1uKq    Load Nexus 3 UI as anonymous user. Lots of messages about {{nexus:healthcheck:read}} priv missing.    Used nexus-professional-3.0.0-20150525.080626-1043-bundle  """
"NEXUS-8694","Bug","UI",0.5,"create role menu expansion not persisting","""See video:  http://take.ms/BEc4f    Note I am not clicking anything other than the Create Role button. Menu is just hiding on it's own before I can click anything.  """
"NEXUS-8705","Improvement","Blobstore",1,"Default file blob store should be created immediately","""Currently, creation of the default blob store is lazy.  This is a problem because (insert problem here).  - Problem was went to look for Blob Store and it wasn't there yet!    A new instance of Nexus should create the default file blob store as it starts up for the first time."""
"NEXUS-8704","Improvement","Raw|Repository",1,"Raw repo with index.html shows error 400","""h4. Acceptance Criteria    Whenever a request ending in slash would otherwise 404, Nexus will check each of the pages, in the order provided.    This only affects raw hosted repositories.  (Proxies can rely on the 'default page' handling of the remote repository.)    h4. RATIONALE    Deploy a site with an index.html to a hosted raw repo e.g. with the Maven site deployment from https://github.com/sonatype/nexus-book-examples/tree/nexus-3.0.x/maven/simple-project    Then navigating to the URL of the repo you see a 400 error in the Nexus UI    http://localhost:8081/repository/site/    Even though http://localhost:8081/repository/site/index.html renders the site in HTML.    Note:  - Make sure we have a longer term plan for how we handle index.html and directory root/etc..."""
"NEXUS-8701","Bug","Repository|UI",0.5,"Using a repository id of "".."" creates a repository that is now untouchable in the UI","""Noticed while testing an unrelated issue that the nexus UI allows you to enter two dots '..' as an id for a repository, doing this renders the repository effectively useless in the UI, ultimately i had to manually remove the repository from my nexus.xml"""
"NEXUS-8698","Bug","Repository|UI",0.5,"Discrepancy of strictContentTypeValidation between UI created and default DefaultRepositoriesContributor repositories","""DefaultRepositoriesContributor creates with {{strictContentTypeValidation=false}} while repositories created via UI have {{strictContentTypeValidation=true}}.    I think we should decide which one is the default and go with that in both cases.    Acceptance Criteria:  - Set strictContentTypeValidation to true when default repos are created"""
"NEXUS-8719","Bug","Rapture|Search|UI",0.5,"Icon missing on search details breadcrumb","""Noticed that there's a gap in the breadcrumb when drilling down into search details (search-component-component details).  I asked [~dsauble] and he said there should be an icon there.    I am guessing this is recent regression but did not check old NX3 at this time.  NX2 is not affected."""
"NEXUS-8717","Bug","IQ Integration|UI",0.5,"CLM Verify connection errors","""After configuring CLM, I clicked """"Verify Connection"""" and saw the attached error on screen and the below error in the console.  This is not surprising considering the state of NX3 and CLM however there really isn't a ticket covering this IMO.  I am linking the sister which I think things will be reevaluated but I'm not convinced this will be fixed so ticketing seperately.  This does not affect NX2.  I did not check older versions of NX3 at this time, tho I believe either CLM wasn't integrated or this is new to Dizzam since we stripped legacy (I acknowledge those are someone opposite but just stating what I believe=)).    {quote}  2015-05-27 15:17:26,437-0400 ERROR [qtp756632732-159] admin org.sonatype.nexus.extdirect.internal.ExtDirectServlet - Failed to invoke action method: clm_CLM.verifyConnection, java-method: com.sonatype.nexus.clm.internal.ui.ClmComponent.verifyConnection  groovy.lang.MissingMethodException: No signature of method: com.sonatype.nexus.clm.ClmConnector.getRestConfiguration() is applicable for argument types: (java.lang.String, null, null) values: [http://localhost:8070, null, null]  Possible solutions: getRestConfiguration(), getRestConfiguration(java.lang.String, boolean, java.lang.Integer), getRestConfiguration(java.lang.String, boolean, java.lang.Integer, java.lang.String, java.lang.String), getConfiguration()   at org.codehaus.groovy.runtime.ScriptBytecodeAdapter.unwrap(ScriptBytecodeAdapter.java:56) [groovy-all:2.3.7]   at org.codehaus.groovy.runtime.callsite.PojoMetaClassSite.call(PojoMetaClassSite.java:46) [groovy-all:2.3.7]   at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:124) [groovy-all:2.3.7]   at com.sonatype.nexus.clm.internal.ui.ClmComponent.verifyConnection(ClmComponent.groovy:120) [na:na]   at org.apache.shiro.guice.aop.AopAllianceMethodInvocationAdapter.proceed(AopAllianceMethodInvocationAdapter.java:49) [na:na]   at org.apache.shiro.authz.aop.AuthorizingAnnotationMethodInterceptor.invoke(AuthorizingAnnotationMethodInterceptor.java:68) [na:na]   at org.apache.shiro.guice.aop.AopAllianceMethodInterceptorAdapter.invoke(AopAllianceMethodInterceptorAdapter.java:36) [na:na]   at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) [na:1.8.0_40]   at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) [na:1.8.0_40]   at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [na:1.8.0_40]   at java.lang.reflect.Method.invoke(Method.java:497) [na:1.8.0_40]   at com.softwarementors.extjs.djn.router.dispatcher.DispatcherBase.invokeJavaMethod(DispatcherBase.java:142) [org.sonatype.nexus.plugins.nexus-extdirect-plugin:3.0.0.SNAPSHOT]   at com.softwarementors.extjs.djn.router.dispatcher.DispatcherBase.invokeMethod(DispatcherBase.java:133) [org.sonatype.nexus.plugins.nexus-extdirect-plugin:3.0.0.SNAPSHOT]   at org.sonatype.nexus.extdirect.internal.ExtDirectServlet$3.invokeMethod(ExtDirectServlet.java:201) [org.sonatype.nexus.plugins.nexus-extdirect-plugin:3.0.0.SNAPSHOT]   at com.softwarementors.extjs.djn.router.dispatcher.DispatcherBase.dispatch(DispatcherBase.java:63) [org.sonatype.nexus.plugins.nexus-extdirect-plugin:3.0.0.SNAPSHOT]   at com.softwarementors.extjs.djn.router.processor.standard.StandardRequestProcessorBase.dispatchStandardMethod(StandardRequestProcessorBase.java:73) [org.sonatype.nexus.plugins.nexus-extdirect-plugin:3.0.0.SNAPSHOT]   at com.softwarementors.extjs.djn.router.processor.standard.json.JsonRequestProcessor.processIndividualRequest(JsonRequestProcessor.java:502) [org.sonatype.nexus.plugins.nexus-extdirect-plugin:3.0.0.SNAPSHOT]   at com.softwarementors.extjs.djn.router.processor.standard.json.JsonRequestProcessor.processIndividualRequestsInThisThread(JsonRequestProcessor.java:150) [org.sonatype.nexus.plugins.nexus-extdirect-plugin:3.0.0.SNAPSHOT]   at com.softwarementors.extjs.djn.router.processor.standard.json.JsonRequestProcessor.process(JsonRequestProcessor.java:133) [org.sonatype.nexus.plugins.nexus-extdirect-plugin:3.0.0.SNAPSHOT]   at com.softwarementors.extjs.djn.router.RequestRouter.processJsonRequest(RequestRouter.java:83) [org.sonatype.nexus.plugins.nexus-extdirect-plugin:3.0.0.SNAPSHOT]   at com.softwarementors.extjs.djn.servlet.DirectJNgineServlet.processRequest(DirectJNgineServlet.java:617) [org.sonatype.nexus.plugins.nexus-extdirect-plugin:3.0.0.SNAPSHOT]   at com.softwarementors.extjs.djn.servlet.DirectJNgineServlet.doPost(DirectJNgineServlet.java:580) [org.sonatype.nexus.plugins.nexus-extdirect-plugin:3.0.0.SNAPSHOT]   at org.sonatype.nexus.extdirect.internal.ExtDirectServlet.doPost(ExtDirectServlet.java:121) [org.sonatype.nexus.plugins.nexus-extdirect-plugin:3.0.0.SNAPSHOT]   at javax.servlet.http.HttpServlet.service(HttpServlet.java:707) [javax.servlet-api:3.1.0]   at javax.servlet.http.HttpServlet.service(HttpServlet.java:790) [javax.servlet-api:3.1.0]   at com.google.inject.servlet.ServletDefinition.doServiceImpl(ServletDefinition.java:287) [com.google.inject:4.0.0]   at com.google.inject.servlet.ServletDefinition.doService(ServletDefinition.java:277) [com.google.inject:4.0.0]   at com.google.inject.servlet.ServletDefinition.service(ServletDefinition.java:182) [com.google.inject:4.0.0]   at com.google.inject.servlet.DynamicServletPipeline.service(DynamicServletPipeline.java:70) [com.google.inject:4.0.0]   at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:85) [com.google.inject:4.0.0]   at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:112) [org.apache.shiro.web:1.2.3]   at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:82) [com.google.inject:4.0.0]   at org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilterChain.java:61) [org.apache.shiro.web:1.2.3]   at org.apache.shiro.web.servlet.AdviceFilter.executeChain(AdviceFilter.java:108) [org.apache.shiro.web:1.2.3]   at org.apache.shiro.web.servlet.AdviceFilter.doFilterInternal(AdviceFilter.java:137) [org.apache.shiro.web:1.2.3]   at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:125) [org.apache.shiro.web:1.2.3]   at org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilterChain.java:66) [org.apache.shiro.web:1.2.3]   at org.apache.shiro.web.servlet.AbstractShiroFilter.executeChain(AbstractShiroFilter.java:449) [org.apache.shiro.web:1.2.3]   at org.sonatype.nexus.security.SecurityFilter.executeChain(SecurityFilter.java:85) [org.sonatype.nexus.security:3.0.0.SNAPSHOT]   at org.apache.shiro.web.servlet.AbstractShiroFilter$1.call(AbstractShiroFilter.java:365) [org.apache.shiro.web:1.2.3]   at org.apache.shiro.subject.support.SubjectCallable.doCall(SubjectCallable.java:90) [org.apache.shiro.core:1.2.3]   at org.apache.shiro.subject.support.SubjectCallable.call(SubjectCallable.java:83) [org.apache.shiro.core:1.2.3]   at org.apache.shiro.subject.support.DelegatingSubject.execute(DelegatingSubject.java:383) [org.apache.shiro.core:1.2.3]   at org.apache.shiro.web.servlet.AbstractShiroFilter.doFilterInternal(AbstractShiroFilter.java:362) [org.apache.shiro.web:1.2.3]   at org.sonatype.nexus.security.SecurityFilter.doFilterInternal(SecurityFilter.java:101) [org.sonatype.nexus.security:3.0.0.SNAPSHOT]   at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:125) [org.apache.shiro.web:1.2.3]   at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:82) [com.google.inject:4.0.0]   at com.sonatype.nexus.licensing.internal.LicensingRedirectFilter.doFilter(LicensingRedirectFilter.java:130) [com.sonatype.nexus.plugins.nexus-licensing-plugin:3.0.0.SNAPSHOT]   at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:82) [com.google.inject:4.0.0]   at com.codahale.metrics.servlet.AbstractInstrumentedFilter.doFilter(AbstractInstrumentedFilter.java:97) [com.codahale.metrics.servlet:3.0.2]   at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:82) [com.google.inject:4.0.0]   at org.sonatype.nexus.internal.web.ErrorPageFilter.doFilter(ErrorPageFilter.java:63) [org.sonatype.nexus.core:3.0.0.SNAPSHOT]   at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:82) [com.google.inject:4.0.0]   at org.sonatype.nexus.internal.web.EnvironmentFilter.doFilter(EnvironmentFilter.java:92) [org.sonatype.nexus.core:3.0.0.SNAPSHOT]   at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:82) [com.google.inject:4.0.0]   at com.google.inject.servlet.DynamicFilterPipeline.dispatch(DynamicFilterPipeline.java:104) [com.google.inject:4.0.0]   at com.google.inject.servlet.GuiceFilter$1.call(GuiceFilter.java:133) [com.google.inject:4.0.0]   at com.google.inject.servlet.GuiceFilter$1.call(GuiceFilter.java:130) [com.google.inject:4.0.0]   at com.google.inject.servlet.GuiceFilter$Context.call(GuiceFilter.java:203) [com.google.inject:4.0.0]   at com.google.inject.servlet.GuiceFilter.doFilter(GuiceFilter.java:130) [com.google.inject:4.0.0]   at org.sonatype.nexus.bootstrap.osgi.DelegatingFilter.doFilter(DelegatingFilter.java:73) [org.sonatype.nexus.bootstrap:3.0.0.SNAPSHOT]   at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652) [org.eclipse.jetty.servlet:9.2.9.v20150224]   at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:585) [org.eclipse.jetty.servlet:9.2.9.v20150224]   at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143) [org.eclipse.jetty.server:9.2.9.v20150224]   at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:577) [org.eclipse.jetty.security:9.2.9.v20150224]   at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:223) [org.eclipse.jetty.server:9.2.9.v20150224]   at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1127) [org.eclipse.jetty.server:9.2.9.v20150224]   at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:515) [org.eclipse.jetty.servlet:9.2.9.v20150224]   at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:185) [org.eclipse.jetty.server:9.2.9.v20150224]   at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1061) [org.eclipse.jetty.server:9.2.9.v20150224]   at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141) [org.eclipse.jetty.server:9.2.9.v20150224]   at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:97) [org.eclipse.jetty.server:9.2.9.v20150224]   at com.codahale.metrics.jetty9.InstrumentedHandler.handle(InstrumentedHandler.java:175) [com.codahale.metrics.jetty9:3.0.2]   at org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:110) [org.eclipse.jetty.server:9.2.9.v20150224]   at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:97) [org.eclipse.jetty.server:9.2.9.v20150224]   at org.eclipse.jetty.server.Server.handle(Server.java:497) [org.eclipse.jetty.server:9.2.9.v20150224]   at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:310) [org.eclipse.jetty.server:9.2.9.v20150224]   at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:257) [org.eclipse.jetty.server:9.2.9.v20150224]   at org.eclipse.jetty.io.AbstractConnection$2.run(AbstractConnection.java:540) [org.eclipse.jetty.io:9.2.9.v20150224]   at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:635) [org.eclipse.jetty.util:9.2.9.v20150224]   at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:555) [org.eclipse.jetty.util:9.2.9.v20150224]   at java.lang.Thread.run(Thread.java:745) [na:1.8.0_40]  {quote}"""
"NEXUS-8713","Bug","System Feeds",1,"Feed paging does not work","""As feeds are getting revived, it occurred to me that on UI paging of the feeds does not work."""
"NEXUS-8726","Bug","Security",2,"Security role can be added to itself","""It is currently possible to add a role to itself in the administration user interface. Validation and the UI should make this impossible to prevent downstream problems"""
"NEXUS-8724","Improvement","Scheduled Tasks",0.5,"improve snapshot remover tasks performance by reducing potential i/o","""1. When processing GAV that contains multiple timestamped pom files, and the  remove if released option is true, then make sure we only check for release once, not once per  every timestamp snapshot. This reduces the I/O for the *Remove Snapshots From Repository* task _when the remove if released option is checked ( true )_.    2. Do not include signature or hash files when checking for the oldest accessed snapshot last requested timestamp. Given each artifact can have upwords of 5 total of these (.asc , .asc.sha1, .asc.md5, .sha1 and .md5 ) and typically always two ( .sha1, .md5 ), this can reduce I/O reading attributes files by a minimum of 66%. This is always a benefit to the *Remove Unused Snapshots from Repository* task because this task always tries to calculate the days since any snapshot was last requested. It does this by reading attributes files off disk. Avoiding the above files means attributes for these files does not need to be read off disk.    3. When determining the most recent last requested time for the snapshots in the same build number, avoid iterating over the entire GAV collection of files for each artifact to check. By caching the last requested timestamps in the main processing loop, and determining the most recent last requested date on the fly, we can avoid iterating over the entire collection again for each file, when needing to find the most recent last requested for similar snapshots. This has significant performance benefits for the *Remove Unused Snapshots from Repository* task.  """
"NEXUS-8730","Bug","UI",2,"Creating repos expands all collapsed left nav items","""Collapsed IQ Server and Security left nav items to be able to see Tasks and Repos in one screen.  Noticed that creating a Maven Hosted repo auto expanded what I had collapsed.  I tried Raw hosted as well.  No errors in console or log.    I tried creating a task and this did not auto-expand, so as far as I can tell this is a repo creation thing.    I did not check older NX3 or NX2 at this time.  Let me know if you need a vid."""
"NEXUS-8737","Bug","NPM",1,"npm database grows unexpectedly large on cache expired requests","""On every npm proxy repository cache expiry, when the remote is checked for metadata updates, then the npm Orient DB database file {{default.pcl}} file grows by a large unexpected amount. In theory I would expect no need to store this much new data in the database for something that did not really change.    Reproduce using 2.11.3-01:    1. create npm proxy repo to https://registry.npmjs.org  2. Set all cache settings to 1 minute ( for testing purposes ). Save. These will display as 1,0,0,1 ( UI bug, not the issue )  3. note sonatype-work/nexus/db/npm/default.pcl size: mine is 65k  4. request http://localhost:8081/nexus/content/repositories/npm/express and get 200 response    5. note default.pcl size: mine becomes 449K  6. wait more than 1 minute for cache expiry. Set logger remote.storage.outbound to DEBUG.  7. request express again - verify 304 not modified response from remote, note default.pcl size increase - now size is: 833K  8. repeat - for every cache expiry, default.pcl will grow over 400 k.      """
"NEXUS-8746","Bug","Installer",0.5,"gradle simple-project-staging sample project uses an obsolete version of the nexus-staging-ant-tasks","""The build.gradle file in the """"simple-project-staging"""" project in our trial uses version 1.6.1 of the nexus-staging-ant-tasks:    https://github.com/sonatype/nexus-bundles/blob/nexus-2.11.x/assemblies/nexus-trial/src/main/content/trial-evalguide/gradle/simple-project-staging/build.gradle#L51    This causes the sample project to fail with a pretty unhelpful exception when used with Nexus 2.11.3:    {quote}  * Where:  Build file 'C:\nexus-evalguide\gradle\simple-project-staging\build.gradle' line: 125    * What went wrong:  Execution failed for task ':releaseStagingRepository'.  > java.lang.ArrayIndexOutOfBoundsException: -1    * Try:  Run with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output.  {quote}    I was going to just check in a fix for this, but then I realized there are probably other places in the sample projects using the wrong versions of the staging clients.  So someone who is familiar with these needs to check them over.    """
"NEXUS-8755","Bug","NuGet",2,"NuGet push causes 500 errors when nuget realm not active","""Testing NEXUS-8721, I changed a file from xml into a nupkg file then tried to upload it to Nexus using curl (curl -u admin:admin123 -X PUT -v -include -F package=@fake.nupkg http://localhost:8081/repository/nuget-hosted/) [strict content validation on]  As expected it errored, but the error is error 500 the debug starts """" 2015-06-03 17:44:45,516-0400 ERROR [qtp2060633588-111] admin com.sonatype.nexus.repository.nuget.internal.NugetPushHandler - Unknown error"""" .    I asked [~mprescott] and he said worth filing to fix up.    I did not check older NX3 at this time (NX2 is older code and not relavent to check against).    Full trace here:  """
"NEXUS-8754","Bug","Installer",0.5,"Nexus startup script error","""Starting nexus on Ubuntu 14.04 with the following commands    {code:none}  nexus-3.0.0-b2015020701/bin/nexus      This is caused because of the == operator(bashism) used in here and ubuntu defaults at linking /bin/sh to dash. Can consider replacing the == operator with = operator ?    {code:none}  ls -la /bin/sh    lrwxrwxrwx 1 root root 4 Jul 20  2014 /bin/sh -> dash  {code}    Note that nexus is started although the error is thrown."""
"NEXUS-8749","Bug","NuGet",1,"Generic exception occurs with some NuGet errors","""With help from [~mprescott] and [~mcculls], it was revealed that the error I received while testing NuGet was a generic 500 and that needs to be made into a specific error.    I noticed this twice and will put details below, however, only one case was reproducable.    A) While testing NEXUS-8714 (MacOSX), I unintentionally left my HTTP Proxy configured when running the curl.  This generated the error every time.    Steps to repro:  1) From Security>HTTP, check HTTP Proxy.  Configure a non-working proxy (mine was Charles defaults without Charles on; so HTTP proxy host = localhost, HTTP proxy port = 8888).  Save.  2) From console run curl from NEXUS-8714, """"curl -v --user admin:admin123 http://127.0.0.1:8081/repository/nuget-group/Microsoft.AspNet.WebApi.Client/5.2.2 -o test.nupkg""""    B) While testing NEXUS-8611 (Windows7), I tried to use the nuget command line to install FaceSharp (nuget install FaceSharp -source NX3Proxy).  This did not complete with an error 500 on the command line screen (see attached) but also with the error occurring.  This was not reproducable.  I suspect after successful install this was caused by a timeout that may be able to be reproduced with throttling if my suspicions are right.  But as such there are no steps at this time.    I did not test older NX3 or NX2 at this time, though I suspect (at least in the case of NX3) the issue is because of """"new"""" NuGet (revamped in m4).    Error in both cases:  {quote}  2015-06-02 17:45:03,698-0400 WARN [qtp756632732-53] admin org.sonatype.nexus.repository.httpbridge.internal.ViewServlet - Service failure  java.lang.UnsupportedOperationException: null  at com.sonatype.nexus.repository.nuget.internal.proxy.NugetProxyFacet.getUrl(NugetProxyFacet.java:115) [na:na]  at org.sonatype.nexus.repository.proxy.ProxyFacetSupport.get(ProxyFacetSupport.java:163) [na:na]  at org.sonatype.nexus.repository.proxy.ProxyHandler.handle(ProxyHandler.java:49) [na:na]  at org.sonatype.nexus.repository.view.Context.proceed(Context.java:78) [na:na]  at org.sonatype.nexus.repository.view.ExceptionHandler.handle(ExceptionHandler.java:38) [na:na]  at org.sonatype.nexus.repository.view.Context.proceed(Context.java:78) [na:na]  at org.sonatype.nexus.repository.security.SecurityHandler.handle(SecurityHandler.java:46) [na:na]  at org.sonatype.nexus.repository.view.Context.proceed(Context.java:78) [na:na]  at org.sonatype.nexus.repository.view.handlers.TimingHandler.handle(TimingHandler.java:46) [na:na]  at org.sonatype.nexus.repository.view.Context.proceed(Context.java:78) [na:na]  at org.sonatype.nexus.repository.view.Context.start(Context.java:116) [na:na]  at org.sonatype.nexus.repository.view.Router.dispatch(Router.java:58) [na:na]  at org.sonatype.nexus.repository.view.ConfigurableViewFacet.dispatch(ConfigurableViewFacet.java:43) [na:na]  at org.sonatype.nexus.repository.group.GroupHandler.getFirst(GroupHandler.java:119) [na:na]  at org.sonatype.nexus.repository.group.GroupHandler.doGet(GroupHandler.java:97) [na:na]  at org.sonatype.nexus.repository.group.GroupHandler.handle(GroupHandler.java:81) [na:na]  at org.sonatype.nexus.repository.view.Context.proceed(Context.java:78) [na:na]  at org.sonatype.nexus.repository.view.ExceptionHandler.handle(ExceptionHandler.java:38) [na:na]  at org.sonatype.nexus.repository.view.Context.proceed(Context.java:78) [na:na]  at org.sonatype.nexus.repository.security.SecurityHandler.handle(SecurityHandler.java:46) [na:na]  at org.sonatype.nexus.repository.view.Context.proceed(Context.java:78) [na:na]  at org.sonatype.nexus.repository.view.handlers.TimingHandler.handle(TimingHandler.java:46) [na:na]  at org.sonatype.nexus.repository.view.Context.proceed(Context.java:78) [na:na]  at org.sonatype.nexus.repository.view.Context.start(Context.java:116) [na:na]  at org.sonatype.nexus.repository.view.Router.dispatch(Router.java:58) [na:na]  at org.sonatype.nexus.repository.view.ConfigurableViewFacet.dispatch(ConfigurableViewFacet.java:43) [na:na]  at org.sonatype.nexus.repository.httpbridge.internal.ViewServlet.dispatchAndSend(ViewServlet.java:198) [na:na]  at org.sonatype.nexus.repository.httpbridge.internal.ViewServlet.doService(ViewServlet.java:160) [na:na]  at org.sonatype.nexus.repository.httpbridge.internal.ViewServlet.service(ViewServlet.java:117) [na:na]  at javax.servlet.http.HttpServlet.service(HttpServlet.java:790) [javax.servlet-api:3.1.0]  at com.google.inject.servlet.ServletDefinition.doServiceImpl(ServletDefinition.java:287) [com.google.inject:4.0.0]  at com.google.inject.servlet.ServletDefinition.doService(ServletDefinition.java:277) [com.google.inject:4.0.0]  at com.google.inject.servlet.ServletDefinition.service(ServletDefinition.java:182) [com.google.inject:4.0.0]  at com.google.inject.servlet.DynamicServletPipeline.service(DynamicServletPipeline.java:70) [com.google.inject:4.0.0]  at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:85) [com.google.inject:4.0.0]  at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:112) [org.apache.shiro.web:1.2.3]  at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:82) [com.google.inject:4.0.0]  at org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilterChain.java:61) [org.apache.shiro.web:1.2.3]  at org.apache.shiro.web.servlet.AdviceFilter.executeChain(AdviceFilter.java:108) [org.apache.shiro.web:1.2.3]  at org.apache.shiro.web.servlet.AdviceFilter.doFilterInternal(AdviceFilter.java:137) [org.apache.shiro.web:1.2.3]  at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:125) [org.apache.shiro.web:1.2.3]  at org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilterChain.java:66) [org.apache.shiro.web:1.2.3]  at org.apache.shiro.web.servlet.AdviceFilter.executeChain(AdviceFilter.java:108) [org.apache.shiro.web:1.2.3]  at org.apache.shiro.web.servlet.AdviceFilter.doFilterInternal(AdviceFilter.java:137) [org.apache.shiro.web:1.2.3]  at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:125) [org.apache.shiro.web:1.2.3]  at org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilterChain.java:66) [org.apache.shiro.web:1.2.3]  at org.apache.shiro.web.servlet.AdviceFilter.executeChain(AdviceFilter.java:108) [org.apache.shiro.web:1.2.3]  at org.apache.shiro.web.servlet.AdviceFilter.doFilterInternal(AdviceFilter.java:137) [org.apache.shiro.web:1.2.3]  at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:125) [org.apache.shiro.web:1.2.3]  at org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilterChain.java:66) [org.apache.shiro.web:1.2.3]  at org.apache.shiro.web.servlet.AbstractShiroFilter.executeChain(AbstractShiroFilter.java:449) [org.apache.shiro.web:1.2.3]  at org.sonatype.nexus.security.SecurityFilter.executeChain(SecurityFilter.java:85) [org.sonatype.nexus.security:3.0.0.SNAPSHOT]  at org.apache.shiro.web.servlet.AbstractShiroFilter$1.call(AbstractShiroFilter.java:365) [org.apache.shiro.web:1.2.3]  at org.apache.shiro.subject.support.SubjectCallable.doCall(SubjectCallable.java:90) [org.apache.shiro.core:1.2.3]  at org.apache.shiro.subject.support.SubjectCallable.call(SubjectCallable.java:83) [org.apache.shiro.core:1.2.3]  at org.apache.shiro.subject.support.DelegatingSubject.execute(DelegatingSubject.java:383) [org.apache.shiro.core:1.2.3]  at org.apache.shiro.web.servlet.AbstractShiroFilter.doFilterInternal(AbstractShiroFilter.java:362) [org.apache.shiro.web:1.2.3]  at org.sonatype.nexus.security.SecurityFilter.doFilterInternal(SecurityFilter.java:101) [org.sonatype.nexus.security:3.0.0.SNAPSHOT]  at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:125) [org.apache.shiro.web:1.2.3]  at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:82) [com.google.inject:4.0.0]  at com.sonatype.nexus.licensing.internal.LicensingRedirectFilter.doFilter(LicensingRedirectFilter.java:130) [com.sonatype.nexus.plugins.nexus-licensing-plugin:3.0.0.SNAPSHOT]  at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:82) [com.google.inject:4.0.0]  at com.codahale.metrics.servlet.AbstractInstrumentedFilter.doFilter(AbstractInstrumentedFilter.java:97) [com.codahale.metrics.servlet:3.0.2]  at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:82) [com.google.inject:4.0.0]  at org.sonatype.nexus.internal.web.ErrorPageFilter.doFilter(ErrorPageFilter.java:63) [org.sonatype.nexus.core:3.0.0.SNAPSHOT]  at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:82) [com.google.inject:4.0.0]  at org.sonatype.nexus.internal.web.EnvironmentFilter.doFilter(EnvironmentFilter.java:92) [org.sonatype.nexus.core:3.0.0.SNAPSHOT]  at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:82) [com.google.inject:4.0.0]  at com.google.inject.servlet.DynamicFilterPipeline.dispatch(DynamicFilterPipeline.java:104) [com.google.inject:4.0.0]  at com.google.inject.servlet.GuiceFilter$1.call(GuiceFilter.java:133) [com.google.inject:4.0.0]  at com.google.inject.servlet.GuiceFilter$1.call(GuiceFilter.java:130) [com.google.inject:4.0.0]  at com.google.inject.servlet.GuiceFilter$Context.call(GuiceFilter.java:203) [com.google.inject:4.0.0]  at com.google.inject.servlet.GuiceFilter.doFilter(GuiceFilter.java:130) [com.google.inject:4.0.0]  at org.sonatype.nexus.bootstrap.osgi.DelegatingFilter.doFilter(DelegatingFilter.java:73) [org.sonatype.nexus.bootstrap:3.0.0.SNAPSHOT]  at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652) [org.eclipse.jetty.servlet:9.2.9.v20150224]  at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:585) [org.eclipse.jetty.servlet:9.2.9.v20150224]  at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143) [org.eclipse.jetty.server:9.2.9.v20150224]  at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:577) [org.eclipse.jetty.security:9.2.9.v20150224]  at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:223) [org.eclipse.jetty.server:9.2.9.v20150224]  at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1127) [org.eclipse.jetty.server:9.2.9.v20150224]  at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:515) [org.eclipse.jetty.servlet:9.2.9.v20150224]  at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:185) [org.eclipse.jetty.server:9.2.9.v20150224]  at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1061) [org.eclipse.jetty.server:9.2.9.v20150224]  at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141) [org.eclipse.jetty.server:9.2.9.v20150224]  at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:97) [org.eclipse.jetty.server:9.2.9.v20150224]  at com.codahale.metrics.jetty9.InstrumentedHandler.handle(InstrumentedHandler.java:175) [com.codahale.metrics.jetty9:3.0.2]  at org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:110) [org.eclipse.jetty.server:9.2.9.v20150224]  at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:97) [org.eclipse.jetty.server:9.2.9.v20150224]  at org.eclipse.jetty.server.Server.handle(Server.java:497) [org.eclipse.jetty.server:9.2.9.v20150224]  at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:310) [org.eclipse.jetty.server:9.2.9.v20150224]  at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:257) [org.eclipse.jetty.server:9.2.9.v20150224]  at org.eclipse.jetty.io.AbstractConnection$2.run(AbstractConnection.java:540) [org.eclipse.jetty.io:9.2.9.v20150224]  at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:635) [org.eclipse.jetty.util:9.2.9.v20150224]  at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:555) [org.eclipse.jetty.util:9.2.9.v20150224]  at java.lang.Thread.run(Thread.java:745) [na:1.8.0_40]  {quote}"""
"NEXUS-8748","Bug","Testsuite",1,"Release HTTP Test Harness library with fixed OSGi metadata","""Release HTTP Test Harness library with fixed OSGi metadata, and then fix it's usage in some ITs like: NugetITSupport, MavenContentValidationIT etc  """
"NEXUS-8758","Bug","Repository|Search",0.5,"Index creation does not take name case into account","""When checking to see if an index already exists the raw repository name is used, but elasticsearch stores indices in lowercase only. This leads to an exception being thrown on update as we try to create the same index again.        Any repository created with uppercase letters can be used to trigger this behaviour; on an update from the UI you will be greated with a 'facet failed to start' message."""
"NEXUS-8783","Bug","Security",0.5,"task-update permission required to create","""With tasks-read and tasks-create permissions, I can click the button to create a new task however, I cannot access some of the fields (including the required ones in both of the current tasks).  Oddly, I can access some of the fields.    Once I add """"tasks-update"""" permission, the tasks become creatable.  Not only does this seem odd but it's not how any of the other permissions I've tested function, so I'm filing for eval.    I did not test older NX3 or NX2 at this time.  Debug off during these tests."""
"NEXUS-8784","Bug","Rapture|UI",0.5,"Modal not bound to enter key","""While changing a users password through Security>Users, I entered the new password twice and hit enter.  Nothing happened.  I was able to continue using the mouse and clicking Change Password.  The authentication modal just before this allowed enter, so I'm assuming this is a bug."""
"NEXUS-8798","Story","Maven|Search|UI",5,"Only show latest SNAPSHOT version in Search results","""Published SNAPSHOTs appear in search results with their raw timestamped version, when the expectation is that we can search at the x-SNAPSHOT version and find only the latest one.    *Acceptance criteria*  * Show only the latest snapshot in the search results (our assumption is that people don't care about older snapshots)    h5. Technical Notes  * To accomplish this we'll have to parse the version string from the results to pull out the timestamp.  * Possibly also we can pull the latest version from maven-metadata.xml"""
"NEXUS-8797","Bug","Outreach|Rapture",1,"Outreach content not showing","""With todays build at least (not sure about last couple of days) the outreach content no longers seems to show in the Welcome feature view.    The bundle seems to be downloaded into /data/tmp/outreach (two in fact in my case) with zero byte .metadata files.    Nothing is showing in the UI though."""
"NEXUS-8794","Bug","Search",1,"Equivalent attribute treatment in search","""Component search in Nexus 3 has a bunch of attributes, where conceptually the following should be the case.    group = maven.groupId  name = maven.artifactId    Respectively a custom search for the same term e.g. 'maven-surefire-plugin' or 'junit' using either criteria should show the same results.    This is not the case."""
"NEXUS-8793","Bug","Repository|Security",0.5,"KAR files cannot be proxied with strict content validation","""I attempted to build NX3 using the m4 rc (what I assume will be rc 2) running mvn clean install -f nexus-oss/pom.xml -U -Dtest=skip.  About 4/5ths in, I got a build failure with:  {quote}  [ERROR] Failed to execute goal on project nexus-base-template: Could not resolve dependencies for project org.sonatype.nexus.assemblies:nexus-base-template:karaf-assembly:3.0.0-SNAPSHOT: Could not find artifact org.apache.karaf.features:framework:kar:3.0.3 in local-nexus (http://localhost:8081/repository/dev/) -> [Help 1]  {quote}    The component appeared to be there however (http://repo1.maven.org/maven2/org/apache/karaf/features/framework/3.0.3/).    With help from the [~mcculls] and the team, we discovered that strict content validation was preventing KAR files from being proxied.  [~mcculls] noted that 'looking at the describe output with validation unchecked Nexus seems to think the kar file is """"audio/midi"""" which is odd'.    This should be reproducable by building Nexus as above.  On repro, recommend clearing repository (rm -rf ~/.m2/repository) to make sure you don't get a cached copy.  I did this before I tested the build as well.    I did not check older NX3 at this time.  I'm pretty sure NX2 is unaffected."""
"NEXUS-8792","Bug","CMA|Search",0.5,"Maven model and search are missing ""version""","""The maven component model contains maven2.artifactId and maven2.groupId but it is missing maven2.version. This is a bug according to discussions with Jason"""
"NEXUS-8824","Bug","Testsuite",1,"ConcurrentCleanupTest is flaky","""This test seems to be timing-sensitive to a degree that causes Bamboo builds to fail from time to time.  We should tighten this or perhaps jettison it.    For instance: http://bamboo.s/browse/NX3-OSSF425-1    The exception is:    {{java.lang.AssertionError:   Expected: a collection with size <0>       but: collection size was <1>   at org.hamcrest.MatcherAssert.assertThat(MatcherAssert.java:20)   at org.hamcrest.MatcherAssert.assertThat(MatcherAssert.java:8)   at org.hamcrest.MatcherAssert$assertThat.callStatic(Unknown Source)   at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCallStatic(CallSiteArray.java:53)   at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callStatic(AbstractCallSite.java:157)  (2 more lines...)}}"""
"NEXUS-8821","Improvement","Security",0.5,"add useful logging for siesta/wonderland/authenticate resource username mismatch","""When a request as follows, end user gets a 400 status response and message """"Username mismatch"""":        The problem is the user was authenticated as anonymous user because credentials were only in the payload and not in Basic Auth headers. Since anonymous username != payload username, we return 400.    Problem is this is hard to diagnose without debug logging and a better understanding of what username mismatches.    For example, end user may also send basic auth header username which can authenticate, but the encoded payload values are encoded incorrectly - same problem, user is left wondering where the problem lies.    This can be improved with a simple logging adjustment.    Expected:  - log at WARN the authenticated username and payload username if they do not match  - log at DEBUG the decoded usernames before the match attempt    Reference: https://sonatype.zendesk.com/entries/39800446"""
"NEXUS-8829","Bug","Outreach",0.5,"outreach does not detect http global configuration changes","""Configure nexus with proxy host {{a.proxy:8888}}.  Disable Caching in the outreach capability. ( only required to make validation easier )  Configure org.apache.http logger at DEBUG level.  Trigger an outreach bundle fetch ( reload welcome page )  Notice proxy is used :     jvm 1    | 2015-06-12 17:05:07,071-0300 DEBUG [qtp333052202-88] anonymous org.apache.http.impl.execchain.MainClientExec - Opening connection {}->http://a.proxy:8888->http://sonatype-download.global.ssl.fastly.net:80    Change the http proxy in nexus to be {{b.proxy:8888}} and save.  Trigger an outreach bundle fetch again.  Notice that the connection is still being made to a.proxy and not b.proxy.    Expected: b.proxy should be used for all existing connections.  """
"NEXUS-8838","Bug","UI",0.5,"UI Component and Asset details page urls should be transportable","""As a User I would be able to copy the link for the page I am looking at and share that link with someone else.    [~krobinson] noticed that if you copy a link for an element you are looking at details for, when you hit the bookmark it takes you to the base Browse UI page (selecting a repo).  I verified this and the fact it does not occur for search, although likely will be an issue for any of our Drilldown views which require multiple levels of context during normal navigation.    This is new to NX3 and NX2 is not browsable in this exact way (but is bookmarkable for the non-tree/path version)."""
"NEXUS-8837","Improvement","Proxy Repository|Transport",0.5,"remote.storage.outbound logger should include http response status and have consistent format","""remote.storage.outbound logger prints useful outbound request information in a compact format.    One useful addition to the log message would be the response http status code. This can help detect remote problems more quickly, and can help infer what/why Nexus responded to an inbound request.    Additionally, the npm plugin should log outbound requests in the same format as other proxy repositories do."""
"NEXUS-8836","Improvement","Repository|UI",0.5,"Improve browse no results message","""The new browse UI simply says """"Undefined"""" when there are no contents (see attached).  Filing to get this message improved.    NX2 does not have this issue because as far as I can tell there's always content (even just an empty base folder).  This is newly introduced to NX3 (post-legacy).    Up for discussion but recommend a message like: """"There are no _ in this repository (that you have permission to see)"""" where _ is component or asset, I think for now, component.  I am unsure about the security portion but it would be more clear were we to have restriction on viewing specific components within a repo."""
"NEXUS-8834","Bug","Repository|UI",0.5,"service/local/repository_statuses can have performance implications with large numbers of repositories","""When Nexus has a large number of repositories, particularly staging repositories, performance of the UI can degrade viewing the  repository list, and this can also impact the performance of the server overall.    h4. Setup  Configure Nexus with  - a single hosted maven 2 release repo  - a single Central Repository proxy repo  - a staging profile and single staging repository ( represents a Nexus managed repo )  - a single maven 2 group repo containing both all other repos    h4. Test 1  h5. Steps  1. Login to Nexus as an admin user.  2. Click Repositories list to show it.  3. Notice Nexus sends two requests to /nexus/service/local/repository_statuses - for each repository, Nexus decides if the user has view/read permissions.  - the first request responds with 202 accepted and a list of the statuses of all repositories  - the second request approx. 5 seconds later responds with 200 and data including remoteStatus of all proxy repositories is included - the statuses of the proxy repositories are updated with the remoteStatus value changed from """"UNKNOWN"""" to their blocked status ( AVAILABLE, AUTO_BLOCKED, etc. )    h4. Test 2  h5. Steps  1. Configure your browser to use an intercepting proxy. Set a breakpoint to never respond to ( block but do not return ) /nexus/service/local/repository_statuses requests - this is to simulate a Nexus instance which is slow to respond because it is busy evaluating permissions.  2. Login to Nexus as an admin user.  3. Click Repositories list to show it.  4. Notice Nexus sends a *new* /nexus/service/local/repository_statuses request every 5 seconds until very first request times out due to UI timeout. Nexus decides if the user has view/read permissions per repository for each of these requests.    h4. Expected  - When the repository list UI filter is displaying the User Managed repositories list, the repository_statuses resource need not include data for, or perform permissions checks on Nexus managed repos not even displayed to the end user.  - Nexus UI should limit number of repository status requests made to the backend. For example, can the two requests be combined? Can only proxy repos be evaluated when the remote status needs updating in the UI.  - Nexus should not retry these potentially expensive requests every 5 seconds if the first request is simply slow to respond    NOTES:  - Potentially explore a no op function for status  - Potentially only show status for Admin users"""
"NEXUS-8852","Bug","Security",1,"Anonymous admin errors when creating/verifying LDAP","""While logged in as anonymous with admin role, I was creating an LDAP connection and noticed that when I tried to Verify Mapping or Create, I got the below error.  It appears you have to be authenticated to do this, which to me infers the anonymous role should not be granted this capability at all (or this is wrong).    I did not check older NX3 or NX2 at this time.    """
"NEXUS-8850","Improvement","Bootstrap",0.5,"add uptime log message on shutdown","""Bad things can sometimes happen during a Nexus shutdown process. Usually Nexus is restarted soon after. A support zip includes the Nexus intialization time/start time. However if something bad happens during shutdown, it is sometimes useful from examining log files to know how long Nexus had been running just before the shutdown.    These messages are currently printed on shutdown start:        This is a request that as early as possible ( perhaps as part of the rather generic """"Destroying"""" message ), Nexus also print a log line on shutdown initialization which indicates the total 'uptime' Nexus had before being asked to shutdown.    Something like: """"uptime 11 days 12 hours 13 seconds"""". This way, we know what log files to look at for the last Nexus startup before shutdown.  """
"NEXUS-8849","Bug","Database",0.5,"improve robustness to orientdb shutdown after stopping the store","""The attached log shows a graceful shutdown on Windows and a message about a corrupt OrientDB because the database.ocf file was zero bytes.    There's a potential flaw in the NPM shutdown logic where an exception while stopping the store means we don't go on and cleanly shutdown OrientDB: https://github.com/sonatype/nexus-oss/blob/nexus-2.11.x/plugins/npm/nexus-npm-repository-plugin/src/main/java/com/bolyuba/nexus/plugin/npm/service/internal/orient/OrientMetadataStoreLifecycle.java#L56    This doesn't explain why the state transition failed ( in the attached log ), but adding a try...finally block here should avoid leaving OrientDB in an odd state when it does happen.  """
"NEXUS-8848","Bug","Search|UI",0.5,"Error/non-action when searching while searching","""[~krobinson] noted the attached; you receive an error with ?debug on if you are drilled down into search results and attempt a search again.  With debug off, there is no error, however, the second search still does not work.    He writes:  """"Uncaught Ext.data.Store.getById(): getById called for ID that is not present in local cache""""    Repro steps:  """"search for something, drill down into it, then use the search in the top nav bar to look for something else""""    Did not check older NX3 or NX2 at this time."""
"NEXUS-8847","Bug","UI",0.5,"Browse repository filtering of components shows results from outside of repo","""Filtering on component/asset list for a specific repository seems to show matching names/groups from other repositories.  For example, if filter in the nuget hosted repo, I see results from the maven proxy.  Version seems unaffected by this, so may be a fix there.    Browse UI is new to Edgy so did not back check NX3.  I did not check NX2 at this time.  This occurs with debug on and off."""
"NEXUS-8846","Bug","Search|UI",1,"Column sorting search does nothing?","""Noticed that sorting by column does not appear to do anything now with infinate scroll implemented.  If this is intentional, recommend disabling the column sorting on Search because it gives a false impression it will do something.  I doubt this is intentional though, since it works with Browse UI.    Infinate scroll was removed in Edgy so did not back check NX3 (where I believe this works).  I did not check NX2 at this time.  Debug was off for this test."""
"NEXUS-8845","Improvement","UI",0.5,"Group and version can show blank even when not used","""Testing Browse UI, I noticed that there was cases where the group and version showed blank even when not used.  There's an acceptance criteria to 'Output """"Zero with a slash"""" for unattached assets that we don't have version/group data on' but none for group or version.  I believe this was discussed in phone or hipchat however, so am making an improvement ticket.    Scenarios I noticed:  * Nuget items have no group but have no """"Zero with a slash"""". Field currently displays blank.  * Raw items have no version but have no """"Zero with a slash"""". Field currently displays blank.  * Raw items interestingly have group defined as /. I feel like this could potentially be """"Zero with a slash"""" as well, but I may be missing a level of detail. Maybe / is useful?  * """"-- Unattached Assets --"""" have no group or version but show blank.  This is even weirder to me considering the criteria (stated above) says use it for the other fields."""
"NEXUS-8844","Bug","UI",0.5,"Browse UI sort order is case sensitive","""I noticed that the Browse UI sort order is case sensitive.  I assume this is a bug, as if I am looking for """"U"""", I prefer not to look 2 places.    I did not check NX2 at this time.  This function is new to NX3.  Debug was off during this test.    NOTE: I got this data by building NX3 using NX3."""
"NEXUS-8876","Bug","NuGet",2,"Nuget Passthrough Fails for Skip Tokens","""To reproduce:  1. Create a nuget proxy that points to nuget.org, call it 'nuget-proxy'  2. Hit this URL:  http://localhost:8081/nexus/service/local/nuget/nuget-proxy/Search()?$filter=IsLatestVersion&$orderby=DownloadCount%20desc,Id&$skip=0&$top=1000&searchTerm=''&targetFramework='net45'&includePrerelease=false    3. At the bottom of the XML reply, there's a skip link: <link rel=""""next"""" href=""""...""""> After decoding from it being an XML attribute, and URL decoding, it will probably look like:    http://localhost:8082/nexus/service/local/nuget/nuget-proxy/Search?searchterm=''&$filter=IsLatestVersion&$orderby=DownloadCount desc,Id&$top=960&$skiptoken=1871245,'Microsoft.AspNet.WebPages.WebData','Microsoft.AspNet.WebPages.WebData','3.2.3'    4. Visit that URL in a browser.  5. Nexus will, in turn, try to get appropriate content from Nuget.org - unfortunately, the Nexus-specific $skiptoken makes no sense to Nuget, which returns a 400 error, with a big exception in the Nexus console.    FTR this is only visible to administrators, since the client is shielded from Nexus<->upstream errors; Nexus returns page 2 to the client just fine."""
"NEXUS-8859","Bug","Capabilities|UI",0.5,"Capabilities: Changing state does not change related aspects of UI","""In Capabilities when you change the state the following items do not immediately update which could lead to confusion.    * The enable/disable buttons do not switch to reflect that one is no longer selectable and the other is  * The state (in the summary tab) text remains as it was  * If using the buttons, the """"enable this capability"""" checkbox does not check/uncheck.  If using the checkbox, it remains correct.    If you leave the Capability and return, everything shows correct but then can get out of sync again upon next action.    See attached vid with one example.  If you need more, let me know.    If this seems familiar, I believe [~simpligility] had mentioned this before but I could not repro so he said maybe fixed.  If not regression, this may be intermittant but does not seem so to me right now.  [~dsauble] also asked if there was already a ticket for this but I did not see one.    This occurs with Debug on and off.  No errors in nexus log or js console.  I did not back check NX3 or NX2 at this time.    Steps to reproduce:  1) Load fresh NX install  2) From System>Capabilities, Create Capability - """"Base URL: Force"""" (for example, any one should do; one already created probably ill advised)  3) Click to edit.  Note State on the Summary tab is """"Active"""".  4) Click Settings tab.  Note active button is """"Disable"""" and checkbox is checked (signifying Enabled).  5) Click """"Disable"""" button.  BUG: Checkbox remains checked (signifying Enabled) and active button remains """"Disable"""".  If you click back to the Summary tab, you'll note the state is still active."""
"NEXUS-8857","Bug","Scheduled Tasks|UI",0.5,"Task shows ""Unknown running"" on STARTING","""After running the Rebuild Maven Repository Metadata task, I refreshed to see the status and noticed it said """"Unknown running"""".  This appears to be the default return.  Analysis from [~bradbeck] states the task may be STARTING and suggestion is to add a state for that.    I feel like this may be a recent change but maybe just unlucky timing on my side.  I did not check older NX3 (task (re)added in m4) or NX2 at this time.  I waffled between Bug and Improvement; bug for now but made it trivial.  Debug was off when I noticed this."""
"NEXUS-8856","Bug","Transport",0.5,"outbound ssl sockets do not timeout if the remote does not respond","""Nexus versions 2.8.0 through to 2.11.3 are vulnerable to outbound SSL Socket Connections never timing out if the remote server HTTPS socket does not respond.    h4. Cause    - Nexus 2.8 introduced a dependency on an HTTP client version ( 4.3.x ) that had a SSL socket timeout bug: [HTTPCLIENT-1478|https://issues.apache.org/jira/browse/HTTPCLIENT-1478]  - the fix for the HTTPCLIENT bug also requires a code change in the SSLConnectionFactory that Nexus uses, so upgrading to httpclient-4.3.6 is not enough to fix the issue.    h4. Symptoms  - the Nexus outbound HTTP connection pool for the host in question can become depleted  - inbound requests to a proxy repository mapped to a https://remotehost can become blocked waiting for other socket bound threads to complete. This includes requests to group repositories that have the proxy repository as a member.  - multiple thread dumps take over serveral minutes will show the same thread ids stuck on socket reads ( at java.net.SocketInputStream.socketRead0(Native Method) )  {noformat:title=Example Waiting Thread}  qtp812882942-195540 id=195540 state=RUNNABLE (running in native)  at java.net.SocketInputStream.socketRead0(Native Method)  at java.net.SocketInputStream.read(SocketInputStream.java:152)  at java.net.SocketInputStream.read(SocketInputStream.java:122)  at sun.security.ssl.InputRecord.readFully(InputRecord.java:442)  at sun.security.ssl.InputRecord.read(InputRecord.java:480)  at sun.security.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:927)  at sun.security.ssl.SSLSocketImpl.performInitialHandshake(SSLSocketImpl.java:1312)  \- locked java.lang.Object@63017956  at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1339)  at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1323)  at org.sonatype.nexus.apachehttpclient.NexusSSLConnectionSocketFactory.connectSocket(NexusSSLConnectionSocketFactory.java:127)  at org.apache.http.impl.conn.HttpClientConnectionOperator.connect(HttpClientConnectionOperator.java:125)  at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:319)  at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:363)  at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:219)  {noformat}    h4. Temporary Workaround  If available, change the remote URL of the proxy repository to an http connection instead of an https connection.    Restart nexus to clear any stuck sockets.      """
"NEXUS-8855","Bug","Transport",0.5,"remote.storage.outbound logging reports protocol downgrade when there isn't one","""Configure a Maven 2 snapshots proxy to http://repo.fusesource.com/nexus/content/repositories/snapshots/    Enable remote.storage.outbound logging in Nexus.     Make any artifact request to this proxy. You will see log messages printed that a protocol downgrade occurred. This is not true. Protocol was always http.        Expected:   - avoid this misleading logging message  - include the absolute source URI if possible, not just the relative path  - include the source repository id if possible  - indicate status code causing the redirection 302 or 301"""
"NEXUS-8884","Bug","Documentation|Search",5,"Most search fields have no partial matching ability","""There are two issues with search fields that make them hard to use.   # Most fields don’t partial match (e.g. searching for “aether” in the group field will not match “org.eclipse.aether”)   # Fields that do wildcard only match tokens (e.g. searching for “aether” in the keyword field will match “aether-api”, but “aeth” will not match “aether-api”)    Acceptance criteria:  * All fields will behave the same as the keyword field ("""""""", *, booleans, etc are all added explicitly if the user wants them)    *Technical Notes*  * This approach may require a reindex. We should either do this automatically on upgrade, or provide a way for folks to reindex if they want the new functionality (the caveat is that this could cause support issues, since support will need to figure out if poor quality search results are stemming from the fact that people haven't reindexed yet).  * Many of the fields that users can search are marked as (string, not_analyzed) which means that to do partial matching we need to use a wildcard query.  * Another approach would be to do a re-index and use an ngram analyzer to get partial matching, but the first approach is simpler (if slower).    The query would look something like this (not valid ES, just pseudo-code to show the structure):    We should also probably switch to a pure term filter if the user quotes the string so they have a way to escape partial matching."""
"NEXUS-8883","Bug","Search|UI",0.5,"Sorting search results by Repository errors","""Testing NEXUS-8846, I noticed that sorting by repository errors.  See attached (screen and dev console) and below (nexus log).  No errors in JS console w/ debug on or off.  I'm 99% sure this was not erroring before NEXUS-8846 but I did not back check at this time.  I also did not check NX2.    I decided to file seperately since sort does work and since [~alin] is on vacation in case someone else wants to take on this effort.    Making priority minor as this is only important on base search and custom search.    {quote}  2015-06-18 16:55:02,796-0400 ERROR [qtp2087290632-190] admin org.sonatype.nexus.extdirect.internal.ExtDirectServlet - Failed to invoke action method: coreui_Search.read, java-method: org.sonatype.nexus.coreui.SearchComponent.read  org.elasticsearch.action.search.SearchPhaseExecutionException: Failed to execute phase [query], all shards failed; shardFailures {[S6eRMgmOTAulJtVqtJMthw][maven-central][0]: SearchParseException[[maven-central][0]: query[ConstantScore(BooleanFilter(+cache(format:maven2)))],from[0],size[50]: Parse Failure [Failed to parse source [{""""from"""":0,""""size"""":50,""""query"""":{""""filtered"""":{""""filter"""":{""""bool"""":{""""must"""":{""""term"""":{""""format"""":""""maven2""""}}}}}},""""sort"""":[{""""repositoryName"""":{""""order"""":""""asc""""}}]}]]]; nested: SearchParseException[[maven-central][0]: query[ConstantScore(BooleanFilter(+cache(format:maven2)))],from[0],size[50]: Parse Failure [No mapping found for [repositoryName] in order to sort on]]; }{[S6eRMgmOTAulJtVqtJMthw][maven-releases][0]: SearchParseException[[maven-releases][0]: query[ConstantScore(BooleanFilter(+cache(format:maven2)))],from[0],size[50]: Parse Failure [Failed to parse source [{""""from"""":0,""""size"""":50,""""query"""":{""""filtered"""":{""""filter"""":{""""bool"""":{""""must"""":{""""term"""":{""""format"""":""""maven2""""}}}}}},""""sort"""":[{""""repositoryName"""":{""""order"""":""""asc""""}}]}]]]; nested: SearchParseException[[maven-releases][0]: query[ConstantScore(BooleanFilter(+cache(format:maven2)))],from[0],size[50]: Parse Failure [No mapping found for [repositoryName] in order to sort on]]; }{[S6eRMgmOTAulJtVqtJMthw][maven-snapshots][0]: SearchParseException[[maven-snapshots][0]: query[ConstantScore(BooleanFilter(+cache(format:maven2)))],from[0],size[50]: Parse Failure [Failed to parse source [{""""from"""":0,""""size"""":50,""""query"""":{""""filtered"""":{""""filter"""":{""""bool"""":{""""must"""":{""""term"""":{""""format"""":""""maven2""""}}}}}},""""sort"""":[{""""repositoryName"""":{""""order"""":""""asc""""}}]}]]]; nested: SearchParseException[[maven-snapshots][0]: query[ConstantScore(BooleanFilter(+cache(format:maven2)))],from[0],size[50]: Parse Failure [No mapping found for [repositoryName] in order to sort on]]; }{[S6eRMgmOTAulJtVqtJMthw][nuget-group][0]: SearchParseException[[nuget-group][0]: query[ConstantScore(BooleanFilter(+cache(format:maven2)))],from[0],size[50]: Parse Failure [Failed to parse source [{""""from"""":0,""""size"""":50,""""query"""":{""""filtered"""":{""""filter"""":{""""bool"""":{""""must"""":{""""term"""":{""""format"""":""""maven2""""}}}}}},""""sort"""":[{""""repositoryName"""":{""""order"""":""""asc""""}}]}]]]; nested: SearchParseException[[nuget-group][0]: query[ConstantScore(BooleanFilter(+cache(format:maven2)))],from[0],size[50]: Parse Failure [No mapping found for [repositoryName] in order to sort on]]; }{[S6eRMgmOTAulJtVqtJMthw][nuget-hosted][0]: SearchParseException[[nuget-hosted][0]: query[ConstantScore(BooleanFilter(+cache(format:maven2)))],from[0],size[50]: Parse Failure [Failed to parse source [{""""from"""":0,""""size"""":50,""""query"""":{""""filtered"""":{""""filter"""":{""""bool"""":{""""must"""":{""""term"""":{""""format"""":""""maven2""""}}}}}},""""sort"""":[{""""repositoryName"""":{""""order"""":""""asc""""}}]}]]]; nested: SearchParseException[[nuget-hosted][0]: query[ConstantScore(BooleanFilter(+cache(format:maven2)))],from[0],size[50]: Parse Failure [No mapping found for [repositoryName] in order to sort on]]; }{[S6eRMgmOTAulJtVqtJMthw][nuget.org-proxy][0]: SearchParseException[[nuget.org-proxy][0]: query[ConstantScore(BooleanFilter(+cache(format:maven2)))],from[0],size[50]: Parse Failure [Failed to parse source [{""""from"""":0,""""size"""":50,""""query"""":{""""filtered"""":{""""filter"""":{""""bool"""":{""""must"""":{""""term"""":{""""format"""":""""maven2""""}}}}}},""""sort"""":[{""""repositoryName"""":{""""order"""":""""asc""""}}]}]]]; nested: SearchParseException[[nuget.org-proxy][0]: query[ConstantScore(BooleanFilter(+cache(format:maven2)))],from[0],size[50]: Parse Failure [No mapping found for [repositoryName] in order to sort on]]; }{[S6eRMgmOTAulJtVqtJMthw][sonatype-grid.release][0]: SearchParseException[[sonatype-grid.release][0]: query[ConstantScore(BooleanFilter(+cache(format:maven2)))],from[0],size[50]: Parse Failure [Failed to parse source [{""""from"""":0,""""size"""":50,""""query"""":{""""filtered"""":{""""filter"""":{""""bool"""":{""""must"""":{""""term"""":{""""format"""":""""maven2""""}}}}}},""""sort"""":[{""""repositoryName"""":{""""order"""":""""asc""""}}]}]]]; nested: SearchParseException[[sonatype-grid.release][0]: query[ConstantScore(BooleanFilter(+cache(format:maven2)))],from[0],size[50]: Parse Failure [No mapping found for [repositoryName] in order to sort on]]; }{[S6eRMgmOTAulJtVqtJMthw][sonatype-grid.snapshot][0]: SearchParseException[[sonatype-grid.snapshot][0]: query[ConstantScore(BooleanFilter(+cache(format:maven2)))],from[0],size[50]: Parse Failure [Failed to parse source [{""""from"""":0,""""size"""":50,""""query"""":{""""filtered"""":{""""filter"""":{""""bool"""":{""""must"""":{""""term"""":{""""format"""":""""maven2""""}}}}}},""""sort"""":[{""""repositoryName"""":{""""order"""":""""asc""""}}]}]]]; nested: SearchParseException[[sonatype-grid.snapshot][0]: query[ConstantScore(BooleanFilter(+cache(format:maven2)))],from[0],size[50]: Parse Failure [No mapping found for [repositoryName] in order to sort on]]; }{[S6eRMgmOTAulJtVqtJMthw][maven-central][1]: SearchParseException[[maven-central][1]: query[ConstantScore(BooleanFilter(+cache(format:maven2)))],from[0],size[50]: Parse Failure [Failed to parse source [{""""from"""":0,""""size"""":50,""""query"""":{""""filtered"""":{""""filter"""":{""""bool"""":{""""must"""":{""""term"""":{""""format"""":""""maven2""""}}}}}},""""sort"""":[{""""repositoryName"""":{""""order"""":""""asc""""}}]}]]]; nested: SearchParseException[[maven-central][1]: query[ConstantScore(BooleanFilter(+cache(format:maven2)))],from[0],size[50]: Parse Failure [No mapping found for [repositoryName] in order to sort on]]; }{[S6eRMgmOTAulJtVqtJMthw][maven-releases][1]: SearchParseException[[maven-releases][1]: query[ConstantScore(BooleanFilter(+cache(format:maven2)))],from[0],size[50]: Parse Failure [Failed to parse source [{""""from"""":0,""""size"""":50,""""query"""":{""""filtered"""":{""""filter"""":{""""bool"""":{""""must"""":{""""term"""":{""""format"""":""""maven2""""}}}}}},""""sort"""":[{""""repositoryName"""":{""""order"""":""""asc""""}}]}]]]; nested: SearchParseException[[maven-releases][1]: query[ConstantScore(BooleanFilter(+cache(format:maven2)))],from[0],size[50]: Parse Failure [No mapping found for [repositoryName] in order to sort on]]; }{[S6eRMgmOTAulJtVqtJMthw][maven-snapshots][1]: SearchParseException[[maven-snapshots][1]: query[ConstantScore(BooleanFilter(+cache(format:maven2)))],from[0],size[50]: Parse Failure [Failed to parse source [{""""from"""":0,""""size"""":50,""""query"""":{""""filtered"""":{""""filter"""":{""""bool"""":{""""must"""":{""""term"""":{""""format"""":""""maven2""""}}}}}},""""sort"""":[{""""repositoryName"""":{""""order"""":""""asc""""}}]}]]]; nested: SearchParseException[[maven-snapshots][1]: query[ConstantScore(BooleanFilter(+cache(format:maven2)))],from[0],size[50]: Parse Failure [No mapping found for [repositoryName] in order to sort on]]; }{[S6eRMgmOTAulJtVqtJMthw][nuget-group][1]: SearchParseException[[nuget-group][1]: query[ConstantScore(BooleanFilter(+cache(format:maven2)))],from[0],size[50]: Parse Failure [Failed to parse source [{""""from"""":0,""""size"""":50,""""query"""":{""""filtered"""":{""""filter"""":{""""bool"""":{""""must"""":{""""term"""":{""""format"""":""""maven2""""}}}}}},""""sort"""":[{""""repositoryName"""":{""""order"""":""""asc""""}}]}]]]; nested: SearchParseException[[nuget-group][1]: query[ConstantScore(BooleanFilter(+cache(format:maven2)))],from[0],size[50]: Parse Failure [No mapping found for [repositoryName] in order to sort on]]; }{[S6eRMgmOTAulJtVqtJMthw][nuget-hosted][1]: SearchParseException[[nuget-hosted][1]: query[ConstantScore(BooleanFilter(+cache(format:maven2)))],from[0],size[50]: Parse Failure [Failed to parse source [{""""from"""":0,""""size"""":50,""""query"""":{""""filtered"""":{""""filter"""":{""""bool"""":{""""must"""":{""""term"""":{""""format"""":""""maven2""""}}}}}},""""sort"""":[{""""repositoryName"""":{""""order"""":""""asc""""}}]}]]]; nested: SearchParseException[[nuget-hosted][1]: query[ConstantScore(BooleanFilter(+cache(format:maven2)))],from[0],size[50]: Parse Failure [No mapping found for [repositoryName] in order to sort on]]; }{[S6eRMgmOTAulJtVqtJMthw][nuget.org-proxy][1]: SearchParseException[[nuget.org-proxy][1]: query[ConstantScore(BooleanFilter(+cache(format:maven2)))],from[0],size[50]: Parse Failure [Failed to parse source [{""""from"""":0,""""size"""":50,""""query"""":{""""filtered"""":{""""filter"""":{""""bool"""":{""""must"""":{""""term"""":{""""format"""":""""maven2""""}}}}}},""""sort"""":[{""""repositoryName"""":{""""order"""":""""asc""""}}]}]]]; nested: SearchParseException[[nuget.org-proxy][1]: query[ConstantScore(BooleanFilter(+cache(format:maven2)))],from[0],size[50]: Parse Failure [No mapping found for [repositoryName] in order to sort on]]; }{[S6eRMgmOTAulJtVqtJMthw][sonatype-grid.release][1]: SearchParseException[[sonatype-grid.release][1]: query[ConstantScore(BooleanFilter(+cache(format:maven2)))],from[0],size[50]: Parse Failure [Failed to parse source [{""""from"""":0,""""size"""":50,""""query"""":{""""filtered"""":{""""filter"""":{""""bool"""":{""""must"""":{""""term"""":{""""format"""":""""maven2""""}}}}}},""""sort"""":[{""""repositoryName"""":{""""order"""":""""asc""""}}]}]]]; nested: SearchParseException[[sonatype-grid.release][1]: query[ConstantScore(BooleanFilter(+cache(format:maven2)))],from[0],size[50]: Parse Failure [No mapping found for [repositoryName] in order to sort on]]; }{[S6eRMgmOTAulJtVqtJMthw][sonatype-grid.snapshot][1]: SearchParseException[[sonatype-grid.snapshot][1]: query[ConstantScore(BooleanFilter(+cache(format:maven2)))],from[0],size[50]: Parse Failure [Failed to parse source [{""""from"""":0,""""size"""":50,""""query"""":{""""filtered"""":{""""filter"""":{""""bool"""":{""""must"""":{""""term"""":{""""format"""":""""maven2""""}}}}}},""""sort"""":[{""""repositoryName"""":{""""order"""":""""asc""""}}]}]]]; nested: SearchParseException[[sonatype-grid.snapshot][1]: query[ConstantScore(BooleanFilter(+cache(format:maven2)))],from[0],size[50]: Parse Failure [No mapping found for [repositoryName] in order to sort on]]; }{[S6eRMgmOTAulJtVqtJMthw][maven-central][2]: SearchParseException[[maven-central][2]: query[ConstantScore(BooleanFilter(+cache(format:maven2)))],from[0],size[50]: Parse Failure [Failed to parse source [{""""from"""":0,""""size"""":50,""""query"""":{""""filtered"""":{""""filter"""":{""""bool"""":{""""must"""":{""""term"""":{""""format"""":""""maven2""""}}}}}},""""sort"""":[{""""repositoryName"""":{""""order"""":""""asc""""}}]}]]]; nested: SearchParseException[[maven-central][2]: query[ConstantScore(BooleanFilter(+cache(format:maven2)))],from[0],size[50]: Parse Failure [No mapping found for [repositoryName] in order to sort on]]; }{[S6eRMgmOTAulJtVqtJMthw][maven-releases][2]: SearchParseException[[maven-releases][2]: query[ConstantScore(BooleanFilter(+cache(format:maven2)))],from[0],size[50]: Parse Failure [Failed to parse source [{""""from"""":0,""""size"""":50,""""query"""":{""""filtered"""":{""""filter"""":{""""bool"""":{""""must"""":{""""term"""":{""""format"""":""""maven2""""}}}}}},""""sort"""":[{""""repositoryName"""":{""""order"""":""""asc""""}}]}]]]; nested: SearchParseException[[maven-releases][2]: query[ConstantScore(BooleanFilter(+cache(format:maven2)))],from[0],size[50]: Parse Failure [No mapping found for [repositoryName] in order to sort on]]; }{[S6eRMgmOTAulJtVqtJMthw][maven-snapshots][2]: SearchParseException[[maven-snapshots][2]: query[ConstantScore(BooleanFilter(+cache(format:maven2)))],from[0],size[50]: Parse Failure [Failed to parse source [{""""from"""":0,""""size"""":50,""""query"""":{""""filtered"""":{""""filter"""":{""""bool"""":{""""must"""":{""""term"""":{""""format"""":""""maven2""""}}}}}},""""sort"""":[{""""repositoryName"""":{""""order"""":""""asc""""}}]}]]]; nested: SearchParseException[[maven-snapshots][2]: query[ConstantScore(BooleanFilter(+cache(format:maven2)))],from[0],size[50]: Parse Failure [No mapping found for [repositoryName] in order to sort on]]; }{[S6eRMgmOTAulJtVqtJMthw][nuget-group][2]: SearchParseException[[nuget-group][2]: query[ConstantScore(BooleanFilter(+cache(format:maven2)))],from[0],size[50]: Parse Failure [Failed to parse source [{""""from"""":0,""""size"""":50,""""query"""":{""""filtered"""":{""""filter"""":{""""bool"""":{""""must"""":{""""term"""":{""""format"""":""""maven2""""}}}}}},""""sort"""":[{""""repositoryName"""":{""""order"""":""""asc""""}}]}]]]; nested: SearchParseException[[nuget-group][2]: query[ConstantScore(BooleanFilter(+cache(format:maven2)))],from[0],size[50]: Parse Failure [No mapping found for [repositoryName] in order to sort on]]; }{[S6eRMgmOTAulJtVqtJMthw][nuget-hosted][2]: SearchParseException[[nuget-hosted][2]: query[ConstantScore(BooleanFilter(+cache(format:maven2)))],from[0],size[50]: Parse Failure [Failed to parse source [{""""from"""":0,""""size"""":50,""""query"""":{""""filtered"""":{""""filter"""":{""""bool"""":{""""must"""":{""""term"""":{""""format"""":""""maven2""""}}}}}},""""sort"""":[{""""repositoryName"""":{""""order"""":""""asc""""}}]}]]]; nested: SearchParseException[[nuget-hosted][2]: query[ConstantScore(BooleanFilter(+cache(format:maven2)))],from[0],size[50]: Parse Failure [No mapping found for [repositoryName] in order to sort on]]; }{[S6eRMgmOTAulJtVqtJMthw][nuget.org-proxy][2]: SearchParseException[[nuget.org-proxy][2]: query[ConstantScore(BooleanFilter(+cache(format:maven2)))],from[0],size[50]: Parse Failure [Failed to parse source [{""""from"""":0,""""size"""":50,""""query"""":{""""filtered"""":{""""filter"""":{""""bool"""":{""""must"""":{""""term"""":{""""format"""":""""maven2""""}}}}}},""""sort"""":[{""""repositoryName"""":{""""order"""":""""asc""""}}]}]]]; nested: SearchParseException[[nuget.org-proxy][2]: query[ConstantScore(BooleanFilter(+cache(format:maven2)))],from[0],size[50]: Parse Failure [No mapping found for [repositoryName] in order to sort on]]; }{[S6eRMgmOTAulJtVqtJMthw][sonatype-grid.release][2]: SearchParseException[[sonatype-grid.release][2]: query[ConstantScore(BooleanFilter(+cache(format:maven2)))],from[0],size[50]: Parse Failure [Failed to parse source [{""""from"""":0,""""size"""":50,""""query"""":{""""filtered"""":{""""filter"""":{""""bool"""":{""""must"""":{""""term"""":{""""format"""":""""maven2""""}}}}}},""""sort"""":[{""""repositoryName"""":{""""order"""":""""asc""""}}]}]]]; nested: SearchParseException[[sonatype-grid.release][2]: query[ConstantScore(BooleanFilter(+cache(format:maven2)))],from[0],size[50]: Parse Failure [No mapping found for [repositoryName] in order to sort on]]; }{[S6eRMgmOTAulJtVqtJMthw][sonatype-grid.snapshot][2]: SearchParseException[[sonatype-grid.snapshot][2]: query[ConstantScore(BooleanFilter(+cache(format:maven2)))],from[0],size[50]: Parse Failure [Failed to parse source [{""""from"""":0,""""size"""":50,""""query"""":{""""filtered"""":{""""filter"""":{""""bool"""":{""""must"""":{""""term"""":{""""format"""":""""maven2""""}}}}}},""""sort"""":[{""""repositoryName"""":{""""order"""":""""asc""""}}]}]]]; nested: SearchParseException[[sonatype-grid.snapshot][2]: query[ConstantScore(BooleanFilter(+cache(format:maven2)))],from[0],size[50]: Parse Failure [No mapping found for [repositoryName] in order to sort on]]; }{[S6eRMgmOTAulJtVqtJMthw][maven-central][3]: SearchParseException[[maven-central][3]: query[ConstantScore(BooleanFilter(+cache(format:maven2)))],from[0],size[50]: Parse Failure [Failed to parse source [{""""from"""":0,""""size"""":50,""""query"""":{""""filtered"""":{""""filter"""":{""""bool"""":{""""must"""":{""""term"""":{""""format"""":""""maven2""""}}}}}},""""sort"""":[{""""repositoryName"""":{""""order"""":""""asc""""}}]}]]]; nested: SearchParseException[[maven-central][3]: query[ConstantScore(BooleanFilter(+cache(format:maven2)))],from[0],size[50]: Parse Failure [No mapping found for [repositoryName] in order to sort on]]; }{[S6eRMgmOTAulJtVqtJMthw][maven-releases][3]: SearchParseException[[maven-releases][3]: query[ConstantScore(BooleanFilter(+cache(format:maven2)))],from[0],size[50]: Parse Failure [Failed to parse source [{""""from"""":0,""""size"""":50,""""query"""":{""""filtered"""":{""""filter"""":{""""bool"""":{""""must"""":{""""term"""":{""""format"""":""""maven2""""}}}}}},""""sort"""":[{""""repositoryName"""":{""""order"""":""""asc""""}}]}]]]; nested: SearchParseException[[maven-releases][3]: query[ConstantScore(BooleanFilter(+cache(format:maven2)))],from[0],size[50]: Parse Failure [No mapping found for [repositoryName] in order to sort on]]; }{[S6eRMgmOTAulJtVqtJMthw][maven-snapshots][3]: SearchParseException[[maven-snapshots][3]: query[ConstantScore(BooleanFilter(+cache(format:maven2)))],from[0],size[50]: Parse Failure [Failed to parse source [{""""from"""":0,""""size"""":50,""""query"""":{""""filtered"""":{""""filter"""":{""""bool"""":{""""must"""":{""""term"""":{""""format"""":""""maven2""""}}}}}},""""sort"""":[{""""repositoryName"""":{""""order"""":""""asc""""}}]}]]]; nested: SearchParseException[[maven-snapshots][3]: query[ConstantScore(BooleanFilter(+cache(format:maven2)))],from[0],size[50]: Parse Failure [No mapping found for [repositoryName] in order to sort on]]; }{[S6eRMgmOTAulJtVqtJMthw][nuget-group][3]: SearchParseException[[nuget-group][3]: query[ConstantScore(BooleanFilter(+cache(format:maven2)))],from[0],size[50]: Parse Failure [Failed to parse source [{""""from"""":0,""""size"""":50,""""query"""":{""""filtered"""":{""""filter"""":{""""bool"""":{""""must"""":{""""term"""":{""""format"""":""""maven2""""}}}}}},""""sort"""":[{""""repositoryName"""":{""""order"""":""""asc""""}}]}]]]; nested: SearchParseException[[nuget-group][3]: query[ConstantScore(BooleanFilter(+cache(format:maven2)))],from[0],size[50]: Parse Failure [No mapping found for [repositoryName] in order to sort on]]; }{[S6eRMgmOTAulJtVqtJMthw][nuget-hosted][3]: SearchParseException[[nuget-hosted][3]: query[ConstantScore(BooleanFilter(+cache(format:maven2)))],from[0],size[50]: Parse Failure [Failed to parse source [{""""from"""":0,""""size"""":50,""""query"""":{""""filtered"""":{""""filter"""":{""""bool"""":{""""must"""":{""""term"""":{""""format"""":""""maven2""""}}}}}},""""sort"""":[{""""repositoryName"""":{""""order"""":""""asc""""}}]}]]]; nested: SearchParseException[[nuget-hosted][3]: query[ConstantScore(BooleanFilter(+cache(format:maven2)))],from[0],size[50]: Parse Failure [No mapping found for [repositoryName] in order to sort on]]; }{[S6eRMgmOTAulJtVqtJMthw][nuget.org-proxy][3]: SearchParseException[[nuget.org-proxy][3]: query[ConstantScore(BooleanFilter(+cache(format:maven2)))],from[0],size[50]: Parse Failure [Failed to parse source [{""""from"""":0,""""size"""":50,""""query"""":{""""filtered"""":{""""filter"""":{""""bool"""":{""""must"""":{""""term"""":{""""format"""":""""maven2""""}}}}}},""""sort"""":[{""""repositoryName"""":{""""order"""":""""asc""""}}]}]]]; nested: SearchParseException[[nuget.org-proxy][3]: query[ConstantScore(BooleanFilter(+cache(format:maven2)))],from[0],size[50]: Parse Failure [No mapping found for [repositoryName] in order to sort on]]; }{[S6eRMgmOTAulJtVqtJMthw][sonatype-grid.release][3]: SearchParseException[[sonatype-grid.release][3]: query[ConstantScore(BooleanFilter(+cache(format:maven2)))],from[0],size[50]: Parse Failure [Failed to parse source [{""""from"""":0,""""size"""":50,""""query"""":{""""filtered"""":{""""filter"""":{""""bool"""":{""""must"""":{""""term"""":{""""format"""":""""maven2""""}}}}}},""""sort"""":[{""""repositoryName"""":{""""order"""":""""asc""""}}]}]]]; nested: SearchParseException[[sonatype-grid.release][3]: query[ConstantScore(BooleanFilter(+cache(format:maven2)))],from[0],size[50]: Parse Failure [No mapping found for [repositoryName] in order to sort on]]; }{[S6eRMgmOTAulJtVqtJMthw][sonatype-grid.snapshot][3]: SearchParseException[[sonatype-grid.snapshot][3]: query[ConstantScore(BooleanFilter(+cache(format:maven2)))],from[0],size[50]: Parse Failure [Failed to parse source [{""""from"""":0,""""size"""":50,""""query"""":{""""filtered"""":{""""filter"""":{""""bool"""":{""""must"""":{""""term"""":{""""format"""":""""maven2""""}}}}}},""""sort"""":[{""""repositoryName"""":{""""order"""":""""asc""""}}]}]]]; nested: SearchParseException[[sonatype-grid.snapshot][3]: query[ConstantScore(BooleanFilter(+cache(format:maven2)))],from[0],size[50]: Parse Failure [No mapping found for [repositoryName] in order to sort on]]; }{[S6eRMgmOTAulJtVqtJMthw][maven-central][4]: SearchParseException[[maven-central][4]: query[ConstantScore(BooleanFilter(+cache(format:maven2)))],from[0],size[50]: Parse Failure [Failed to parse source [{""""from"""":0,""""size"""":50,""""query"""":{""""filtered"""":{""""filter"""":{""""bool"""":{""""must"""":{""""term"""":{""""format"""":""""maven2""""}}}}}},""""sort"""":[{""""repositoryName"""":{""""order"""":""""asc""""}}]}]]]; nested: SearchParseException[[maven-central][4]: query[ConstantScore(BooleanFilter(+cache(format:maven2)))],from[0],size[50]: Parse Failure [No mapping found for [repositoryName] in order to sort on]]; }{[S6eRMgmOTAulJtVqtJMthw][maven-releases][4]: SearchParseException[[maven-releases][4]: query[ConstantScore(BooleanFilter(+cache(format:maven2)))],from[0],size[50]: Parse Failure [Failed to parse source [{""""from"""":0,""""size"""":50,""""query"""":{""""filtered"""":{""""filter"""":{""""bool"""":{""""must"""":{""""term"""":{""""format"""":""""maven2""""}}}}}},""""sort"""":[{""""repositoryName"""":{""""order"""":""""asc""""}}]}]]]; nested: SearchParseException[[maven-releases][4]: query[ConstantScore(BooleanFilter(+cache(format:maven2)))],from[0],size[50]: Parse Failure [No mapping found for [repositoryName] in order to sort on]]; }{[S6eRMgmOTAulJtVqtJMthw][maven-snapshots][4]: SearchParseException[[maven-snapshots][4]: query[ConstantScore(BooleanFilter(+cache(format:maven2)))],from[0],size[50]: Parse Failure [Failed to parse source [{""""from"""":0,""""size"""":50,""""query"""":{""""filtered"""":{""""filter"""":{""""bool"""":{""""must"""":{""""term"""":{""""format"""":""""maven2""""}}}}}},""""sort"""":[{""""repositoryName"""":{""""order"""":""""asc""""}}]}]]]; nested: SearchParseException[[maven-snapshots][4]: query[ConstantScore(BooleanFilter(+cache(format:maven2)))],from[0],size[50]: Parse Failure [No mapping found for [repositoryName] in order to sort on]]; }{[S6eRMgmOTAulJtVqtJMthw][nuget-group][4]: SearchParseException[[nuget-group][4]: query[ConstantScore(BooleanFilter(+cache(format:maven2)))],from[0],size[50]: Parse Failure [Failed to parse source [{""""from"""":0,""""size"""":50,""""query"""":{""""filtered"""":{""""filter"""":{""""bool"""":{""""must"""":{""""term"""":{""""format"""":""""maven2""""}}}}}},""""sort"""":[{""""repositoryName"""":{""""order"""":""""asc""""}}]}]]]; nested: SearchParseException[[nuget-group][4]: query[ConstantScore(BooleanFilter(+cache(format:maven2)))],from[0],size[50]: Parse Failure [No mapping found for [repositoryName] in order to sort on]]; }{[S6eRMgmOTAulJtVqtJMthw][nuget-hosted][4]: SearchParseException[[nuget-hosted][4]: query[ConstantScore(BooleanFilter(+cache(format:maven2)))],from[0],size[50]: Parse Failure [Failed to parse source [{""""from"""":0,""""size"""":50,""""query"""":{""""filtered"""":{""""filter"""":{""""bool"""":{""""must"""":{""""term"""":{""""format"""":""""maven2""""}}}}}},""""sort"""":[{""""repositoryName"""":{""""order"""":""""asc""""}}]}]]]; nested: SearchParseException[[nuget-hosted][4]: query[ConstantScore(BooleanFilter(+cache(format:maven2)))],from[0],size[50]: Parse Failure [No mapping found for [repositoryName] in order to sort on]]; }{[S6eRMgmOTAulJtVqtJMthw][nuget.org-proxy][4]: SearchParseException[[nuget.org-proxy][4]: query[ConstantScore(BooleanFilter(+cache(format:maven2)))],from[0],size[50]: Parse Failure [Failed to parse source [{""""from"""":0,""""size"""":50,""""query"""":{""""filtered"""":{""""filter"""":{""""bool"""":{""""must"""":{""""term"""":{""""format"""":""""maven2""""}}}}}},""""sort"""":[{""""repositoryName"""":{""""order"""":""""asc""""}}]}]]]; nested: SearchParseException[[nuget.org-proxy][4]: query[ConstantScore(BooleanFilter(+cache(format:maven2)))],from[0],size[50]: Parse Failure [No mapping found for [repositoryName] in order to sort on]]; }{[S6eRMgmOTAulJtVqtJMthw][sonatype-grid.release][4]: SearchParseException[[sonatype-grid.release][4]: query[ConstantScore(BooleanFilter(+cache(format:maven2)))],from[0],size[50]: Parse Failure [Failed to parse source [{""""from"""":0,""""size"""":50,""""query"""":{""""filtered"""":{""""filter"""":{""""bool"""":{""""must"""":{""""term"""":{""""format"""":""""maven2""""}}}}}},""""sort"""":[{""""repositoryName"""":{""""order"""":""""asc""""}}]}]]]; nested: SearchParseException[[sonatype-grid.release][4]: query[ConstantScore(BooleanFilter(+cache(format:maven2)))],from[0],size[50]: Parse Failure [No mapping found for [repositoryName] in order to sort on]]; }{[S6eRMgmOTAulJtVqtJMthw][sonatype-grid.snapshot][4]: SearchParseException[[sonatype-grid.snapshot][4]: query[ConstantScore(BooleanFilter(+cache(format:maven2)))],from[0],size[50]: Parse Failure [Failed to parse source [{""""from"""":0,""""size"""":50,""""query"""":{""""filtered"""":{""""filter"""":{""""bool"""":{""""must"""":{""""term"""":{""""format"""":""""maven2""""}}}}}},""""sort"""":[{""""repositoryName"""":{""""order"""":""""asc""""}}]}]]]; nested: SearchParseException[[sonatype-grid.snapshot][4]: query[ConstantScore(BooleanFilter(+cache(format:maven2)))],from[0],size[50]: Parse Failure [No mapping found for [repositoryName] in order to sort on]]; }   at org.elasticsearch.action.search.type.TransportSearchTypeAction$BaseAsyncAction.onFirstPhaseResult(TransportSearchTypeAction.java:238) [na:na]   at org.elasticsearch.action.search.type.TransportSearchTypeAction$BaseAsyncAction$1.onFailure(TransportSearchTypeAction.java:184) [na:na]   at org.elasticsearch.search.action.SearchServiceTransportAction$23.run(SearchServiceTransportAction.java:565) [na:na]   at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [na:1.8.0_40]   at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [na:1.8.0_40]   at java.lang.Thread.run(Thread.java:745) [na:1.8.0_40]  {quote}"""
"NEXUS-8878","Improvement","NuGet|Proxy Repository",0.5,"Change default nuget proxy remote storage URL to https","""While testing NEXUS-8454, I noticed that the default nuget proxy remote storage URL was http://www.nuget.org/api/v2/.  I was able to add the s (https://www.nuget.org/api/v2/) and test without issue.  Maven's (Central) defaults to secure.  I asked [~mprescott] and he said it was worth filing to add here too.  Imagine this is a superquick change (probably could do it myself) however I wanted to triage in case anyone had any concerns.  So here's the ticket.    This is not a concern in NX2 and affects m4.  I believe the default (CMA) repos were added in m4 but did not check older NX3 than m4 at this time."""
"NEXUS-8889","Bug","Browse Storage|Raw|UI",0.5,"Raw group repo throws exception trying to browse","""Attempting to browse a Raw group repo throws this error:  """
"NEXUS-8890","Bug","Scheduled Tasks|UI",0.5,"Task state says ""Starting"" even when task is complete and refreshed","""While testing NEXUS-8857, I noticed that after you had run a task and even after you clicked refresh (in the header), the task state said """"Starting"""".  I have seen this before (maybe talked to someone about it) but the test made me see it again.  I did not see a ticket so am filing one to get this cleaned up.  I do not believe it was caused by NEXUS-8857 fix however am linking for completion.  [~bradbeck] noted he preferred another ticket as well.    You can workaround this by leaving the page and returning (like click to HTTP and then back to Tasks) or by refreshing the browser (or more drastic ways=)).    Steps to repro:  1) Create a task (which doesn't seem to matter)  2) Run said task  3) BUG: On the Summary page """"Status"""" says """"Starting"""".  If you follow the Breadcrumb back to the """"Tasks"""" page the """"Status"""" of task says """"Starting"""".  If you click refresh (in the header) from either scenario, a note says """"Refreshed"""" but the tasks say starting."""
"NEXUS-8895","Bug","Browse Storage|UI",0.5,"Exception when clicking into Unattached asset details","""While testing the Browse UI (NEXUS-8888 and various other tickets), I clicked into Unattached Assets and into details and got the attached errors (and it does not show more details).  While NEXUS-8255 is not complete, I mentioned to [~krobinson] and he asked me to file seperately.  This is that ticket.    There is nothing in the nexus.log for this error (at default levels).    This is a recent error, likely caused by initial NEXUS-8255 efforts, however, there were limited details shown before NEXUS-8255 efforts.  Just stating this because I know this error does not occur in m4.  This also does not occur in NX2."""
"NEXUS-8894","Bug","Capabilities|IQ Integration",0.5,"If CLM server is configured, but CLM server isn't running, capabilities UI will not render","""Configure a CLM server under """"administration/clm"""".  Then shut down the CLM server.  Now go to """"administration/capabilities"""".   This will fail with a UI timeout.    This is particularly bad because there is no way to clear out the CLM server settings under """"administration/clm"""", the UI won't let you.    To fix this, you need to temporarily increase your UI timeout to be > 90 seconds, then go to the CLM capability (when it finally loads) and disable it."""
"NEXUS-8911","Bug","Staging|Yum",0.5,"releasing a yum enabled staging repository overwrites yum metadata in release repository","""When a yum enabled staging repository is released it's yum metadata is copied into the target release repository.  This is incorrect, it means that the only rpm's available through the release repository are the ones that were in staging until the """"createrepo"""" command finishes running.    The contents of the repodata directory should not be copied from the staging repository to the target release repository.    Note that this also occurs with build promotion repositories.    """
"NEXUS-8914","Bug","Proxy Repository",1,"NX3 proxy fetches more than should","""It seems we have a bug in ProxyFacetSupport: indicate verified is invoked only after remote responds with 304, but it never happens with servers not supporting conditional GETs. Also, on servers supporting conditional GETs, it will be (potentially close) GET request that will mark the cache content as """"verified"""", not honoring """"maxItemAge"""" to perform re-check.    Problems in short:  1. - _refetches always_ if remote does not support conditional GET (as no 304 arrives)  2. - fetches _two times_ if remote does support conditional GET (as 304 will arrive on 2nd fetch, that is made conditional from cached content)  3. - fetches on every """"stale"""" detected content if the format does not support lastModified and/or ETag. In this case _unconditional GET_ is issued, and remote item is refetched _over and over again, even if the locally cached one is same_.    Fix for first two should be trivial in ProxyFacetSupport, just indicate verified on initial fetch too (200). For 3rd issue, proper Content support is needed."""
"NEXUS-8913","Improvement","Support Tools",0.5,"add elapsed request time to request.log","""Our request logs log by default using the 'common' pattern:    {{%h %l %u [%t] """"%r"""" %s %b}}    The {{%t}} field prints the response time instant. Example:    127.0.0.1 - - [29/Jun/2015:12:32:15 -0300] """"GET /nexus/service/local/lvo/nexus-pro/2.11.4-SNAPSHOT?_dc=1435591934977 HTTP/1.1"""" 404 657    When correlating when the  request is first received ( useful when coordinating requests with builds or other external scheduled jobs, it would be helpful to determine the elapsed time of the request from the request logs. This can be accomplished by using this pattern in logback-access.xml:    {{%h %l %u [%t] """"%r"""" %s %b %elapsedTime}}    We should adjust the default request log pattern to include elapsed time.  """
"NEXUS-8922","Bug","Rapture|UI",1,"Seeing undefined: in NX.Permissions usage","""... almost certainly a bug somewhere in how permissions are being used in the UI."""
"NEXUS-8920","Improvement","Support Tools",0.5,"archived request.log name format should be more easily recognized as a log file","""Current Nexus request log archive name format is: {{request.log.%d{yyyy-MM-dd}.gz}}        {noformat:title=Example archive names}  request.log.2015-01-01.gz  request.log.2015-01-02.gz  request.log.2015-01-03.gz      It is more convenient for names to end with .log so that they can be more easily recognized as log files by tools and shell.     The default archive name could be changed to {{request-%d{yyyy-MM-dd}.log.gz}} which would result in names like this when unpacked:    {noformat:title=Example new format unpacked archive names}  request-2015-01-01.log  request-2015-01-02.log  request-2015-01-03.log  {noformat}            """
"NEXUS-8929","Bug","Security|UI",0.5,"Browse UI requires repository-admin privileges","""In order to use the Browse UI, you need repository-admin read privileges (like below example).  This is contradictory to search which you just need repository-view-* privileges (you need these for Browse UI as well).  I am pretty confident this is a bug, because anonymous by default cannot use Browse UI (because of this).  By default, anonymous shows it has no permission to see any repositories in Browse UI.    Bringing up at least for triage; in case not a bug, don't think intuitive so I think worth documenting.    Browse UI is new to Edgy so does not affect older NX3.  I did not check NX2 at this time.    Example:  """
"NEXUS-8927","Bug","Rapture|UI",0.5,"Messages slow to fully appear sometimes","""I noticed that saving a repository has a slower save message appearing than other pages (see vid).  Notibly it seems to pause about 1/2 through it's travel to appear and then hang for a brief period of time.  This does not occur on other pages, so I feel something weird with repository.  I tried creating a raw hosted and the same issue occurs so is not just Central (shown in vid).  It was a little better tho, so either proxies may be slower or Central may be slower.    I was waffling whether to file or not but am concerned something else might be going on that might cause this behavior (though nothing obvious on screen).  I asked [~dsauble] who recommended I go ahead as we need to resolve performance related problems.    This does occur in m4 in OSS, so is not caused by the link, as far as I can tell (was initially testing in Edgy PRO bundle).  I did not check NX2 at this time.  This occurs with debug on and off.  Nothing notable in Console or log at default levels."""
"NEXUS-8924","Bug","CMA|Rapture",0.5,"Proxy repo remote storage validation overly restrictive","""Create a maven2 proxy repo, the allowed values for the remote storage location seem overly restrictive.    Allowed:  http://localhost:8082/nexus/content/groups/public/    Not allowed (but should be allowed, no?)  http://strident:8082/nexus/content/groups/public/    Allowed:  http://strident.com:8082/nexus/content/groups/public/"""
"NEXUS-8937","Bug","Maven|Repository",0.5,"LastModified time not updating","""While testing NEXUS-8255, [~mcculls] noticed that in one of my tests, I had uploaded a SNAPSHOT pom and then uploaded it again to see if the fields were updating in the UI but that LastModified was not being updated either in the DB or in the UI.    He writes:  """"looking at the code in MavenFacetImpl it only updates the last-modified time if this is the first time the file was deployed, or the content attributes passed along with the payload contain a last-modified time. I couldn't spot anywhere that sets the last-modified time in the content attributes before they reached the put method, so this looks like a bug (or there's some code missing). This explains why you didn't see the last-modified time change when you deployed the file again. Also note that when you re-deploy a Maven artifact it will keep the same asset record, but update the blob field in that record to point to the new content.""""    Since this is a deeper issue than just asset details, I am filing seperately.  I have not checked older NX3 at this time, nor have I checked NX2.  I also haven't checked other repo types at this time either so only put the Maven component above."""
"NEXUS-8932","Bug","Repository",1,"NX3 conditional GET bugs","""This issue gather multiple bugs present in NX3 related to conditional GET support:  - Similarly to NX2 NEXUS-8930, NX3 sends too much headers violating the RFC  - Response 304 to conditional GET via groups result in 404 final response  """
"NEXUS-8930","Bug","Repository",1,"outbound http connections may be immediately closed on 304 response with ETAG instead of pooled","""This affects latest NX2 it seems. NX2 claims it will keep alive the connection (default with HTTP/1.1) and even ensures it with a header if client is HTTP/1.0 (as with that protocol level extra header {{Connection: keep-alive}} is needed), but then immediately drops connection on response is sent. This leaves no chance for connection pooling clients (like NX2/NX3, unlike Wagons) to properly handle connections, as connections returned to pool and believed to be alive will be actually immediately closed.    OOTB Jetty 8 does not do this, this has to be something in NX2.    Either fix the   a) connection to remain alive if said so, or   b) as simpler fix just add """"Connection: close"""" header when client is HTTP/1.1 and prevent addition of (done by Jetty) """"Connection: keep-alive"""" header when client is HTTP/1.0    Marked as affects 2.11.3, but it might affect other 2.x versions too."""
"NEXUS-8941","Bug","NuGet",1,"Nuget packageId case sensitivity","""Nuget presumes that packageId searches will be case insensitive, but our Orient/NuGet component metadata searches are case sensitive.    Symptom:    1. Define a proxy repo for nuget.org  2. Request http://localhost:8081/repository/[repo]/NUGET.CORE/2.8.5    ..throws:    Caused by: java.lang.IllegalStateException: Component metadata does not exist yet          at com.google.common.base.Preconditions.checkState(Preconditions.java:173) [na:na]          at com.sonatype.nexus.repository.nuget.internal.NugetGalleryFacetImpl$3.execute(NugetGalleryFacetImpl.java:273) [na:na]          at org.sonatype.nexus.repository.storage.StorageFacetImpl.perform(StorageFacetImpl.java:249) [na:na]          ... 92 common frames omitted    What's happening is:  1. proxy facet looks for the component by the passed-in package id, 'NUGET.CORE'.  2. It find nothing.  3. NugetProxyFacet.fetch() obtains metadata for 'NUGET.CORE' '2.8.5' - nuget.org is case insensitive, and so returns the feed entry for NuGet.Core 2.8.5, which Nexus stores.  4. Nexus then requests content for NUGET.CORE 2.8.5 - nuget.org complies, but when Nexus tries to look up component metadata to attach the content to, it fails, because it's looking up NUGET.CORE."""
"NEXUS-8939","Bug","LDAP|UI",0.5,"Cannot create LDAP with specific settings","""I just went to create LDAP and noticed that when configuring """"User and Group"""", I could not save with Group Type being Dynamic or without mapping LDAP groups as roles.  There was a validation firing that (if reading correctly) Group Member Format (a variable under Static Group configuration) was required.  See attached and log snip below.  I was able to change to Static Group configuration and create my LDAP.    If you then go back and edit, you can make it dynamic group configuration or remove mapping LDAP groups as roles altogether, but you cannot remove the value from that field.  If you do, it restores it to what you did before you saved.    This occurs with ?Debug on and off.    Editing post-creating is a pretty poor workaround and also 3 of our templates use dynamic groups so appear not to work with this as is, so leaving major.    This worked in some builds of m4, so is at least semi-recent regression.  I did not go back and check pre-Edgy so am not sure how recent.  I also didn't check against NX2, tho this was working last time I attempted it, assuming NX3 specific.  I don't believe this has anything to do with the linked issue, however, linking for thoroughness.    {quote}  2015-07-03 10:57:50,101-0400 ERROR [qtp845392291-218] admin org.sonatype.nexus.extdirect.internal.ExtDirectServlet - Failed to invoke action method: ldap_LdapServer.create, java-method: org.sonatype.nexus.ldap.internal.ui.LdapServerComponent.create  com.orientechnologies.orient.core.exception.OValidationException: The field 'ldap_mapping.groupMemberFormat' cannot be null, record: ldap_mapping{emailAddressAttribute:mail,ldapGroupsAsRoles:false,groupBaseDn:null,groupIdAttribute:null,groupMemberAttribute:null,groupMemberFormat:null,groupObjectClass:null,userPasswordAttribute:,userIdAttribute:sAMAccountName,userObjectClass:user,ldapFilter:,userBaseDn:cn=users,userRealNameAttribute:cn,userSubtree:false,groupSubtree:false,userMemberOfAttribute:null}   at com.orientechnologies.orient.core.record.impl.ODocument.validateField(ODocument.java:251) [na:na]   at com.orientechnologies.orient.core.record.impl.ODocument.validate(ODocument.java:1932) [na:na]   at com.orientechnologies.orient.core.record.impl.ODocument.validateEmbedded(ODocument.java:489) [na:na]   at com.orientechnologies.orient.core.record.impl.ODocument.validateField(ODocument.java:302) [na:na]   at com.orientechnologies.orient.core.record.impl.ODocument.validate(ODocument.java:1932) [na:na]   at com.orientechnologies.orient.core.storage.impl.local.OAbstractPaginatedStorage.commit(OAbstractPaginatedStorage.java:947) [na:na]   at com.orientechnologies.orient.core.tx.OTransactionOptimistic.doCommit(OTransactionOptimistic.java:590) [na:na]   at com.orientechnologies.orient.core.tx.OTransactionOptimistic.commit(OTransactionOptimistic.java:145) [na:na]   at com.orientechnologies.orient.core.db.document.ODatabaseDocumentTx.commit(ODatabaseDocumentTx.java:2548) [na:na]   at com.orientechnologies.orient.core.db.document.ODatabaseDocumentTx.commit(ODatabaseDocumentTx.java:2517) [na:na]   at org.sonatype.nexus.ldap.internal.persist.orient.OrientDBLdapConfigurationSource.create(OrientDBLdapConfigurationSource.java:105) [na:na]   at org.sonatype.nexus.ldap.internal.persist.DefaultLdapConfigurationManager.addLdapServerConfiguration(DefaultLdapConfigurationManager.java:133) [na:na]   at org.sonatype.nexus.ldap.internal.persist.LdapConfigurationManager$addLdapServerConfiguration$0.call(Unknown Source) [na:na]   at org.sonatype.nexus.ldap.internal.ui.LdapServerComponent.create(LdapServerComponent.groovy:121) [na:na]   at org.sonatype.nexus.validation.internal.ValidationInterceptor.invoke(ValidationInterceptor.java:53) [na:na]   at org.apache.shiro.guice.aop.AopAllianceMethodInvocationAdapter.proceed(AopAllianceMethodInvocationAdapter.java:49) [na:na]   at org.apache.shiro.authz.aop.AuthorizingAnnotationMethodInterceptor.invoke(AuthorizingAnnotationMethodInterceptor.java:68) [na:na]   at org.apache.shiro.guice.aop.AopAllianceMethodInterceptorAdapter.invoke(AopAllianceMethodInterceptorAdapter.java:36) [na:na]   at org.apache.shiro.guice.aop.AopAllianceMethodInvocationAdapter.proceed(AopAllianceMethodInvocationAdapter.java:49) [na:na]   at org.apache.shiro.authz.aop.AuthorizingAnnotationMethodInterceptor.invoke(AuthorizingAnnotationMethodInterceptor.java:68) [na:na]   at org.apache.shiro.guice.aop.AopAllianceMethodInterceptorAdapter.invoke(AopAllianceMethodInterceptorAdapter.java:36) [na:na]   at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) [na:1.8.0_40]   at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) [na:1.8.0_40]   at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [na:1.8.0_40]   at java.lang.reflect.Method.invoke(Method.java:497) [na:1.8.0_40]   at com.softwarementors.extjs.djn.router.dispatcher.DispatcherBase.invokeJavaMethod(DispatcherBase.java:142) [org.sonatype.nexus.plugins.nexus-extdirect-plugin:3.0.0.SNAPSHOT]   at com.softwarementors.extjs.djn.router.dispatcher.DispatcherBase.invokeMethod(DispatcherBase.java:133) [org.sonatype.nexus.plugins.nexus-extdirect-plugin:3.0.0.SNAPSHOT]   at org.sonatype.nexus.extdirect.internal.ExtDirectServlet$3.invokeMethod(ExtDirectServlet.java:201) [org.sonatype.nexus.plugins.nexus-extdirect-plugin:3.0.0.SNAPSHOT]   at com.softwarementors.extjs.djn.router.dispatcher.DispatcherBase.dispatch(DispatcherBase.java:63) [org.sonatype.nexus.plugins.nexus-extdirect-plugin:3.0.0.SNAPSHOT]   at com.softwarementors.extjs.djn.router.processor.standard.StandardRequestProcessorBase.dispatchStandardMethod(StandardRequestProcessorBase.java:73) [org.sonatype.nexus.plugins.nexus-extdirect-plugin:3.0.0.SNAPSHOT]   at com.softwarementors.extjs.djn.router.processor.standard.json.JsonRequestProcessor.processIndividualRequest(JsonRequestProcessor.java:502) [org.sonatype.nexus.plugins.nexus-extdirect-plugin:3.0.0.SNAPSHOT]   at com.softwarementors.extjs.djn.router.processor.standard.json.JsonRequestProcessor.processIndividualRequestsInThisThread(JsonRequestProcessor.java:150) [org.sonatype.nexus.plugins.nexus-extdirect-plugin:3.0.0.SNAPSHOT]   at com.softwarementors.extjs.djn.router.processor.standard.json.JsonRequestProcessor.process(JsonRequestProcessor.java:133) [org.sonatype.nexus.plugins.nexus-extdirect-plugin:3.0.0.SNAPSHOT]   at com.softwarementors.extjs.djn.router.RequestRouter.processJsonRequest(RequestRouter.java:83) [org.sonatype.nexus.plugins.nexus-extdirect-plugin:3.0.0.SNAPSHOT]   at com.softwarementors.extjs.djn.servlet.DirectJNgineServlet.processRequest(DirectJNgineServlet.java:617) [org.sonatype.nexus.plugins.nexus-extdirect-plugin:3.0.0.SNAPSHOT]   at com.softwarementors.extjs.djn.servlet.DirectJNgineServlet.doPost(DirectJNgineServlet.java:580) [org.sonatype.nexus.plugins.nexus-extdirect-plugin:3.0.0.SNAPSHOT]   at org.sonatype.nexus.extdirect.internal.ExtDirectServlet.doPost(ExtDirectServlet.java:121) [org.sonatype.nexus.plugins.nexus-extdirect-plugin:3.0.0.SNAPSHOT]   at javax.servlet.http.HttpServlet.service(HttpServlet.java:707) [javax.servlet-api:3.1.0]   at javax.servlet.http.HttpServlet.service(HttpServlet.java:790) [javax.servlet-api:3.1.0]   at com.google.inject.servlet.ServletDefinition.doServiceImpl(ServletDefinition.java:287) [com.google.inject:4.0.0]   at com.google.inject.servlet.ServletDefinition.doService(ServletDefinition.java:277) [com.google.inject:4.0.0]   at com.google.inject.servlet.ServletDefinition.service(ServletDefinition.java:182) [com.google.inject:4.0.0]   at com.google.inject.servlet.DynamicServletPipeline.service(DynamicServletPipeline.java:70) [com.google.inject:4.0.0]   at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:85) [com.google.inject:4.0.0]   at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:112) [org.apache.shiro.web:1.2.3]   at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:82) [com.google.inject:4.0.0]   at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:112) [org.apache.shiro.web:1.2.3]   at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:82) [com.google.inject:4.0.0]   at org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilterChain.java:61) [org.apache.shiro.web:1.2.3]   at org.apache.shiro.web.servlet.AdviceFilter.executeChain(AdviceFilter.java:108) [org.apache.shiro.web:1.2.3]   at org.apache.shiro.web.servlet.AdviceFilter.doFilterInternal(AdviceFilter.java:137) [org.apache.shiro.web:1.2.3]   at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:125) [org.apache.shiro.web:1.2.3]   at org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilterChain.java:66) [org.apache.shiro.web:1.2.3]   at org.apache.shiro.web.servlet.AbstractShiroFilter.executeChain(AbstractShiroFilter.java:449) [org.apache.shiro.web:1.2.3]   at org.sonatype.nexus.security.SecurityFilter.executeChain(SecurityFilter.java:85) [org.sonatype.nexus.security:3.0.0.SNAPSHOT]   at org.apache.shiro.web.servlet.AbstractShiroFilter$1.call(AbstractShiroFilter.java:365) [org.apache.shiro.web:1.2.3]   at org.apache.shiro.subject.support.SubjectCallable.doCall(SubjectCallable.java:90) [org.apache.shiro.core:1.2.3]   at org.apache.shiro.subject.support.SubjectCallable.call(SubjectCallable.java:83) [org.apache.shiro.core:1.2.3]   at org.apache.shiro.subject.support.DelegatingSubject.execute(DelegatingSubject.java:383) [org.apache.shiro.core:1.2.3]   at org.apache.shiro.web.servlet.AbstractShiroFilter.doFilterInternal(AbstractShiroFilter.java:362) [org.apache.shiro.web:1.2.3]   at org.sonatype.nexus.security.SecurityFilter.doFilterInternal(SecurityFilter.java:101) [org.sonatype.nexus.security:3.0.0.SNAPSHOT]   at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:125) [org.apache.shiro.web:1.2.3]   at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:82) [com.google.inject:4.0.0]   at com.sonatype.nexus.licensing.internal.LicensingRedirectFilter.doFilter(LicensingRedirectFilter.java:130) [com.sonatype.nexus.plugins.nexus-licensing-plugin:3.0.0.SNAPSHOT]   at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:82) [com.google.inject:4.0.0]   at com.codahale.metrics.servlet.AbstractInstrumentedFilter.doFilter(AbstractInstrumentedFilter.java:97) [com.codahale.metrics.servlet:3.0.2]   at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:82) [com.google.inject:4.0.0]   at org.sonatype.nexus.internal.web.ErrorPageFilter.doFilter(ErrorPageFilter.java:63) [org.sonatype.nexus.core:3.0.0.SNAPSHOT]   at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:82) [com.google.inject:4.0.0]   at org.sonatype.nexus.internal.web.EnvironmentFilter.doFilter(EnvironmentFilter.java:92) [org.sonatype.nexus.core:3.0.0.SNAPSHOT]   at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:82) [com.google.inject:4.0.0]   at com.google.inject.servlet.DynamicFilterPipeline.dispatch(DynamicFilterPipeline.java:104) [com.google.inject:4.0.0]   at com.google.inject.servlet.GuiceFilter$1.call(GuiceFilter.java:133) [com.google.inject:4.0.0]   at com.google.inject.servlet.GuiceFilter$1.call(GuiceFilter.java:130) [com.google.inject:4.0.0]   at com.google.inject.servlet.GuiceFilter$Context.call(GuiceFilter.java:203) [com.google.inject:4.0.0]   at com.google.inject.servlet.GuiceFilter.doFilter(GuiceFilter.java:130) [com.google.inject:4.0.0]   at org.sonatype.nexus.bootstrap.osgi.DelegatingFilter.doFilter(DelegatingFilter.java:73) [org.sonatype.nexus.bootstrap:3.0.0.SNAPSHOT]   at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1652) [org.eclipse.jetty.servlet:9.2.9.v20150224]   at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:585) [org.eclipse.jetty.servlet:9.2.9.v20150224]   at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143) [org.eclipse.jetty.server:9.2.9.v20150224]   at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:577) [org.eclipse.jetty.security:9.2.9.v20150224]   at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:223) [org.eclipse.jetty.server:9.2.9.v20150224]   at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1127) [org.eclipse.jetty.server:9.2.9.v20150224]   at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:515) [org.eclipse.jetty.servlet:9.2.9.v20150224]   at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:185) [org.eclipse.jetty.server:9.2.9.v20150224]   at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1061) [org.eclipse.jetty.server:9.2.9.v20150224]   at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141) [org.eclipse.jetty.server:9.2.9.v20150224]   at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:97) [org.eclipse.jetty.server:9.2.9.v20150224]   at com.codahale.metrics.jetty9.InstrumentedHandler.handle(InstrumentedHandler.java:175) [com.codahale.metrics.jetty9:3.0.2]   at org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:110) [org.eclipse.jetty.server:9.2.9.v20150224]   at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:97) [org.eclipse.jetty.server:9.2.9.v20150224]   at org.eclipse.jetty.server.Server.handle(Server.java:497) [org.eclipse.jetty.server:9.2.9.v20150224]   at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:310) [org.eclipse.jetty.server:9.2.9.v20150224]   at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:257) [org.eclipse.jetty.server:9.2.9.v20150224]   at org.eclipse.jetty.io.AbstractConnection$2.run(AbstractConnection.java:540) [org.eclipse.jetty.io:9.2.9.v20150224]   at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:635) [org.eclipse.jetty.util:9.2.9.v20150224]   at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:555) [org.eclipse.jetty.util:9.2.9.v20150224]   at java.lang.Thread.run(Thread.java:745) [na:1.8.0_40]  {quote}"""
"NEXUS-8957","Improvement","UI",1,"We need help text for everything","""Here’s a list of places in the UI missing help text:    + Strict content type validation (repository config)  + Name (repository config, make it clear that we expect an ID, not a human-readable string.)  -+ Raw repository (repository config/browse, need a better name and/or description)- Removed based on discussion on https://groups.google.com/a/sonatype.com/forum/?hl=en#!topic/sonatype-nexus-dev-group/2_GR2cC6jP0  + Query cache size/Nexus trust store (repository config, need better descriptions)  + Not Found Cache enabled (repository config, the intent is clear but not what this does)    (add here!)"""
"NEXUS-8956","Improvement","UI",2,"Drilldown needs a clearer “back” affordance","""People don’t trust the browser back button, so we need to provide a way to reset the drilldown that looks like it does what it says it does."""
"NEXUS-8969","Bug","Blobstore",0.5,"Blobstore size calculations incorrect","""Looks like the Blobstore is only reporting back the size of its metadata files and not the actual blob content size. The calculation is set to report on the parent directory of the db file, while the blobs themselves are stored in a sibling folder called 'content'  """
"NEXUS-8974","Bug","Staging|Yum",1,"Yum updates to build promotion repositories are not propagated to their parent group repositories",""" Create a yum enabled build promotion profile, and set it up so that it makes it's repositories appear in a yum enabled group repository.    Promote a staging repository into the build promotion profile, then retrieve """"repodata/repomd.xml"""" through the group repository.  This works.    Now promote a second staging repository into the build promotion repository, and retrieve the """"repodata/repomd.xml"""" through the group repository again.  The """"mergerepo"""" command is not run, and the group repository still has the old yum metadata.    I've verified this is still a problem in both 2.11.3 and 2.11.4.  """
"NEXUS-8972","Bug","Testsuite",0.5,"Modern testsuite's FormatClientSupport is not thread safe","""This is a utility class used by all the """"modern"""" ITs to derive format specific clients. While the fact it's single threaded did not bother so far, on implementing NEXUS-8839 Concurrency Hotspot ITs the problem popped out.    Circumvention as done in Maven2Client is simple, but fixing the FormatClientSupport itself should be trivial too, we just need to decide what we want."""
"NEXUS-8971","Bug","Maven",0.5,"Maven2 group metadata handling bug","""In short, the setup: group, that contains two members, one proxy and one hosted. The requested metadata is contained in a proxy (but is also deployed on same path in hosted repeatedly). This setup group should _never_ return 404, as the requested metadata does exists, even under load.    Current code does not uses the fact that merged metadata content is _reusable_, and does an unneeded roundtrip to Storage that introduces concurrency issues with group cache.    """
"NEXUS-8970","Bug","NPM|Scheduled Tasks",1,"org.sonatype.nexus.proxy.walker.WalkerException: Aborted walking on repository ID='npmjs' from path='/.nexus/trash/'.","""Seeing same issue as Nexus-8248 but I am on 2.11.3  What is weird is I've been on 2.11.3 for over a week with NPM repository configured.  This job runs daily and I've only received this error today, and any time I try manually running it today.    {{Task ID: 2  Task Name: Empty the trash every morning  Stack trace:  org.sonatype.nexus.proxy.walker.WalkerException: Aborted walking on repository ID='npmjs' from path='/.nexus/trash/'.   at org.sonatype.nexus.proxy.walker.DefaultWalker.reportWalkEnd(DefaultWalker.java:153)   at org.sonatype.nexus.proxy.walker.DefaultWalker.walk(DefaultWalker.java:118)   at org.sonatype.nexus.proxy.wastebasket.DefaultWastebasket.purge(DefaultWastebasket.java:208)   at org.sonatype.nexus.proxy.wastebasket.DefaultWastebasket.purgeAll(DefaultWastebasket.java:147)   at org.sonatype.nexus.tasks.EmptyTrashTask.doRun(EmptyTrashTask.java:66)   at org.sonatype.nexus.scheduling.AbstractNexusTask.call(AbstractNexusTask.java:163)   at org.sonatype.scheduling.DefaultScheduledTask.call(DefaultScheduledTask.java:418)   at org.sonatype.nexus.threads.MDCAwareCallable.call(MDCAwareCallable.java:44)   at org.apache.shiro.subject.support.SubjectCallable.doCall(SubjectCallable.java:90)   at org.apache.shiro.subject.support.SubjectCallable.call(SubjectCallable.java:83)   at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:334)   at java.util.concurrent.FutureTask.run(FutureTask.java:166)   at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:178)   at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:292)   at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)   at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)   at java.lang.Thread.run(Thread.java:724)  Caused by: org.sonatype.nexus.proxy.ItemNotFoundException: Request is marked as local-only, remote access not allowed from DefaultNpmProxyRepository(id=npmjs)   at org.sonatype.nexus.proxy.repository.AbstractProxyRepository.doRetrieveItem0(AbstractProxyRepository.java:1251)   at org.sonatype.nexus.proxy.repository.AbstractProxyRepository.doRetrieveItem(AbstractProxyRepository.java:1034)   at org.sonatype.nexus.proxy.repository.AbstractRepository.retrieveItem(AbstractRepository.java:760)   at org.sonatype.nexus.proxy.walker.DefaultWalker.walk(DefaultWalker.java:84)   ... 15 more  Caused by: org.sonatype.nexus.proxy.ItemNotFoundException: Request is marked as local-only, remote access not allowed from DefaultNpmProxyRepository(id=npmjs)   at org.sonatype.nexus.proxy.repository.AbstractProxyRepository.shouldTryRemote(AbstractProxyRepository.java:1050)   at com.bolyuba.nexus.plugin.npm.proxy.DefaultNpmProxyRepository.shouldTryRemote(DefaultNpmProxyRepository.java:281)   at org.sonatype.nexus.proxy.repository.AbstractProxyRepository.doRetrieveItem0(AbstractProxyRepository.java:1068)   ... 18 more  }}"""
"NEXUS-8990","Bug","NuGet",1,"Publishing to a hosted nuget repo affects the count of components in a proxy repo","""I executed a count query against the default nuget.org-proxy repository, published a test package to nuget-hosted, and then re-executed the count query - and the count incremented.    Reproduction:  1. Execute this query to see how many components are available in the nuget.org feed.      2. Publish SONATYPE.TEST.1.0.nupkg to the nuget-hosted repository.  3. Execute the count query again and note that it has incremented despite the activity happening on a different repo      Test for this condition is presently commented out in NugetGroupIT(search for this ticket), and should be re-enabled to confirm this when fixed.      """
"NEXUS-8989","Bug","Browse Storage|CMA|Search",2,"NuGet Component fetch from group repo does not respect repository ordering","""The expectation is that if a component is present in more than one repository, the ordering of group members will determine which one is returned. Presently we just return the first matching record, regardless of the configuration, although the query executed is indeed different.  Given a hosted repository to which I've published a component downloaded from a proxy, both of these queries return the same result regardless of the group membership configuration:      Similarly, browsing a group repository will show the same component regardless of the group membership ordering.    Test for this condition is presently @Ignore in NugetGroupIT, and should be re-enabled to confirm this when fixed."""
"NEXUS-8987","Bug","Browse Storage|NuGet",0.5,"NuGet assets do not download with correct filename","""Finishing asset detail page testing (NEXUS-8255), I noticed that NuGet assets were being listed and downloaded in the form of """"/SONATYPE.TEST/1.0"""".  If you rename the download to it's proper name (in this case original file was SONATYPE.TEST.1.0.nupkg) or even improper with a nupkg extension (tried test.nupkg) they work.  So the data is there, I think maybe just malformed slightly somehow.  However, as far as download goes, I imagine it'd be pretty annoying to NuGet users trying to get their assets this way.  Left major because of this.    Asset details are new to Edgy so does not affect older NX3.  I did not check NX2 at this time, tho I suspect unaffected.  Test performed with Debug off."""
"NEXUS-8985","Bug","UI",0.5,"Error switching from second level detail to first level nav","""Testing NEXUS-8848, I noticed that I changed from asset details to search another type (raw to maven) and got the attached error.  On further exploration this error seems to fire anytime you switch from a second level detail (such as result from search or a repository from repositories) to another left nav item and does not seem search specific.  Example: Select Repositories, select to edit an existing repository and select Blobstores.    This error occurs with Debug on or off.  Screens are with debug on.  After the error occurs, you cannot see details any longer in the UI.  You can navigate but no new data appears in the frame.  Also expanding the dev console is largely unreadable (though since this occurs with debug off, I doubt this is related).  Thus I am leaving this major.  Refreshing the UI does fix this however.  I did not check older versions of NX3 at this time.  Since there are really no """"levels"""" I recall in NX2, I doubt this affects NX2 but did not check at this time.  Nothing in the nexus.log.    Full JS:  {quote}  Uncaught TypeError: Cannot read property 'getElementsByTagName' of undefinedExt.define.onModelChanged @ VM2838 Drilldown.js?_dc=1437059614451:203Ext.define.selectModel @ VM2838 Drilldown.js?_dc=1437059614451:348Ext.define.navigateTo @ VM2838 Drilldown.js?_dc=1437059614451:323Ext.define.reselect @ VM2838 Drilldown.js?_dc=1437059614451:176componentListener.(anonymous function).resetdrilldown @ VM2838 Drilldown.js?_dc=1437059614451:101fire @ VM2653 baseapp-debug.js?_v=3.0.0-SNAPSHOT&_dc=1437059613505&debug=true:10813Ext.define.dispatch @ VM2653 baseapp-debug.js?_v=3.0.0-SNAPSHOT&_dc=1437059613505&debug=true:43613prototype.fireEventArgs @ VM2653 baseapp-debug.js?_v=3.0.0-SNAPSHOT&_dc=1437059613505&debug=true:43707fireEvent @ VM2653 baseapp-debug.js?_v=3.0.0-SNAPSHOT&_dc=1437059613505&debug=true:12200Ext.define.loadDrilldown @ VM2877 Drilldown.js?_dc=1437059614587:117fire @ VM2653 baseapp-debug.js?_v=3.0.0-SNAPSHOT&_dc=1437059613505&debug=true:10813continueFireEvent @ VM2653 baseapp-debug.js?_v=3.0.0-SNAPSHOT&_dc=1437059613505&debug=true:12236fireEventArgs @ VM2653 baseapp-debug.js?_v=3.0.0-SNAPSHOT&_dc=1437059613505&debug=true:12214prototype.fireEventArgs @ VM2653 baseapp-debug.js?_v=3.0.0-SNAPSHOT&_dc=1437059613505&debug=true:43704fireEvent @ VM2653 baseapp-debug.js?_v=3.0.0-SNAPSHOT&_dc=1437059613505&debug=true:12200Ext.define.getRenderTree @ VM2653 baseapp-debug.js?_v=3.0.0-SNAPSHOT&_dc=1437059613505&debug=true:30626Ext.define.render @ VM2653 baseapp-debug.js?_v=3.0.0-SNAPSHOT&_dc=1437059613505&debug=true:30752Ext.define.renderItem @ VM2653 baseapp-debug.js?_v=3.0.0-SNAPSHOT&_dc=1437059613505&debug=true:37990Ext.define.renderItems @ VM2653 baseapp-debug.js?_v=3.0.0-SNAPSHOT&_dc=1437059613505&debug=true:37937Ext.define.renderChildren @ VM2653 baseapp-debug.js?_v=3.0.0-SNAPSHOT&_dc=1437059613505&debug=true:38450Ext.define.invalidate @ VM2653 baseapp-debug.js?_v=3.0.0-SNAPSHOT&_dc=1437059613505&debug=true:86323Ext.define.flushInvalidates @ VM2653 baseapp-debug.js?_v=3.0.0-SNAPSHOT&_dc=1437059613505&debug=true:86161Ext.define.run @ VM2653 baseapp-debug.js?_v=3.0.0-SNAPSHOT&_dc=1437059613505&debug=true:86604Ext.define.statics.flushLayouts @ VM2653 baseapp-debug.js?_v=3.0.0-SNAPSHOT&_dc=1437059613505&debug=true:31606Ext.define.statics.resumeLayouts @ VM2653 baseapp-debug.js?_v=3.0.0-SNAPSHOT&_dc=1437059613505&debug=true:31614Ext.resumeLayouts @ VM2653 baseapp-debug.js?_v=3.0.0-SNAPSHOT&_dc=1437059613505&debug=true:34197Ext.define.add @ VM2653 baseapp-debug.js?_v=3.0.0-SNAPSHOT&_dc=1437059613505&debug=true:40221Ext.define.onFeatureSelected @ VM2731 Content.js?_dc=1437059614272:117fire @ VM2653 baseapp-debug.js?_v=3.0.0-SNAPSHOT&_dc=1437059613505&debug=true:10813Ext.define.dispatch @ VM2653 baseapp-debug.js?_v=3.0.0-SNAPSHOT&_dc=1437059613505&debug=true:43613prototype.fireEventArgs @ VM2653 baseapp-debug.js?_v=3.0.0-SNAPSHOT&_dc=1437059613505&debug=true:43707fireEvent @ VM2653 baseapp-debug.js?_v=3.0.0-SNAPSHOT&_dc=1437059613505&debug=true:12200Ext.define.selectFeature @ VM2735 Menu.js?_dc=1437059614276:242Ext.define.onSelection @ VM2735 Menu.js?_dc=1437059614276:225fire @ VM2653 baseapp-debug.js?_v=3.0.0-SNAPSHOT&_dc=1437059613505&debug=true:10813Ext.define.dispatch @ VM2653 baseapp-debug.js?_v=3.0.0-SNAPSHOT&_dc=1437059613505&debug=true:43613prototype.fireEventArgs @ VM2653 baseapp-debug.js?_v=3.0.0-SNAPSHOT&_dc=1437059613505&debug=true:43707createRelayer @ VM2653 baseapp-debug.js?_v=3.0.0-SNAPSHOT&_dc=1437059613505&debug=true:12521fire @ VM2653 baseapp-debug.js?_v=3.0.0-SNAPSHOT&_dc=1437059613505&debug=true:10813continueFireEvent @ VM2653 baseapp-debug.js?_v=3.0.0-SNAPSHOT&_dc=1437059613505&debug=true:12236fireEventArgs @ VM2653 baseapp-debug.js?_v=3.0.0-SNAPSHOT&_dc=1437059613505&debug=true:12214fireEvent @ VM2653 baseapp-debug.js?_v=3.0.0-SNAPSHOT&_dc=1437059613505&debug=true:12200Ext.define.onSelectChange @ VM2653 baseapp-debug.js?_v=3.0.0-SNAPSHOT&_dc=1437059613505&debug=true:136739Ext.define.doSingleSelect @ VM2653 baseapp-debug.js?_v=3.0.0-SNAPSHOT&_dc=1437059613505&debug=true:100235Ext.define.doSelect @ VM2653 baseapp-debug.js?_v=3.0.0-SNAPSHOT&_dc=1437059613505&debug=true:100079Ext.define.selectWithEvent @ VM2653 baseapp-debug.js?_v=3.0.0-SNAPSHOT&_dc=1437059613505&debug=true:99796Ext.define.processSelection @ VM2653 baseapp-debug.js?_v=3.0.0-SNAPSHOT&_dc=1437059613505&debug=true:136705Ext.define.onRowClick @ VM2653 baseapp-debug.js?_v=3.0.0-SNAPSHOT&_dc=1437059613505&debug=true:136698fire @ VM2653 baseapp-debug.js?_v=3.0.0-SNAPSHOT&_dc=1437059613505&debug=true:10813continueFireEvent @ VM2653 baseapp-debug.js?_v=3.0.0-SNAPSHOT&_dc=1437059613505&debug=true:12236fireEventArgs @ VM2653 baseapp-debug.js?_v=3.0.0-SNAPSHOT&_dc=1437059613505&debug=true:12214prototype.fireEventArgs @ VM2653 baseapp-debug.js?_v=3.0.0-SNAPSHOT&_dc=1437059613505&debug=true:43704fireEvent @ VM2653 baseapp-debug.js?_v=3.0.0-SNAPSHOT&_dc=1437059613505&debug=true:12200Ext.define.processUIEvent @ VM2653 baseapp-debug.js?_v=3.0.0-SNAPSHOT&_dc=1437059613505&debug=true:102173Base.implement.callParent @ VM2653 baseapp-debug.js?_v=3.0.0-SNAPSHOT&_dc=1437059613505&debug=true:4568Ext.define.processUIEvent @ VM2653 baseapp-debug.js?_v=3.0.0-SNAPSHOT&_dc=1437059613505&debug=true:126587Ext.define.handleEvent @ VM2653 baseapp-debug.js?_v=3.0.0-SNAPSHOT&_dc=1437059613505&debug=true:102096(anonymous function) @ VM3199:5Ext.apply.createListenerWrap.wrap @ VM2653 baseapp-debug.js?_v=3.0.0-SNAPSHOT&_dc=1437059613505&debug=true:11583  {quote}"""
"NEXUS-9000","Bug","NuGet",0.5,"NuGet group repository only shows content already cached in proxies","""Might need discussion as to how we want this to behave, but presently queries to a NuGet group do not forward to proxies but only consult already cached data for proxies. This is definitely not the behaviour a client would expect when interacting with the group repo; the expectation is that queries to the group repo will do what is required to consult any member repositories and fulfill client requests transparently.  """
"NEXUS-9004","Bug","Browse Storage|UI",3,"Browse Repository scroll not infinite","""Earlier today I built NX3 using NX3 and had the normal 3000+ assets in my system.  I noticed while reviewing something unrelated that on Browse UI, I only saw As and Bs in my component list for my dev group and central repo.  Similarly, in Browse UI for assets I only saw As and Bs.  I checked internal repos and more stuff than As/Bs showed so the items are browsable.  It appears that infinite scrolling is not infinite and it's stopping after 2.5-3 pages.  See attached vid.    I thought maybe this was NEXUS-8988 but the workaround given there (going to a working repo then back) does not fix this.  Also, I don't believe this is an issue with inclusion and more an issue with not being able to see everything.  Because this was working with NEXUS-8988, I believe this recent regression.  The behavior persists even after a browser restart.  It occurs with both Debug on and off.  I see no errors in nexus log or js console (or dev console).    Workaround would be to search, which is lame, but I gave minor priority since it is valid."""
"NEXUS-9008","Bug","UI",2,"On discard, filter remains but filtered items restore","""I noticed that when I filtered by an item (in this case realm list) and discarded (button at bottom), the filter remained but the list items restored.  This is strange because it subsequently appears the filter is broken (not filtering).  I believe it should clear the filter or not make any changes to the list.  I don't feel strongly one fix or the other.    I did not check older NX3 or NX2 at this time.  Noticed this with Debug on."""
"NEXUS-9007","Bug","Scheduled Tasks|UI",0.5,"RepositoryCombobox#includeAnEntryForAllRepositories() fails on UI","""Seems that tasks having descriptors using {{RepositoryCombobox#includeAnEntryForAllRepositories()}} causes UI errors, rendering UI unusable."""
"NEXUS-9005","Bug","NuGet|Search",3,"NuGet group repository does not respect latest version filters","""When searching for components across members of a group repository, a component ID at 2 different versions (one in each member repository) both report that they are the latest version in the generated feed, which is logically impossible.   Recreation:   - publish SONATYPE.TEST.1.0.nupkg to a hosted repo   - publish SONATYPE.TEST.1.1.nupkg to another hosted repo   - search for SONATYPE.TEST on a group repo containing both of the above host repos   - observe that both entries claim to be for the latest version of the component    Test for this condition is presently commented out in NugetGroupIT(search for this ticket), and should be re-enabled to confirm this when fixed.    *Acceptance Criteria:*    XML feed should only contain one latest version of a given package    *Note:*    Browse functionality works as is and hasn't been touched     """
"NEXUS-9011","Bug","Rapture",2,"NX3 logger creating is not actually creating loggers on server","""When creating a logger in the UI, no remote communication is being done to inform the server that it has a new logger.    Update seems to work, so the work-around now is to create a logger and then update it.    We should understand why this broke, as this feature is critical to development."""
"NEXUS-9016","Bug","UI",2,"Sort fails when you drill in, drill out, then attempt to sort a grid","""Demo: http://take.ms/y5ZXa    This bug only occurs in ?debug mode.    This bug appears to be tied to infinite scrolling lists only, so only browse and search are affected. Looking at the trace, this may be a bug with the fix Sencha gave us to a grid issue we filed awhile back.    https://support.sencha.com/index.php#ticket-22557    """
"NEXUS-9024","Task","Rapture",2,"Endpoint to retrieve asset and component models by ID","""The asset and component lists in the UI are infinite. Because we can’t guarantee that a given model has been loaded into these stores, we need a way to retrieve them from the backend directly, by ID.    This is needed when loading a bookmarked URL in the UI. If we can’t retrieve the model, we can’t show the corresponding view in the drilldown. I’ve stubbed this for now:     https://github.com/sonatype/nexus-oss/commit/204f43634f470427053b9cdd0d138fbba85cdd07"""
"NEXUS-9026","Bug","NPM",1,"orientdb may not fully recover from a restore process due to OCommandExecutionException: Class 'OUSER' was not found in current database","""If Nexus is forcefully killed during the startup process, while the OrientDB ( used by NPM in Nexus 2.x ) is being loaded, the database will not be properly closed and will start recovery on next startup.    The problem is, it is possible the automated recovery process may not fully recover the database.  The recovery fails with {{OQueryParsingException: Error on parsing query at position #6: Error on parsing query Query:  OUser where name = 'admin' limit 1}}. This subsequently leaves the NPM plugin features unusable. The only workaround appears to be renaming/deleting the db/npm directory and have Nexus recreate it from scratch.    For example:        On restart, Nexus tries to recover the db and it mostly succeeds but ultimately fails:    """
"NEXUS-9031","Bug","Browse Storage|Repository|UI",0.5,"Errors after logging in from anonymous to some pages","""While on a browse repository asset detail page anonymously, I logged in as admin and saw an error.  I was able to get the same error logging into a component detail page.  I also saw errors (though a different one) logging in to the file list (before details) as well as the component list (before file list on browse Components).  Despite the error, everything appears fine to me.  This also does not occur when you directly hit the URL so seems indirectly related to what I was testing.    I decided to file one ticket as the behavior is identical, despite the differences in error; I suspect there will be two very similar fixes.  If you'd like this broken out let me know.    If this seems familiar, NEXUS-8728 is almost the exact same thing for search but no longer occurs in search.  I did not check older NX3 or NX2 at this time.  This occurs with debug on or off.    Asset details error:  {quote}  Uncaught TypeError: Cannot read property 'getView' of undefined  VM258 nexus-rapture-plugin-prod.js?_v=3.0.0-SNAPSHOT&_dc=1438631658809:1    Ext.define.onModelChanged @ VM258 nexus-rapture-plugin-prod.js?_v=3.0.0-SNAPSHOT&_dc=1438631658809:1  (anonymous function) @ VM262 nexus-coreui-plugin-prod.js?_v=3.0.0-SNAPSHOT&_dc=1438631658809:1  Ext.apply.callback @ VM246 baseapp-prod.js?_v=3.0.0-SNAPSHOT&_dc=1438631658809:1  Ext.cmd.derive.onProxyLoad @ VM246 baseapp-prod.js?_v=3.0.0-SNAPSHOT&_dc=1438631658809:1  Ext.cmd.derive.processResponse @ VM246 baseapp-prod.js?_v=3.0.0-SNAPSHOT&_dc=1438631658809:1  (anonymous function) @ VM246 baseapp-prod.js?_v=3.0.0-SNAPSHOT&_dc=1438631658809:1  (anonymous function) @ VM246 baseapp-prod.js?_v=3.0.0-SNAPSHOT&_dc=1438631658809:1  Ext.cmd.derive.runCallback @ VM246 baseapp-prod.js?_v=3.0.0-SNAPSHOT&_dc=1438631658809:1  Ext.cmd.derive.onData @ VM246 baseapp-prod.js?_v=3.0.0-SNAPSHOT&_dc=1438631658809:1  Ext.apply.callback @ VM246 baseapp-prod.js?_v=3.0.0-SNAPSHOT&_dc=1438631658809:1  Ext.cmd.derive.onComplete @ VM246 baseapp-prod.js?_v=3.0.0-SNAPSHOT&_dc=1438631658809:1  Ext.cmd.derive.onStateChange @ VM246 baseapp-prod.js?_v=3.0.0-SNAPSHOT&_dc=1438631658809:1  (anonymous function) @ VM246 baseapp-prod.js?_v=3.0.0-SNAPSHOT&_dc=1438631658809:1  {quote}    File list and component list error:    {quote}  Uncaught TypeError: Cannot read property 'getStore' of undefined  2VM258 nexus-rapture-plugin-prod.js?_v=3.0.0-SNAPSHOT&_dc=1438631658809:1    Ext.define.selectModel @ VM258 nexus-rapture-plugin-prod.js?_v=3.0.0-SNAPSHOT&_dc=1438631658809:1  (anonymous function) @ VM258 nexus-rapture-plugin-prod.js?_v=3.0.0-SNAPSHOT&_dc=1438631658809:1  fire @ VM246 baseapp-prod.js?_v=3.0.0-SNAPSHOT&_dc=1438631658809:1  continueFireEvent @ VM246 baseapp-prod.js?_v=3.0.0-SNAPSHOT&_dc=1438631658809:1  fireEventArgs @ VM246 baseapp-prod.js?_v=3.0.0-SNAPSHOT&_dc=1438631658809:1  a.fireEventArgs @ VM246 baseapp-prod.js?_v=3.0.0-SNAPSHOT&_dc=1438631658809:1  fireEvent @ VM246 baseapp-prod.js?_v=3.0.0-SNAPSHOT&_dc=1438631658809:1  Ext.cmd.derive.onProxyLoad @ VM246 baseapp-prod.js?_v=3.0.0-SNAPSHOT&_dc=1438631658809:1  Ext.cmd.derive.processResponse @ VM246 baseapp-prod.js?_v=3.0.0-SNAPSHOT&_dc=1438631658809:1  (anonymous function) @ VM246 baseapp-prod.js?_v=3.0.0-SNAPSHOT&_dc=1438631658809:1  (anonymous function) @ VM246 baseapp-prod.js?_v=3.0.0-SNAPSHOT&_dc=1438631658809:1  Ext.cmd.derive.runCallback @ VM246 baseapp-prod.js?_v=3.0.0-SNAPSHOT&_dc=1438631658809:1  Ext.cmd.derive.onData @ VM246 baseapp-prod.js?_v=3.0.0-SNAPSHOT&_dc=1438631658809:1  Ext.apply.callback @ VM246 baseapp-prod.js?_v=3.0.0-SNAPSHOT&_dc=1438631658809:1  Ext.cmd.derive.onComplete @ VM246 baseapp-prod.js?_v=3.0.0-SNAPSHOT&_dc=1438631658809:1  Ext.cmd.derive.onStateChange @ VM246 baseapp-prod.js?_v=3.0.0-SNAPSHOT&_dc=1438631658809:1  (anonymous function) @ VM246 baseapp-prod.js?_v=3.0.0-SNAPSHOT&_dc=1438631658809:1  {quote}"""
"NEXUS-9046","Improvement","Repository",0.5,"remove codehaus snapshots from default configuration","""The codehaus snapshots repo is gone, we should remove it from our default configuration."""
"NEXUS-9090","Bug","UI",0.5,"IE(11): Errors & non-functional pages after minimal site use","""In IE11, when I go to create a repository, on select a repository type, I am getting the attached errors.  I had limited success bypassing this with debug on however it does occur with debug on as well.  I have had 100% success rate reproducing this without debug on.  I have not seen this in Chrome either Windows or MacOSX, so assume this is IE related.    From JS console:  """"SCRIPT5007: Unable to get property 'removeAll' of undefined or null reference  File: Drilldown.js, Line: 624, Column: 11""""    I did not check older NX3 or NX2 at this time.  I am fairly sure I've been able to create repos in NX3 (and NX2) at some point in IE however.  Leaving major because of this.  Workaround is obviously use another browser."""
"NEXUS-9089","Improvement","UI",2,"Be more opinionated about Docker HTTP and HTTPS config options","""Docker repositories may be accessed in four basic configurations:    * Using the default URL we provide (doesn’t support push/pull with Docker)  * Using the default URL _or_ HTTP (when NX is behind a secure proxy)  * Using the default URL _or_ HTTPS (intended for a proxy-less scenario)  * Using the default URL _or_ HTTP _or_ HTTPS    We need to make these options more explicit in the UI. There are a few things we could do to make the UI clearer:    * List every URL that a user can use to interact with a repository (not just the default URL)  * Briefly describe how we expect each kind of URL to be used (supplemented by online docs)  * Put the HTTP and HTTPS fields in an optional fieldset, to make it clear that you don’t need one to retrieve images from Nexus (in fact, the only reason you need HTTP or HTTPS is if you want to push/pull images to Nexus using the Docker CLI)  * HTTPS is the preferred way of interacting with Nexus using the Docker CLI. Consider saying this in the help text, or selecting it by default (once the optional fieldset has been checked)."""
"NEXUS-9088","Bug","Rapture|UI",1,"Unselecting form checkboxes causes discard and save state to mess up","""I noticed that when I went to put a repository offline, right after I went to navigate away, I got a discard changes prompt.  On repro attempt, I noticed when I unselected any checkboxes on the form, the save buttons remain enabled and the discard prompts fire.  If you discard however, you will return to a screen where everything is saved NOT discarded.  This is pretty confusing.  See attached movie, let me know if unclear.    It's even more confusing that it does not appear to affect the opposite way (selecting checkboxes) or using other field types (that I saw/tried).  While I originally saw this on repository, I was able to reproduce using Capabilities, so it's not repository specific.    I did not check older NX3 or NX2 at this time.  Test done with debug off."""
"NEXUS-9087","Bug","Search|UI",5,"Logging in from anonymous searching has weird redraw","""While testing NEXUS-9031, I tangentially checked from a custom search logged in anonymously, logging in to make sure all areas were covered (search is the last area currently outside of component and asset browse you can access not being logged in).  When I did this, I noticed a weird redraw (see attached).    This occurs no matter what custom search level you are on (overall type search, inside a component, inside an asset).  It occurs with debug on and off.  I further noticed that if you open the developer console or the javascript console, the page corrects itself.  Refreshing also corrects the page.    I have not checked against NX2 at this time."""
"NEXUS-9095","Bug","UI",1,"Removing certificate from trust store errors","""I tried to remove a certificate from the trust store via the repository admin and got the attached error.  I am 95% sure this worked at some point but did not check older NX3 (or NX2) at this time.  This occurs with debug on and off.  Screen/snip are with debug on.    Removing the certificate via SSL _does_ work so that's the workaround.    JS Console:  {quote}  Uncaught TypeError: model.get is not a function  VM433 SslCertificates.js?_dc=1439930849262:134    Ext.define.getDescription @ VM433 SslCertificates.js?_dc=1439930849262:134  Ext.define.deleteModel @ VM433 SslCertificates.js?_dc=1439930849262:298  fire @ VM312 baseapp-debug.js?_v=3.0.0-SNAPSHOT&_dc=1439930848524&debug=true:10813  Ext.define.dispatch @ VM312 baseapp-debug.js?_v=3.0.0-SNAPSHOT&_dc=1439930848524&debug=true:43613  prototype.fireEventArgs @ VM312 baseapp-debug.js?_v=3.0.0-SNAPSHOT&_dc=1439930848524&debug=true:43707  fireEvent @ VM312 baseapp-debug.js?_v=3.0.0-SNAPSHOT&_dc=1439930848524&debug=true:12200  Ext.define.fireHandler @ VM312 baseapp-debug.js?_v=3.0.0-SNAPSHOT&_dc=1439930848524&debug=true:50078  Ext.define.onClick @ VM312 baseapp-debug.js?_v=3.0.0-SNAPSHOT&_dc=1439930848524&debug=true:50064  (anonymous function) @ VM839:6  Ext.apply.createListenerWrap.wrap @ VM312 baseapp-debug.js?_v=3.0.0-SNAPSHOT&_dc=1439930848524&debug=true:11583  {quote}"""
"NEXUS-9094","Bug","Rapture|UI",0.5,"Adding certificate to trust store does not close modal","""[~alin] noted earlier today that he had noticed that when adding a certificate to a proxy repository (via repository administration), that the modal to add the certificate did not close.  He and [~dsauble] do not believe this is intentional so I am filing a ticket.  I did not go back and check older NX3 (or NX2) at this time however the current behavior is not familiar.  My repro test was done with debug off however I doubt that matters.    Let any of us know if unclear."""
"NEXUS-9093","Bug","Docker|Repository",0.5,"Docker repo admin form always treated as 'dirty'","""If you've navigated to a Docker repo admin screen it is automatically treated as dirty even though no changes are made. This is annoying as you can't view the config and navigate away without a modal warning that changes will be lost.  """
"NEXUS-9097","Bug","UI",1,"Realm dropdown initially disabled on Anonymous page","""[~jdillon] noticed that on the Security>Anonymous page the Realm list dropdown initially shows no items in it unless you go to the Security>Realms page first.  This can be reproed both by logging in directly to http://localhost:8081/#admin/security/anonymous or by logging in normally and navigating to Security>Anonymous before going to Security>Realms.  Then click on the realm dropdown.  See vid.    Both of us recall seeing this or something akin before but could not find a related ticket.  I suspect this affects older versions of NX3 because of this but did not back check at this time.  This does not affect NX2 because the setup is different.    Testing done with debug off."""
"NEXUS-9101","Improvement","Metrics",1,"Apply Codahale metrics to Facets","""There's a limitation in codahale's guice integration that restricts the use of @Timed (and related) annotations to plain components. It won't instrument assisted-inject factories.    As a result, we can't use Codahale annotations for facet methods, which is big limitation given NX3's repository architecture."""
"NEXUS-9109","Bug","UI",0.5,"Initial navigation to browse assets/components does not load list","""When navigating to browse repository assets/components the first time, the list of assets/components is not loaded. The list is loaded on subsequent navigations and when using a bookmark URL.    This problem does not exhibit when using {{?debug}} in the URL or when using the browser's debug/developer mode."""
"NEXUS-9114","Bug","Rapture|Support Tools|UI",0.5,"Support Zip page prompts for discard","""I noticed when I created a Support Zip (via Admin>Support) that when I removed some of the check boxes (I left """"System information report"""" as well as the two Options) then closed the browser or navigated away I was prompted to discard changes or go back.  This page is not able to be saved to my knowledge, so I think this prompt is out of place.    Test done with debug off.  NX2 is not affected by this.  I did not check older NX3."""
"NEXUS-9121","Improvement","Database",2,"Update security entity bits to use use common entity support bits","""The entities and orientdb usage of things in nexus-security should be able to use the nexus-common provided Entity interface and allow the impls to use EntityAdapter support classes."""
"NEXUS-9127","Bug","Repository|UI",1,"Should not be allowed to delete assets from a group repository","""There’s a delete button when viewing an asset in a group repository. We don’t support delete in that scenario, so the button shouldn’t be there, and if we do try to use it an NPE is thrown since the Asset id doesn't exist in the group repo bucket.    Acceptance Criteria:    - Remove the button from group repositories!     NOTE:    - The information to remove this _easily_ is not currently available, we'd have to figure something out to indicate your are in a group repository     {quote}    2015-10-02 13:50:52,366-0400 INFO [qtp1124904898-174] admin org.sonatype.nexus.coreui.ComponentComponent - Deleting asset: null  2015-10-02 13:50:52,371-0400 ERROR [qtp1124904898-174] admin org.sonatype.nexus.extdirect.internal.ExtDirectServlet - Failed to invoke action method: coreui_Component.deleteAsset, java-method: org.sonatype.nexus.coreui.ComponentComponent.deleteAsset  java.lang.NullPointerException: null  at com.google.common.base.Preconditions.checkNotNull(Preconditions.java:210) [com.google.guava:18.0.0]  at org.sonatype.nexus.repository.storage.StorageTxImpl.deleteAsset(StorageTxImpl.java:421) [na:na]  at org.sonatype.nexus.repository.storage.StorageTxImpl.deleteAsset(StorageTxImpl.java:417) [na:na]  at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) [na:1.8.0_40]  at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) [na:1.8.0_40]  at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [na:1.8.0_40]  at java.lang.reflect.Method.invoke(Method.java:497) [na:1.8.0_40]  at org.sonatype.nexus.common.stateguard.SimpleMethodInvocation.proceed(SimpleMethodInvocation.java:53) [na:na]  at org.sonatype.nexus.common.stateguard.MethodInvocationAction.run(MethodInvocationAction.java:39) [na:na]  at org.sonatype.nexus.common.stateguard.StateGuard$GuardImpl.run(StateGuard.java:267) [na:na]  at org.sonatype.nexus.common.stateguard.GuardedInterceptor.invoke(GuardedInterceptor.java:53) [na:na]  at org.sonatype.nexus.common.stateguard.StateGuardAspect$1.invoke(StateGuardAspect.java:59) [na:na]  at com.sun.proxy.$Proxy155.deleteAsset(Unknown Source) [na:na]  at org.sonatype.nexus.repository.storage.StorageTx$deleteAsset$9.call(Unknown Source) [na:na]  at org.sonatype.nexus.coreui.ComponentComponent.deleteAsset(ComponentComponent.groovy:289) [na:na]  at org.sonatype.nexus.validation.internal.ValidationInterceptor.invoke(ValidationInterceptor.java:53) [na:na]  at org.apache.shiro.guice.aop.AopAllianceMethodInvocationAdapter.proceed(AopAllianceMethodInvocationAdapter.java:49) [na:na]  at org.apache.shiro.authz.aop.AuthorizingAnnotationMethodInterceptor.invoke(AuthorizingAnnotationMethodInterceptor.java:68) [na:na]  at org.apache.shiro.guice.aop.AopAllianceMethodInterceptorAdapter.invoke(AopAllianceMethodInterceptorAdapter.java:36) [na:na]  at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) [na:1.8.0_40]  at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) [na:1.8.0_40]  at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [na:1.8.0_40]  at java.lang.reflect.Method.invoke(Method.java:497) [na:1.8.0_40]  at com.softwarementors.extjs.djn.router.dispatcher.DispatcherBase.invokeJavaMethod(DispatcherBase.java:142) [org.sonatype.nexus.plugins.nexus-extdirect-plugin:3.0.0.SNAPSHOT]  at com.softwarementors.extjs.djn.router.dispatcher.DispatcherBase.invokeMethod(DispatcherBase.java:133) [org.sonatype.nexus.plugins.nexus-extdirect-plugin:3.0.0.SNAPSHOT]  at org.sonatype.nexus.extdirect.internal.ExtDirectServlet$3.invokeMethod(ExtDirectServlet.java:201) [org.sonatype.nexus.plugins.nexus-extdirect-plugin:3.0.0.SNAPSHOT]  at com.softwarementors.extjs.djn.router.dispatcher.DispatcherBase.dispatch(DispatcherBase.java:63) [org.sonatype.nexus.plugins.nexus-extdirect-plugin:3.0.0.SNAPSHOT]  at com.softwarementors.extjs.djn.router.processor.standard.StandardRequestProcessorBase.dispatchStandardMethod(StandardRequestProcessorBase.java:73) [org.sonatype.nexus.plugins.nexus-extdirect-plugin:3.0.0.SNAPSHOT]  at com.softwarementors.extjs.djn.router.processor.standard.json.JsonRequestProcessor.processIndividualRequest(JsonRequestProcessor.java:502) [org.sonatype.nexus.plugins.nexus-extdirect-plugin:3.0.0.SNAPSHOT]  at com.softwarementors.extjs.djn.router.processor.standard.json.JsonRequestProcessor.processIndividualRequestsInThisThread(JsonRequestProcessor.java:150) [org.sonatype.nexus.plugins.nexus-extdirect-plugin:3.0.0.SNAPSHOT]  at com.softwarementors.extjs.djn.router.processor.standard.json.JsonRequestProcessor.process(JsonRequestProcessor.java:133) [org.sonatype.nexus.plugins.nexus-extdirect-plugin:3.0.0.SNAPSHOT]  at com.softwarementors.extjs.djn.router.RequestRouter.processJsonRequest(RequestRouter.java:83) [org.sonatype.nexus.plugins.nexus-extdirect-plugin:3.0.0.SNAPSHOT]  at com.softwarementors.extjs.djn.servlet.DirectJNgineServlet.processRequest(DirectJNgineServlet.java:617) [org.sonatype.nexus.plugins.nexus-extdirect-plugin:3.0.0.SNAPSHOT]  at com.softwarementors.extjs.djn.servlet.DirectJNgineServlet.doPost(DirectJNgineServlet.java:580) [org.sonatype.nexus.plugins.nexus-extdirect-plugin:3.0.0.SNAPSHOT]  at org.sonatype.nexus.extdirect.internal.ExtDirectServlet.doPost(ExtDirectServlet.java:121) [org.sonatype.nexus.plugins.nexus-extdirect-plugin:3.0.0.SNAPSHOT]  at javax.servlet.http.HttpServlet.service(HttpServlet.java:707) [javax.servlet-api:3.1.0]  at javax.servlet.http.HttpServlet.service(HttpServlet.java:790) [javax.servlet-api:3.1.0]  at com.google.inject.servlet.ServletDefinition.doServiceImpl(ServletDefinition.java:287) [com.google.inject:4.0.0]  at com.google.inject.servlet.ServletDefinition.doService(ServletDefinition.java:277) [com.google.inject:4.0.0]  at com.google.inject.servlet.ServletDefinition.service(ServletDefinition.java:182) [com.google.inject:4.0.0]  at com.google.inject.servlet.DynamicServletPipeline.service(DynamicServletPipeline.java:70) [com.google.inject:4.0.0]  at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:85) [com.google.inject:4.0.0]  at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:112) [org.apache.shiro.web:1.2.4]  at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:82) [com.google.inject:4.0.0]  at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:112) [org.apache.shiro.web:1.2.4]  at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:82) [com.google.inject:4.0.0]  at org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilterChain.java:61) [org.apache.shiro.web:1.2.4]  at org.apache.shiro.web.servlet.AdviceFilter.executeChain(AdviceFilter.java:108) [org.apache.shiro.web:1.2.4]  at org.apache.shiro.web.servlet.AdviceFilter.doFilterInternal(AdviceFilter.java:137) [org.apache.shiro.web:1.2.4]  at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:125) [org.apache.shiro.web:1.2.4]  at org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilterChain.java:66) [org.apache.shiro.web:1.2.4]  at org.apache.shiro.web.servlet.AbstractShiroFilter.executeChain(AbstractShiroFilter.java:449) [org.apache.shiro.web:1.2.4]  at org.sonatype.nexus.security.SecurityFilter.executeChain(SecurityFilter.java:85) [org.sonatype.nexus.security:3.0.0.SNAPSHOT]  at org.apache.shiro.web.servlet.AbstractShiroFilter$1.call(AbstractShiroFilter.java:365) [org.apache.shiro.web:1.2.4]  at org.apache.shiro.subject.support.SubjectCallable.doCall(SubjectCallable.java:90) [org.apache.shiro.core:1.2.4]  at org.apache.shiro.subject.support.SubjectCallable.call(SubjectCallable.java:83) [org.apache.shiro.core:1.2.4]  at org.apache.shiro.subject.support.DelegatingSubject.execute(DelegatingSubject.java:383) [org.apache.shiro.core:1.2.4]  at org.apache.shiro.web.servlet.AbstractShiroFilter.doFilterInternal(AbstractShiroFilter.java:362) [org.apache.shiro.web:1.2.4]  at org.sonatype.nexus.security.SecurityFilter.doFilterInternal(SecurityFilter.java:101) [org.sonatype.nexus.security:3.0.0.SNAPSHOT]  at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:125) [org.apache.shiro.web:1.2.4]  at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:82) [com.google.inject:4.0.0]  at com.codahale.metrics.servlet.AbstractInstrumentedFilter.doFilter(AbstractInstrumentedFilter.java:97) [com.codahale.metrics.servlet:3.0.2]  at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:82) [com.google.inject:4.0.0]  at org.sonatype.nexus.internal.web.ErrorPageFilter.doFilter(ErrorPageFilter.java:63) [org.sonatype.nexus.core:3.0.0.SNAPSHOT]  at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:82) [com.google.inject:4.0.0]  at org.sonatype.nexus.internal.web.EnvironmentFilter.doFilter(EnvironmentFilter.java:101) [org.sonatype.nexus.core:3.0.0.SNAPSHOT]  at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:82) [com.google.inject:4.0.0]  at com.google.inject.servlet.DynamicFilterPipeline.dispatch(DynamicFilterPipeline.java:104) [com.google.inject:4.0.0]  at com.google.inject.servlet.GuiceFilter$1.call(GuiceFilter.java:133) [com.google.inject:4.0.0]  at com.google.inject.servlet.GuiceFilter$1.call(GuiceFilter.java:130) [com.google.inject:4.0.0]  at com.google.inject.servlet.GuiceFilter$Context.call(GuiceFilter.java:203) [com.google.inject:4.0.0]  at com.google.inject.servlet.GuiceFilter.doFilter(GuiceFilter.java:130) [com.google.inject:4.0.0]  at org.sonatype.nexus.bootstrap.osgi.DelegatingFilter.doFilter(DelegatingFilter.java:73) [org.sonatype.nexus.bootstrap:3.0.0.SNAPSHOT]  at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1669) [org.eclipse.jetty.servlet:9.3.3.v20150827]  at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:581) [org.eclipse.jetty.servlet:9.3.3.v20150827]  at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143) [org.eclipse.jetty.server:9.3.3.v20150827]  at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:548) [org.eclipse.jetty.security:9.3.3.v20150827]  at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:226) [org.eclipse.jetty.server:9.3.3.v20150827]  at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1156) [org.eclipse.jetty.server:9.3.3.v20150827]  at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:511) [org.eclipse.jetty.servlet:9.3.3.v20150827]  at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:185) [org.eclipse.jetty.server:9.3.3.v20150827]  at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1088) [org.eclipse.jetty.server:9.3.3.v20150827]  at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141) [org.eclipse.jetty.server:9.3.3.v20150827]  at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:119) [org.eclipse.jetty.server:9.3.3.v20150827]  at com.codahale.metrics.jetty9.InstrumentedHandler.handle(InstrumentedHandler.java:175) [com.codahale.metrics.jetty9:3.0.2]  at org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:109) [org.eclipse.jetty.server:9.3.3.v20150827]  at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:119) [org.eclipse.jetty.server:9.3.3.v20150827]  at org.eclipse.jetty.server.Server.handle(Server.java:517) [org.eclipse.jetty.server:9.3.3.v20150827]  at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:306) [org.eclipse.jetty.server:9.3.3.v20150827]  at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:242) [org.eclipse.jetty.server:9.3.3.v20150827]  at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:245) [org.eclipse.jetty.io:9.3.3.v20150827]  at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:95) [org.eclipse.jetty.io:9.3.3.v20150827]  at org.eclipse.jetty.io.SelectChannelEndPoint$2.run(SelectChannelEndPoint.java:75) [org.eclipse.jetty.io:9.3.3.v20150827]  at org.eclipse.jetty.util.thread.strategy.ExecuteProduceConsume.produceAndRun(ExecuteProduceConsume.java:213) [org.eclipse.jetty.util:9.3.3.v20150827]  at org.eclipse.jetty.util.thread.strategy.ExecuteProduceConsume.run(ExecuteProduceConsume.java:147) [org.eclipse.jetty.util:9.3.3.v20150827]  at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:654) [org.eclipse.jetty.util:9.3.3.v20150827]  at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:572) [org.eclipse.jetty.util:9.3.3.v20150827]  at java.lang.Thread.run(Thread.java:745) [na:1.8.0_40]    {quote}"""
"NEXUS-9161","Bug","Docker|UI",0.5,"Numerical drop down rendering issue","""The numerical drop down for Docker connector ports looses the lower outline when a value is defined in the control. This looks broken to a user."""
"NEXUS-9158","Bug","Routing",0,"Help text in routing rules is wrong","""The help text on routing rules is incorrect. It says that the path in the expression """"will include the repository name"""". This is wrong.  It also implies that a leading """".*"""" is needed in the path before the start of the group ID, this is also wrong.  This was previously fixed in [-NEXUS-3583-|https://issues.sonatype.org/browse/NEXUS-3583] , so somehow this regressed."""
"NEXUS-9163","Bug","UI",0.5,"Save button remains enabled after changes to LDAP users/groups are saved","""Demo: http://take.ms/ClOBU    Despite what the messaging says, the changes _are_ saved. Only the *User and group* tab is affected."""
"NEXUS-9174","Bug","Docker",0.5,"Docker search against group is incorrectly sorted","""Setup:     - docker group docker-all exposed at 18443  - group contains empty hosted repo and proxy to Docker Hub    Expectation:    Search results for a specific term like 'ubuntu' are the same    Observed:    Not the same at all. All official results that show up in direct search to Docker Hub are omitted. E.g. the official ubuntu image is missing. Typically those have the biggest number of stars and are the desired ones.   """
"NEXUS-9173","Bug","UI",0.5,"IE(11): Column sort arrows on smaller columns collide with text","""See attached (from Blobstores page).  On smaller columns in IE(11), the sort arrow collides with the text.  I noticed this first on Support>Analytics>Events where the default column sizes are pretty small (lots of data) and the initial sort (Timestamp) is affected.  This does not happen in Chrome (Windows7) so this seems to be an IE specific issue.  Working browsers have the arrow on the right and if the column gets too small, not shown at all.  Being that the sort arrow is not first and on the same line, this is what I would have expected.  Workaround, widen the column.    I am pretty sure I have seen this before but did not see a ticket.  Did not test older NX3 or NX2 at this time.  Debug was off during this test.    NOTE:  Maybe talk to Sencha about this one"""
"NEXUS-9170","Bug","NuGet|UI",1,"'Locally cached' status doesn't update when downloading NuGet assets for the first time","""When NuGet searches are performed, the search cache is primed with data from the result but the actual binaries are not yet downloaded. When you navigate to the Assets view for one of these and click the download link the content is fetched, but the status shown on the screen does not update until after you navigate away and back. The refresh button does nothing in this context.  The expectation is that the info about the asset should be updated, which might include a refresh of the store after the content is fetched.    Recreation steps:  - execute a search against our nuget.org proxy repo: curl -u admin:admin123 -X GET -v """"http://localhost:8081/repository/nuget.org-proxy/Search()?\$filter=IsLatestVersion&searchTerm='Web'&targetFramework='net45'&includePrerelease=false&\$top=65""""  - Browse in the UI to any of the results of the above search; on a newly installed system this should be all results  - note that 'Locally cached' is false  - click the path link and download the asset  - observe that the UI does not update 'Locally cached' and other related info (File size and Blob Ref)"""
"NEXUS-9168","Bug","UI",0.5,"Going to custom search from non-parent has continual mask","""I noticed that if I went to Custom Search from any of the other child searches (Docker, Maven, NuGet, Raw) I got a continual loading mask that did not go away.  If you go from Search parent or outside stuff (such as Welcome or Browse) it works.  This occurs with Debug on and off and nothing in the log/js console shows (though I mull if it's really continual that's why).  This occurs with contents in the repos or with a fresh (content free) install.  None of the other child searches seem affected in this way.    I've attached a screen since it's about the same info as a vid, but if you want a vid let me know.    I did not check older NX3 or NX2 at this time."""
"NEXUS-9183","Bug","NPM",3,"npm Performance ITs","""Add npm hosted, group and proxy performance ITs to the performance-testsuite."""
"NEXUS-9181","Bug","Scheduled Tasks|UI",0.5,"Clicking to run and running a scheduled task shows repository field briefly as required","""I noticed that when you click to run a scheduled task (before running) and when you run a scheduled task, the repository field briefly displays it's required despite it being filled in.  No other required field does this as far as I can tell.  This seems familiar but I did not see a ticket regarding this already.  I did not check older NX3 or NX2 at this time.  See vid, let me know if unclear."""
"NEXUS-9212","Bug","Capabilities|Rapture|UI",0.5,"Capabilities: Save/discard does not disable after save","""I noticed that after saving a Capability change _on the Summary tab_ that the Save/Discard buttons remain enabled. This does not happen on the Settings tab, so I surmise this may have been fixed one place (by [-NEXUS-8833-|https://issues.sonatype.org/browse/NEXUS-8833] ?) but not another. Similar tickets have definately existed (see some linked).  There are no errors in the JS console/nexus.log. Debug was off during this test. I did not check older NX3 or NX2 at this time."""
"NEXUS-9211","Bug","Security",0.5,"Roles page warns of read permissions when it can be used","""While running through security, I noticed that if you have just Roles permission, you get a warning that you cannot read privilges.  While this is true, it is not necessary to create a role.  Similarly, I think the placement of the warning is confusing.  You get the warning before you enter the place where the fact you cannot read potentially matters (drilling down into/creating the role).    Note, that the users page has a similar issue when it comes to listing roles however that page CANNOT be used without, so there is no ticket for that.  The combination of the ability for it to be used and confusing warning are causing me to file.    See attached screen, let me know if unclear.  I had debug off during this test.  No errors appeared in the js console.  Below appeared in the nexus.log.  I did not check older NX3 or NX2 at this time.    {quote}  2015-09-17 11:58:47,887-0400 ERROR [pool-6-thread-10] joedragons org.sonatype.nexus.extdirect.internal.ExtDirectServlet - Failed to invoke action method: coreui_Privilege.read, java-method: org.sonatype.nexus.coreui.PrivilegeComponent.read  org.apache.shiro.authz.AuthorizationException: User is not permitted: nexus:privileges:read   at org.sonatype.nexus.security.authz.ExceptionCatchingModularRealmAuthorizer.checkPermission(ExceptionCatchingModularRealmAuthorizer.java:66) [na:na]   at org.apache.shiro.mgt.AuthorizingSecurityManager.checkPermission(AuthorizingSecurityManager.java:137) [na:na]   at org.apache.shiro.subject.support.DelegatingSubject.checkPermission(DelegatingSubject.java:205) [org.apache.shiro.core:1.2.4]   at org.apache.shiro.authz.aop.PermissionAnnotationHandler.assertAuthorized(PermissionAnnotationHandler.java:74) [na:na]   at org.apache.shiro.authz.aop.AuthorizingAnnotationMethodInterceptor.assertAuthorized(AuthorizingAnnotationMethodInterceptor.java:84) [na:na]   at org.apache.shiro.authz.aop.AuthorizingAnnotationMethodInterceptor.invoke(AuthorizingAnnotationMethodInterceptor.java:67) [na:na]   at org.apache.shiro.guice.aop.AopAllianceMethodInterceptorAdapter.invoke(AopAllianceMethodInterceptorAdapter.java:36) [na:na]   at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) [na:1.8.0_40]   at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) [na:1.8.0_40]   at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [na:1.8.0_40]   at java.lang.reflect.Method.invoke(Method.java:497) [na:1.8.0_40]   at com.softwarementors.extjs.djn.router.dispatcher.DispatcherBase.invokeJavaMethod(DispatcherBase.java:142) [org.sonatype.nexus.plugins.nexus-extdirect-plugin:3.0.0.SNAPSHOT]   at com.softwarementors.extjs.djn.router.dispatcher.DispatcherBase.invokeMethod(DispatcherBase.java:133) [org.sonatype.nexus.plugins.nexus-extdirect-plugin:3.0.0.SNAPSHOT]   at org.sonatype.nexus.extdirect.internal.ExtDirectServlet$3.invokeMethod(ExtDirectServlet.java:201) [org.sonatype.nexus.plugins.nexus-extdirect-plugin:3.0.0.SNAPSHOT]   at com.softwarementors.extjs.djn.router.dispatcher.DispatcherBase.dispatch(DispatcherBase.java:63) [org.sonatype.nexus.plugins.nexus-extdirect-plugin:3.0.0.SNAPSHOT]   at com.softwarementors.extjs.djn.router.processor.standard.StandardRequestProcessorBase.dispatchStandardMethod(StandardRequestProcessorBase.java:73) [org.sonatype.nexus.plugins.nexus-extdirect-plugin:3.0.0.SNAPSHOT]   at com.softwarementors.extjs.djn.router.processor.standard.json.JsonRequestProcessor.processIndividualRequest(JsonRequestProcessor.java:502) [org.sonatype.nexus.plugins.nexus-extdirect-plugin:3.0.0.SNAPSHOT]   at com.softwarementors.extjs.djn.router.processor.standard.json.DefaultJsonRequestProcessorThread.processRequest(DefaultJsonRequestProcessorThread.java:72) [org.sonatype.nexus.plugins.nexus-extdirect-plugin:3.0.0.SNAPSHOT]   at com.softwarementors.extjs.djn.servlet.ssm.SsmJsonRequestProcessorThread.processRequest(SsmJsonRequestProcessorThread.java:43) [org.sonatype.nexus.plugins.nexus-extdirect-plugin:3.0.0.SNAPSHOT]   at org.sonatype.nexus.extdirect.internal.ExtDirectJsonRequestProcessorThread.access$1(ExtDirectJsonRequestProcessorThread.java:1) [org.sonatype.nexus.plugins.nexus-extdirect-plugin:3.0.0.SNAPSHOT]   at org.sonatype.nexus.extdirect.internal.ExtDirectJsonRequestProcessorThread$1.call(ExtDirectJsonRequestProcessorThread.java:59) [org.sonatype.nexus.plugins.nexus-extdirect-plugin:3.0.0.SNAPSHOT]   at org.sonatype.nexus.extdirect.internal.ExtDirectJsonRequestProcessorThread$1.call(ExtDirectJsonRequestProcessorThread.java:1) [org.sonatype.nexus.plugins.nexus-extdirect-plugin:3.0.0.SNAPSHOT]   at com.google.inject.servlet.GuiceFilter$Context.call(GuiceFilter.java:203) [com.google.inject:4.0.0]   at com.google.inject.servlet.ServletScopes$3.call(ServletScopes.java:232) [com.google.inject:4.0.0]   at org.sonatype.nexus.extdirect.internal.ExtDirectJsonRequestProcessorThread.processRequest(ExtDirectJsonRequestProcessorThread.java:73) [org.sonatype.nexus.plugins.nexus-extdirect-plugin:3.0.0.SNAPSHOT]   at com.softwarementors.extjs.djn.router.processor.standard.json.DefaultJsonRequestProcessorThread.call(DefaultJsonRequestProcessorThread.java:56) [org.sonatype.nexus.plugins.nexus-extdirect-plugin:3.0.0.SNAPSHOT]   at com.softwarementors.extjs.djn.router.processor.standard.json.DefaultJsonRequestProcessorThread.call(DefaultJsonRequestProcessorThread.java:30) [org.sonatype.nexus.plugins.nexus-extdirect-plugin:3.0.0.SNAPSHOT]   at java.util.concurrent.FutureTask.run(FutureTask.java:266) [na:1.8.0_40]   at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [na:1.8.0_40]   at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [na:1.8.0_40]   at java.lang.Thread.run(Thread.java:745) [na:1.8.0_40]  Caused by: org.apache.shiro.authz.AuthorizationException: Not authorized to invoke method: public java.util.List org.sonatype.nexus.coreui.PrivilegeComponent.read()   at org.apache.shiro.authz.aop.AuthorizingAnnotationMethodInterceptor.assertAuthorized(AuthorizingAnnotationMethodInterceptor.java:90) [na:na]   ... 26 common frames omitted  {quote}"""
"NEXUS-9217","Bug","NuGet|Repository",0.5,"Deleting an NuGet asset then repushing nupkg errors","""Just noticed that if I delete a nuget asset then repush the nupkg to get the asset back it gives me the below error.  If I delete the repo and push there is no error nor is there an error the first time, so I assume this Nexus and not the package.    In the offchance this is intentional/expected behavior, I wanted to note I found the error strange.  It reads like it's missing a download count however that doesn't make any sense to me since those kinds of attributes would seem to always be read or never (not the second time and fail).    I did not check older NX3 or NX2 at this time.  I was on MacOSX using curl to push, an unlikely use case however I did that both times (the first successful and the second errorful).  I also did not check Windows at this time.    {quote}  2015-09-22 17:48:03,931-0400 ERROR [qtp658827638-557] admin com.sonatype.nexus.repository.nuget.internal.NugetPushHandler - Unknown error  java.lang.IllegalStateException: Missing: {attributes::nuget} version_download_count   at com.google.common.base.Preconditions.checkState(Preconditions.java:173) [com.google.guava:18.0.0]   at org.sonatype.nexus.common.collect.AttributesMap.require(AttributesMap.java:190) [org.sonatype.nexus.common:3.0.0.SNAPSHOT]   at org.sonatype.nexus.common.collect.AttributesMap.require(AttributesMap.java:208) [org.sonatype.nexus.common:3.0.0.SNAPSHOT]   at org.sonatype.nexus.common.collect.AttributesMap.require(AttributesMap.java:217) [org.sonatype.nexus.common:3.0.0.SNAPSHOT]   at com.sonatype.nexus.repository.nuget.internal.NugetGalleryFacetImpl.maintainAggregateInfo(NugetGalleryFacetImpl.java:521) [na:na]   at com.sonatype.nexus.repository.nuget.internal.NugetGalleryFacetImpl.maintainAggregateInfo(NugetGalleryFacetImpl.java:502) [na:na]   at org.sonatype.nexus.transaction.TransactionalWrapper.proceedWithTransaction(TransactionalWrapper.java:54) [org.sonatype.nexus.transaction:3.0.0.SNAPSHOT]   at org.sonatype.nexus.transaction.TransactionInterceptor.invoke(TransactionInterceptor.java:45) [org.sonatype.nexus.transaction:3.0.0.SNAPSHOT]   at com.sonatype.nexus.repository.nuget.internal.NugetGalleryFacetImpl.put(NugetGalleryFacetImpl.java:334) [na:na]   at org.sonatype.nexus.common.stateguard.MethodInvocationAction.run(MethodInvocationAction.java:39) [org.sonatype.nexus.common:3.0.0.SNAPSHOT]   at org.sonatype.nexus.common.stateguard.StateGuard$GuardImpl.run(StateGuard.java:267) [org.sonatype.nexus.common:3.0.0.SNAPSHOT]   at org.sonatype.nexus.common.stateguard.GuardedInterceptor.invoke(GuardedInterceptor.java:53) [org.sonatype.nexus.common:3.0.0.SNAPSHOT]   at com.sonatype.nexus.repository.nuget.internal.NugetPushHandler.storePayload(NugetPushHandler.java:76) [na:na]   at com.sonatype.nexus.repository.nuget.internal.NugetPushHandler.push(NugetPushHandler.java:63) [na:na]   at com.sonatype.nexus.repository.nuget.internal.NugetPushHandler.handle(NugetPushHandler.java:45) [na:na]   at org.sonatype.nexus.repository.view.Context.proceed(Context.java:79) [org.sonatype.nexus.repository:3.0.0.SNAPSHOT]   at org.sonatype.nexus.repository.storage.UnitOfWorkHandler.handle(UnitOfWorkHandler.java:39) [org.sonatype.nexus.repository:3.0.0.SNAPSHOT]   at org.sonatype.nexus.repository.view.Context.proceed(Context.java:79) [org.sonatype.nexus.repository:3.0.0.SNAPSHOT]   at org.sonatype.nexus.repository.view.handlers.ExceptionHandler.handle(ExceptionHandler.java:41) [org.sonatype.nexus.repository:3.0.0.SNAPSHOT]   at org.sonatype.nexus.repository.view.Context.proceed(Context.java:79) [org.sonatype.nexus.repository:3.0.0.SNAPSHOT]   at org.sonatype.nexus.repository.security.SecurityHandler.handle(SecurityHandler.java:45) [org.sonatype.nexus.repository:3.0.0.SNAPSHOT]   at org.sonatype.nexus.repository.view.Context.proceed(Context.java:79) [org.sonatype.nexus.repository:3.0.0.SNAPSHOT]   at org.sonatype.nexus.repository.view.handlers.TimingHandler.handle(TimingHandler.java:46) [org.sonatype.nexus.repository:3.0.0.SNAPSHOT]   at org.sonatype.nexus.repository.view.Context.proceed(Context.java:79) [org.sonatype.nexus.repository:3.0.0.SNAPSHOT]   at org.sonatype.nexus.repository.view.Context.start(Context.java:102) [org.sonatype.nexus.repository:3.0.0.SNAPSHOT]   at org.sonatype.nexus.repository.view.Router.dispatch(Router.java:58) [org.sonatype.nexus.repository:3.0.0.SNAPSHOT]   at org.sonatype.nexus.repository.view.ConfigurableViewFacet.dispatch(ConfigurableViewFacet.java:43) [org.sonatype.nexus.repository:3.0.0.SNAPSHOT]   at org.sonatype.nexus.repository.httpbridge.internal.ViewServlet.dispatchAndSend(ViewServlet.java:198) [org.sonatype.nexus.plugins.nexus-repository-httpbridge:3.0.0.SNAPSHOT]   at org.sonatype.nexus.repository.httpbridge.internal.ViewServlet.doService(ViewServlet.java:160) [org.sonatype.nexus.plugins.nexus-repository-httpbridge:3.0.0.SNAPSHOT]   at org.sonatype.nexus.repository.httpbridge.internal.ViewServlet.service(ViewServlet.java:117) [org.sonatype.nexus.plugins.nexus-repository-httpbridge:3.0.0.SNAPSHOT]   at javax.servlet.http.HttpServlet.service(HttpServlet.java:790) [javax.servlet-api:3.1.0]   at com.google.inject.servlet.ServletDefinition.doServiceImpl(ServletDefinition.java:287) [com.google.inject:4.0.0]   at com.google.inject.servlet.ServletDefinition.doService(ServletDefinition.java:277) [com.google.inject:4.0.0]   at com.google.inject.servlet.ServletDefinition.service(ServletDefinition.java:182) [com.google.inject:4.0.0]   at com.google.inject.servlet.DynamicServletPipeline.service(DynamicServletPipeline.java:70) [com.google.inject:4.0.0]   at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:85) [com.google.inject:4.0.0]   at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:112) [org.apache.shiro.web:1.2.4]   at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:82) [com.google.inject:4.0.0]   at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:112) [org.apache.shiro.web:1.2.4]   at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:82) [com.google.inject:4.0.0]   at org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilterChain.java:61) [org.apache.shiro.web:1.2.4]   at org.apache.shiro.web.servlet.AdviceFilter.executeChain(AdviceFilter.java:108) [org.apache.shiro.web:1.2.4]   at org.apache.shiro.web.servlet.AdviceFilter.doFilterInternal(AdviceFilter.java:137) [org.apache.shiro.web:1.2.4]   at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:125) [org.apache.shiro.web:1.2.4]   at org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilterChain.java:66) [org.apache.shiro.web:1.2.4]   at org.apache.shiro.web.servlet.AdviceFilter.executeChain(AdviceFilter.java:108) [org.apache.shiro.web:1.2.4]   at org.apache.shiro.web.servlet.AdviceFilter.doFilterInternal(AdviceFilter.java:137) [org.apache.shiro.web:1.2.4]   at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:125) [org.apache.shiro.web:1.2.4]   at org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilterChain.java:66) [org.apache.shiro.web:1.2.4]   at org.apache.shiro.web.servlet.AdviceFilter.executeChain(AdviceFilter.java:108) [org.apache.shiro.web:1.2.4]   at org.apache.shiro.web.servlet.AdviceFilter.doFilterInternal(AdviceFilter.java:137) [org.apache.shiro.web:1.2.4]   at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:125) [org.apache.shiro.web:1.2.4]   at org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilterChain.java:66) [org.apache.shiro.web:1.2.4]   at org.apache.shiro.web.servlet.AbstractShiroFilter.executeChain(AbstractShiroFilter.java:449) [org.apache.shiro.web:1.2.4]   at org.sonatype.nexus.security.SecurityFilter.executeChain(SecurityFilter.java:85) [org.sonatype.nexus.security:3.0.0.SNAPSHOT]   at org.apache.shiro.web.servlet.AbstractShiroFilter$1.call(AbstractShiroFilter.java:365) [org.apache.shiro.web:1.2.4]   at org.apache.shiro.subject.support.SubjectCallable.doCall(SubjectCallable.java:90) [org.apache.shiro.core:1.2.4]   at org.apache.shiro.subject.support.SubjectCallable.call(SubjectCallable.java:83) [org.apache.shiro.core:1.2.4]   at org.apache.shiro.subject.support.DelegatingSubject.execute(DelegatingSubject.java:383) [org.apache.shiro.core:1.2.4]   at org.apache.shiro.web.servlet.AbstractShiroFilter.doFilterInternal(AbstractShiroFilter.java:362) [org.apache.shiro.web:1.2.4]   at org.sonatype.nexus.security.SecurityFilter.doFilterInternal(SecurityFilter.java:101) [org.sonatype.nexus.security:3.0.0.SNAPSHOT]   at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:125) [org.apache.shiro.web:1.2.4]   at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:82) [com.google.inject:4.0.0]   at com.codahale.metrics.servlet.AbstractInstrumentedFilter.doFilter(AbstractInstrumentedFilter.java:97) [com.codahale.metrics.servlet:3.0.2]   at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:82) [com.google.inject:4.0.0]   at org.sonatype.nexus.internal.web.ErrorPageFilter.doFilter(ErrorPageFilter.java:63) [org.sonatype.nexus.core:3.0.0.SNAPSHOT]   at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:82) [com.google.inject:4.0.0]   at org.sonatype.nexus.internal.web.EnvironmentFilter.doFilter(EnvironmentFilter.java:101) [org.sonatype.nexus.core:3.0.0.SNAPSHOT]   at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:82) [com.google.inject:4.0.0]   at com.google.inject.servlet.DynamicFilterPipeline.dispatch(DynamicFilterPipeline.java:104) [com.google.inject:4.0.0]   at com.google.inject.servlet.GuiceFilter$1.call(GuiceFilter.java:133) [com.google.inject:4.0.0]   at com.google.inject.servlet.GuiceFilter$1.call(GuiceFilter.java:130) [com.google.inject:4.0.0]   at com.google.inject.servlet.GuiceFilter$Context.call(GuiceFilter.java:203) [com.google.inject:4.0.0]   at com.google.inject.servlet.GuiceFilter.doFilter(GuiceFilter.java:130) [com.google.inject:4.0.0]   at org.sonatype.nexus.bootstrap.osgi.DelegatingFilter.doFilter(DelegatingFilter.java:73) [org.sonatype.nexus.bootstrap:3.0.0.SNAPSHOT]   at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1669) [org.eclipse.jetty.servlet:9.3.3.v20150827]   at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:581) [org.eclipse.jetty.servlet:9.3.3.v20150827]   at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143) [org.eclipse.jetty.server:9.3.3.v20150827]   at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:548) [org.eclipse.jetty.security:9.3.3.v20150827]   at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:226) [org.eclipse.jetty.server:9.3.3.v20150827]   at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1156) [org.eclipse.jetty.server:9.3.3.v20150827]   at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:511) [org.eclipse.jetty.servlet:9.3.3.v20150827]   at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:185) [org.eclipse.jetty.server:9.3.3.v20150827]   at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1088) [org.eclipse.jetty.server:9.3.3.v20150827]   at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141) [org.eclipse.jetty.server:9.3.3.v20150827]   at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:119) [org.eclipse.jetty.server:9.3.3.v20150827]   at com.codahale.metrics.jetty9.InstrumentedHandler.handle(InstrumentedHandler.java:175) [com.codahale.metrics.jetty9:3.0.2]   at org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:109) [org.eclipse.jetty.server:9.3.3.v20150827]   at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:119) [org.eclipse.jetty.server:9.3.3.v20150827]   at org.eclipse.jetty.server.Server.handle(Server.java:517) [org.eclipse.jetty.server:9.3.3.v20150827]   at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:306) [org.eclipse.jetty.server:9.3.3.v20150827]   at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:242) [org.eclipse.jetty.server:9.3.3.v20150827]   at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:245) [org.eclipse.jetty.io:9.3.3.v20150827]   at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:95) [org.eclipse.jetty.io:9.3.3.v20150827]   at org.eclipse.jetty.io.SelectChannelEndPoint$2.run(SelectChannelEndPoint.java:75) [org.eclipse.jetty.io:9.3.3.v20150827]   at org.eclipse.jetty.util.thread.strategy.ExecuteProduceConsume.produceAndRun(ExecuteProduceConsume.java:213) [org.eclipse.jetty.util:9.3.3.v20150827]   at org.eclipse.jetty.util.thread.strategy.ExecuteProduceConsume.run(ExecuteProduceConsume.java:147) [org.eclipse.jetty.util:9.3.3.v20150827]   at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:654) [org.eclipse.jetty.util:9.3.3.v20150827]   at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:572) [org.eclipse.jetty.util:9.3.3.v20150827]   at java.lang.Thread.run(Thread.java:745) [na:1.8.0_40]  {quote}"""
"NEXUS-9215","Bug","Browse Storage|Search|UI",2,"Extend search/browse results to show levels more cleanly","""While reviewing NPM, I noticed looking at browse/search results all the json details were smushed together making IMO a tough reading experience. In fact, I believe it's much easier to read the json file itself (the contents are the same but the whitespace/linebreaks are not stripped).  [Alin Dreghiciu|https://issues.sonatype.org/secure/ViewProfile.jspa?name=alin] noted that 'we implemented """"nice"""" display of attributes only for 1 level' and if extended it would show nicer. He also noted that some docker attributes have the same issue. This is an improvement ticket in that regard. I included a screen of current npm as well as a screen of current NuGet (which looks much better; though not a fair comparison provides a vision of something to strive towards).  NPM browse/search is new to NX3 and to Fabtastic so no back checking was done. I do not recall seeing the docker portion myself (implemented in m5, new to NX3), so did not attach screens/cases however if I run across it, I will try and remember to do so."""
"NEXUS-9223","Task","Documentation",1,"Remove doc references to sonatype-work folder","""It is now internal in the Nexus folder data .. so all text about separation and such should also be updated"""
"NEXUS-9221","Bug","NPM",1,"Strict Content Validation prevents npm install","""Running https://docs.sonatype.com/display/Nexus/NPM+Testing proxy test against NX3, I found that I was getting the below errors (500s) when installing insight-brain.  After reading them, I tried again with strict content validation off (proxy) and everything worked.  This is reproducable by following the guide steps after clearing npm cache (if you don't clear npm cache, ala npm cache clean,  after successful install, it continues to be successful).  One deviance from the guide is I have not checked groups yet, so my configuration (.npmrc) was to proxy.  I do not think this matters but if I remember and this is not addressed, I will check once I get to groups.    I have not seen this elsewhere in NX3 and npm is new to Fabtastic so I did no NX3 back checking.  This does not affect NX2 (testguide passes with file checking on).    NOTE: This happens with 2 different files.  Both retry 3 times before giving up and the install fails.    {quote}  npm http 500 http://localhost:8081/repository/npmproxy/marked  npm ERR! registry error parsing json  npm info retry will retry, error on last attempt: SyntaxError: Unexpected token <  npm info retry <html>  npm info retry <head>  npm info retry   <title>500 - Sonatype Nexus</title>  npm info retry   <meta http-equiv=""""Content-Type"""" content=""""text/html; charset=UTF-8""""/>  npm info retry   npm info retry   <link rel=""""icon"""" type=""""image/png"""" href=""""http://localhost:8081/favicon.png$?3.0.0-SNAPSHOT"""">  npm info retry   <!--[if IE]>  npm info retry   <link rel=""""SHORTCUT ICON"""" href=""""http://localhost:8081/favicon.ico?3.0.0-SNAPSHOT""""/>  npm info retry   <![endif]-->  npm info retry   npm info retry   <link rel=""""stylesheet"""" type=""""text/css"""" href=""""http://localhost:8081/static/css/nexus-content.css?3.0.0-SNAPSHOT""""/>  npm info retry </head>  npm info retry <body>  npm info retry <div class=""""nexus-header"""">  npm info retry   <a href=""""http://localhost:8081"""">  npm info retry     <img src=""""http://localhost:8081/static/images/nexus.png?3.0.0-SNAPSHOT""""/>  npm info retry     <span class=""""name"""">Sonatype Nexus</span>  npm info retry   </a>  npm info retry   <span class=""""version"""">OSS 3.0.0-SNAPSHOT</span>  npm info retry </div>  npm info retry   npm info retry <div class=""""nexus-body"""">  npm info retry   <div class=""""content-header"""">  npm info retry     <img src=""""http://localhost:8081/static/rapture/resources/icons/x32/exclamation.png?3.0.0-SNAPSHOT""""/>  npm info retry     <span class=""""title"""">Error 500</span>  npm info retry     <span class=""""description"""">Internal Server Error</span>  npm info retry   </div>  npm info retry   <div class=""""content-body"""">  npm info retry     <div class=""""content-section"""">  npm info retry       javax.servlet.ServletException: org.sonatype.nexus.repository.InvalidContentException: Detected content type [text/html], but expected [application/json]: marked.json  npm info retry     </div>  npm info retry       </div>  npm info retry </div>  npm info retry </body>  npm info retry </html>  npm info retry   npm info retry   {quote}    & (2 occurances)    {quote}  npm http 500 http://localhost:8081/repository/npmproxy/jade  npm ERR! registry error parsing json  npm info retry will retry, error on last attempt: SyntaxError: Unexpected token <  npm info retry <html>  npm info retry <head>  npm info retry   <title>500 - Sonatype Nexus</title>  npm info retry   <meta http-equiv=""""Content-Type"""" content=""""text/html; charset=UTF-8""""/>  npm info retry   npm info retry   <link rel=""""icon"""" type=""""image/png"""" href=""""http://localhost:8081/favicon.png$?3.0.0-SNAPSHOT"""">  npm info retry   <!--[if IE]>  npm info retry   <link rel=""""SHORTCUT ICON"""" href=""""http://localhost:8081/favicon.ico?3.0.0-SNAPSHOT""""/>  npm info retry   <![endif]-->  npm info retry   npm info retry   <link rel=""""stylesheet"""" type=""""text/css"""" href=""""http://localhost:8081/static/css/nexus-content.css?3.0.0-SNAPSHOT""""/>  npm info retry </head>  npm info retry <body>  npm info retry <div class=""""nexus-header"""">  npm info retry   <a href=""""http://localhost:8081"""">  npm info retry     <img src=""""http://localhost:8081/static/images/nexus.png?3.0.0-SNAPSHOT""""/>  npm info retry     <span class=""""name"""">Sonatype Nexus</span>  npm info retry   </a>  npm info retry   <span class=""""version"""">OSS 3.0.0-SNAPSHOT</span>  npm info retry </div>  npm info retry   npm info retry <div class=""""nexus-body"""">  npm info retry   <div class=""""content-header"""">  npm info retry     <img src=""""http://localhost:8081/static/rapture/resources/icons/x32/exclamation.png?3.0.0-SNAPSHOT""""/>  npm info retry     <span class=""""title"""">Error 500</span>  npm info retry     <span class=""""description"""">Internal Server Error</span>  npm info retry   </div>  npm info retry   <div class=""""content-body"""">  npm info retry     <div class=""""content-section"""">  npm info retry       javax.servlet.ServletException: org.sonatype.nexus.repository.InvalidContentException: Detected content type [text/html], but expected [application/json]: jade.json  npm info retry     </div>  npm info retry       </div>  npm info retry </div>  npm info retry </body>  npm info retry </html>  npm info retry   npm info retry   {quote}    Errors from nexus.log  {quote}  2015-09-23 11:38:39,499-0400 WARN  [qtp1623599577-217] admin org.sonatype.nexus.repository.httpbridge.internal.ViewServlet - Service failure  org.sonatype.nexus.repository.InvalidContentException: Detected content type [text/html], but expected [application/json]: marked.json   at org.sonatype.nexus.repository.storage.DefaultContentValidator.determineContentType(DefaultContentValidator.java:95) [na:na]   at com.sonatype.nexus.repository.npm.internal.NpmContentValidator.determineContentType(NpmContentValidator.java:60) [na:na]   at org.sonatype.nexus.repository.storage.StorageTxImpl.determineContentType(StorageTxImpl.java:573) [na:na]   at org.sonatype.nexus.repository.storage.StorageTxImpl.createBlob(StorageTxImpl.java:478) [na:na]   at sun.reflect.GeneratedMethodAccessor263.invoke(Unknown Source) [na:na]   at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [na:1.8.0_40]   at java.lang.reflect.Method.invoke(Method.java:497) [na:1.8.0_40]   at org.sonatype.nexus.common.stateguard.SimpleMethodInvocation.proceed(SimpleMethodInvocation.java:53) [na:na]   at org.sonatype.nexus.common.stateguard.MethodInvocationAction.run(MethodInvocationAction.java:39) [na:na]   at org.sonatype.nexus.common.stateguard.StateGuard$GuardImpl.run(StateGuard.java:267) [na:na]   at org.sonatype.nexus.common.stateguard.GuardedInterceptor.invoke(GuardedInterceptor.java:53) [na:na]   at org.sonatype.nexus.common.stateguard.StateGuardAspect$1.invoke(StateGuardAspect.java:59) [na:na]   at com.sun.proxy.$Proxy160.createBlob(Unknown Source) [na:na]   at com.sonatype.nexus.repository.npm.internal.NpmFacetUtils.toBlob(NpmFacetUtils.java:128) [na:na]   at com.sonatype.nexus.repository.npm.internal.NpmFacetUtils.savePackageRoot(NpmFacetUtils.java:304) [na:na]   at com.sonatype.nexus.repository.npm.internal.NpmProxyFacetImpl.doPutPackageRoot(NpmProxyFacetImpl.java:182) [na:na]   at org.sonatype.nexus.transaction.TransactionalWrapper.proceedWithTransaction(TransactionalWrapper.java:54) [na:na]   at org.sonatype.nexus.transaction.TransactionInterceptor.invoke(TransactionInterceptor.java:45) [na:na]   at com.sonatype.nexus.repository.npm.internal.NpmProxyFacetImpl.putPackageRoot(NpmProxyFacetImpl.java:162) [na:na]   at com.sonatype.nexus.repository.npm.internal.NpmProxyFacetImpl.store(NpmProxyFacetImpl.java:84) [na:na]   at org.sonatype.nexus.repository.proxy.ProxyFacetSupport.get(ProxyFacetSupport.java:163) [na:na]   at org.sonatype.nexus.repository.proxy.ProxyHandler.handle(ProxyHandler.java:48) [na:na]   at org.sonatype.nexus.repository.view.Context.proceed(Context.java:79) [na:na]   at org.sonatype.nexus.repository.storage.UnitOfWorkHandler.handle(UnitOfWorkHandler.java:39) [na:na]   at org.sonatype.nexus.repository.view.Context.proceed(Context.java:79) [na:na]   at org.sonatype.nexus.repository.view.Context$proceed$0.call(Unknown Source) [na:na]   at com.sonatype.nexus.repository.npm.internal.NpmHandlers$_closure10.doCall(NpmHandlers.groovy:201) [na:na]   at sun.reflect.GeneratedMethodAccessor261.invoke(Unknown Source) [na:na]   at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [na:1.8.0_40]   at java.lang.reflect.Method.invoke(Method.java:497) [na:1.8.0_40]   at org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:93) [na:na]   at groovy.lang.MetaMethod.doMethodInvoke(MetaMethod.java:325) [na:na]   at org.codehaus.groovy.runtime.metaclass.ClosureMetaClass.invokeMethod(ClosureMetaClass.java:294) [na:na]   at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1019) [na:na]   at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1084) [na:na]   at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1019) [na:na]   at groovy.lang.Closure.call(Closure.java:426) [na:na]   at org.codehaus.groovy.runtime.ConvertedClosure.invokeCustom(ConvertedClosure.java:53) [na:na]   at org.codehaus.groovy.runtime.ConversionHandler.invoke(ConversionHandler.java:105) [na:na]   at com.sun.proxy.$Proxy159.handle(Unknown Source) [na:na]   at org.sonatype.nexus.repository.view.Context.proceed(Context.java:79) [na:na]   at org.sonatype.nexus.repository.view.handlers.ContentHeadersHandler.handle(ContentHeadersHandler.java:44) [na:na]   at org.sonatype.nexus.repository.view.Context.proceed(Context.java:79) [na:na]   at org.sonatype.nexus.repository.view.handlers.ConditionalRequestHandler.handle(ConditionalRequestHandler.java:72) [na:na]   at org.sonatype.nexus.repository.view.Context.proceed(Context.java:79) [na:na]   at org.sonatype.nexus.repository.partial.PartialFetchHandler.handle(PartialFetchHandler.java:58) [na:na]   at org.sonatype.nexus.repository.view.Context.proceed(Context.java:79) [na:na]   at org.sonatype.nexus.repository.negativecache.NegativeCacheHandler.handle(NegativeCacheHandler.java:50) [na:na]   at org.sonatype.nexus.repository.view.Context.proceed(Context.java:79) [na:na]   at org.sonatype.nexus.repository.view.Context$proceed$0.call(Unknown Source) [na:na]   at com.sonatype.nexus.repository.npm.internal.NpmHandlers$_closure1.doCall(NpmHandlers.groovy:90) [na:na]   at sun.reflect.GeneratedMethodAccessor258.invoke(Unknown Source) [na:na]   at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [na:1.8.0_40]   at java.lang.reflect.Method.invoke(Method.java:497) [na:1.8.0_40]   at org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:93) [na:na]   at groovy.lang.MetaMethod.doMethodInvoke(MetaMethod.java:325) [na:na]   at org.codehaus.groovy.runtime.metaclass.ClosureMetaClass.invokeMethod(ClosureMetaClass.java:294) [na:na]   at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1019) [na:na]   at groovy.lang.Closure.call(Closure.java:426) [na:na]   at org.codehaus.groovy.runtime.ConvertedClosure.invokeCustom(ConvertedClosure.java:53) [na:na]   at org.codehaus.groovy.runtime.ConversionHandler.invoke(ConversionHandler.java:105) [na:na]   at com.sun.proxy.$Proxy159.handle(Unknown Source) [na:na]   at org.sonatype.nexus.repository.view.Context.proceed(Context.java:79) [na:na]   at org.sonatype.nexus.repository.security.SecurityHandler.handle(SecurityHandler.java:45) [na:na]   at org.sonatype.nexus.repository.view.Context.proceed(Context.java:79) [na:na]   at org.sonatype.nexus.repository.view.handlers.TimingHandler.handle(TimingHandler.java:46) [na:na]   at org.sonatype.nexus.repository.view.Context.proceed(Context.java:79) [na:na]   at org.sonatype.nexus.repository.view.Context.start(Context.java:102) [na:na]   at org.sonatype.nexus.repository.view.Router.dispatch(Router.java:58) [na:na]   at org.sonatype.nexus.repository.view.ConfigurableViewFacet.dispatch(ConfigurableViewFacet.java:43) [na:na]   at org.sonatype.nexus.repository.httpbridge.internal.ViewServlet.dispatchAndSend(ViewServlet.java:198) [na:na]   at org.sonatype.nexus.repository.httpbridge.internal.ViewServlet.doService(ViewServlet.java:160) [na:na]   at org.sonatype.nexus.repository.httpbridge.internal.ViewServlet.service(ViewServlet.java:117) [na:na]   at javax.servlet.http.HttpServlet.service(HttpServlet.java:790) [javax.servlet-api:3.1.0]   at com.google.inject.servlet.ServletDefinition.doServiceImpl(ServletDefinition.java:287) [com.google.inject:4.0.0]   at com.google.inject.servlet.ServletDefinition.doService(ServletDefinition.java:277) [com.google.inject:4.0.0]   at com.google.inject.servlet.ServletDefinition.service(ServletDefinition.java:182) [com.google.inject:4.0.0]   at com.google.inject.servlet.DynamicServletPipeline.service(DynamicServletPipeline.java:70) [com.google.inject:4.0.0]   at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:85) [com.google.inject:4.0.0]   at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:112) [org.apache.shiro.web:1.2.4]   at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:82) [com.google.inject:4.0.0]   at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:112) [org.apache.shiro.web:1.2.4]   at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:82) [com.google.inject:4.0.0]   at org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilterChain.java:61) [org.apache.shiro.web:1.2.4]   at org.apache.shiro.web.servlet.AdviceFilter.executeChain(AdviceFilter.java:108) [org.apache.shiro.web:1.2.4]   at org.apache.shiro.web.servlet.AdviceFilter.doFilterInternal(AdviceFilter.java:137) [org.apache.shiro.web:1.2.4]   at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:125) [org.apache.shiro.web:1.2.4]   at org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilterChain.java:66) [org.apache.shiro.web:1.2.4]   at org.apache.shiro.web.servlet.AdviceFilter.executeChain(AdviceFilter.java:108) [org.apache.shiro.web:1.2.4]   at org.apache.shiro.web.servlet.AdviceFilter.doFilterInternal(AdviceFilter.java:137) [org.apache.shiro.web:1.2.4]   at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:125) [org.apache.shiro.web:1.2.4]   at org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilterChain.java:66) [org.apache.shiro.web:1.2.4]   at org.apache.shiro.web.servlet.AdviceFilter.executeChain(AdviceFilter.java:108) [org.apache.shiro.web:1.2.4]   at org.apache.shiro.web.servlet.AdviceFilter.doFilterInternal(AdviceFilter.java:137) [org.apache.shiro.web:1.2.4]   at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:125) [org.apache.shiro.web:1.2.4]   at org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilterChain.java:66) [org.apache.shiro.web:1.2.4]   at org.apache.shiro.web.servlet.AbstractShiroFilter.executeChain(AbstractShiroFilter.java:449) [org.apache.shiro.web:1.2.4]   at org.sonatype.nexus.security.SecurityFilter.executeChain(SecurityFilter.java:85) [org.sonatype.nexus.security:3.0.0.SNAPSHOT]   at org.apache.shiro.web.servlet.AbstractShiroFilter$1.call(AbstractShiroFilter.java:365) [org.apache.shiro.web:1.2.4]   at org.apache.shiro.subject.support.SubjectCallable.doCall(SubjectCallable.java:90) [org.apache.shiro.core:1.2.4]   at org.apache.shiro.subject.support.SubjectCallable.call(SubjectCallable.java:83) [org.apache.shiro.core:1.2.4]   at org.apache.shiro.subject.support.DelegatingSubject.execute(DelegatingSubject.java:383) [org.apache.shiro.core:1.2.4]   at org.apache.shiro.web.servlet.AbstractShiroFilter.doFilterInternal(AbstractShiroFilter.java:362) [org.apache.shiro.web:1.2.4]   at org.sonatype.nexus.security.SecurityFilter.doFilterInternal(SecurityFilter.java:101) [org.sonatype.nexus.security:3.0.0.SNAPSHOT]   at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:125) [org.apache.shiro.web:1.2.4]   at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:82) [com.google.inject:4.0.0]   at com.codahale.metrics.servlet.AbstractInstrumentedFilter.doFilter(AbstractInstrumentedFilter.java:97) [com.codahale.metrics.servlet:3.0.2]   at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:82) [com.google.inject:4.0.0]   at org.sonatype.nexus.internal.web.ErrorPageFilter.doFilter(ErrorPageFilter.java:63) [org.sonatype.nexus.core:3.0.0.SNAPSHOT]   at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:82) [com.google.inject:4.0.0]   at org.sonatype.nexus.internal.web.EnvironmentFilter.doFilter(EnvironmentFilter.java:101) [org.sonatype.nexus.core:3.0.0.SNAPSHOT]   at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:82) [com.google.inject:4.0.0]   at com.google.inject.servlet.DynamicFilterPipeline.dispatch(DynamicFilterPipeline.java:104) [com.google.inject:4.0.0]   at com.google.inject.servlet.GuiceFilter$1.call(GuiceFilter.java:133) [com.google.inject:4.0.0]   at com.google.inject.servlet.GuiceFilter$1.call(GuiceFilter.java:130) [com.google.inject:4.0.0]   at com.google.inject.servlet.GuiceFilter$Context.call(GuiceFilter.java:203) [com.google.inject:4.0.0]   at com.google.inject.servlet.GuiceFilter.doFilter(GuiceFilter.java:130) [com.google.inject:4.0.0]   at org.sonatype.nexus.bootstrap.osgi.DelegatingFilter.doFilter(DelegatingFilter.java:73) [org.sonatype.nexus.bootstrap:3.0.0.SNAPSHOT]   at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1669) [org.eclipse.jetty.servlet:9.3.3.v20150827]   at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:581) [org.eclipse.jetty.servlet:9.3.3.v20150827]   at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143) [org.eclipse.jetty.server:9.3.3.v20150827]   at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:548) [org.eclipse.jetty.security:9.3.3.v20150827]   at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:226) [org.eclipse.jetty.server:9.3.3.v20150827]   at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1156) [org.eclipse.jetty.server:9.3.3.v20150827]   at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:511) [org.eclipse.jetty.servlet:9.3.3.v20150827]   at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:185) [org.eclipse.jetty.server:9.3.3.v20150827]   at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1088) [org.eclipse.jetty.server:9.3.3.v20150827]   at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141) [org.eclipse.jetty.server:9.3.3.v20150827]   at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:119) [org.eclipse.jetty.server:9.3.3.v20150827]   at com.codahale.metrics.jetty9.InstrumentedHandler.handle(InstrumentedHandler.java:175) [com.codahale.metrics.jetty9:3.0.2]   at org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:109) [org.eclipse.jetty.server:9.3.3.v20150827]   at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:119) [org.eclipse.jetty.server:9.3.3.v20150827]   at org.eclipse.jetty.server.Server.handle(Server.java:517) [org.eclipse.jetty.server:9.3.3.v20150827]   at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:306) [org.eclipse.jetty.server:9.3.3.v20150827]   at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:242) [org.eclipse.jetty.server:9.3.3.v20150827]   at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:245) [org.eclipse.jetty.io:9.3.3.v20150827]   at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:95) [org.eclipse.jetty.io:9.3.3.v20150827]   at org.eclipse.jetty.io.SelectChannelEndPoint$2.run(SelectChannelEndPoint.java:75) [org.eclipse.jetty.io:9.3.3.v20150827]   at org.eclipse.jetty.util.thread.strategy.ExecuteProduceConsume.produceAndRun(ExecuteProduceConsume.java:213) [org.eclipse.jetty.util:9.3.3.v20150827]   at org.eclipse.jetty.util.thread.strategy.ExecuteProduceConsume.run(ExecuteProduceConsume.java:147) [org.eclipse.jetty.util:9.3.3.v20150827]   at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:654) [org.eclipse.jetty.util:9.3.3.v20150827]   at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:572) [org.eclipse.jetty.util:9.3.3.v20150827]   at java.lang.Thread.run(Thread.java:745) [na:1.8.0_40]  2015-09-23 11:38:40,002-0400 INFO  [qtp1623599577-228] admin com.sonatype.nexus.repository.npm.internal.NpmProxyFacetImpl - Storing package: jade  2015-09-23 11:38:40,023-0400 WARN  [qtp1623599577-228] admin org.sonatype.nexus.repository.httpbridge.internal.ViewServlet - Service failure  org.sonatype.nexus.repository.InvalidContentException: Detected content type [text/html], but expected [application/json]: jade.json   at org.sonatype.nexus.repository.storage.DefaultContentValidator.determineContentType(DefaultContentValidator.java:95) [na:na]   at com.sonatype.nexus.repository.npm.internal.NpmContentValidator.determineContentType(NpmContentValidator.java:60) [na:na]   at org.sonatype.nexus.repository.storage.StorageTxImpl.determineContentType(StorageTxImpl.java:573) [na:na]   at org.sonatype.nexus.repository.storage.StorageTxImpl.createBlob(StorageTxImpl.java:478) [na:na]   at sun.reflect.GeneratedMethodAccessor263.invoke(Unknown Source) [na:na]   at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [na:1.8.0_40]   at java.lang.reflect.Method.invoke(Method.java:497) [na:1.8.0_40]   at org.sonatype.nexus.common.stateguard.SimpleMethodInvocation.proceed(SimpleMethodInvocation.java:53) [na:na]   at org.sonatype.nexus.common.stateguard.MethodInvocationAction.run(MethodInvocationAction.java:39) [na:na]   at org.sonatype.nexus.common.stateguard.StateGuard$GuardImpl.run(StateGuard.java:267) [na:na]   at org.sonatype.nexus.common.stateguard.GuardedInterceptor.invoke(GuardedInterceptor.java:53) [na:na]   at org.sonatype.nexus.common.stateguard.StateGuardAspect$1.invoke(StateGuardAspect.java:59) [na:na]   at com.sun.proxy.$Proxy160.createBlob(Unknown Source) [na:na]   at com.sonatype.nexus.repository.npm.internal.NpmFacetUtils.toBlob(NpmFacetUtils.java:128) [na:na]   at com.sonatype.nexus.repository.npm.internal.NpmFacetUtils.savePackageRoot(NpmFacetUtils.java:304) [na:na]   at com.sonatype.nexus.repository.npm.internal.NpmProxyFacetImpl.doPutPackageRoot(NpmProxyFacetImpl.java:182) [na:na]   at org.sonatype.nexus.transaction.TransactionalWrapper.proceedWithTransaction(TransactionalWrapper.java:54) [na:na]   at org.sonatype.nexus.transaction.TransactionInterceptor.invoke(TransactionInterceptor.java:45) [na:na]   at com.sonatype.nexus.repository.npm.internal.NpmProxyFacetImpl.putPackageRoot(NpmProxyFacetImpl.java:162) [na:na]   at com.sonatype.nexus.repository.npm.internal.NpmProxyFacetImpl.store(NpmProxyFacetImpl.java:84) [na:na]   at org.sonatype.nexus.repository.proxy.ProxyFacetSupport.get(ProxyFacetSupport.java:163) [na:na]   at org.sonatype.nexus.repository.proxy.ProxyHandler.handle(ProxyHandler.java:48) [na:na]   at org.sonatype.nexus.repository.view.Context.proceed(Context.java:79) [na:na]   at org.sonatype.nexus.repository.storage.UnitOfWorkHandler.handle(UnitOfWorkHandler.java:39) [na:na]   at org.sonatype.nexus.repository.view.Context.proceed(Context.java:79) [na:na]   at org.sonatype.nexus.repository.view.Context$proceed$0.call(Unknown Source) [na:na]   at com.sonatype.nexus.repository.npm.internal.NpmHandlers$_closure10.doCall(NpmHandlers.groovy:201) [na:na]   at sun.reflect.GeneratedMethodAccessor261.invoke(Unknown Source) [na:na]   at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [na:1.8.0_40]   at java.lang.reflect.Method.invoke(Method.java:497) [na:1.8.0_40]   at org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:93) [na:na]   at groovy.lang.MetaMethod.doMethodInvoke(MetaMethod.java:325) [na:na]   at org.codehaus.groovy.runtime.metaclass.ClosureMetaClass.invokeMethod(ClosureMetaClass.java:294) [na:na]   at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1019) [na:na]   at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1084) [na:na]   at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1019) [na:na]   at groovy.lang.Closure.call(Closure.java:426) [na:na]   at org.codehaus.groovy.runtime.ConvertedClosure.invokeCustom(ConvertedClosure.java:53) [na:na]   at org.codehaus.groovy.runtime.ConversionHandler.invoke(ConversionHandler.java:105) [na:na]   at com.sun.proxy.$Proxy159.handle(Unknown Source) [na:na]   at org.sonatype.nexus.repository.view.Context.proceed(Context.java:79) [na:na]   at org.sonatype.nexus.repository.view.handlers.ContentHeadersHandler.handle(ContentHeadersHandler.java:44) [na:na]   at org.sonatype.nexus.repository.view.Context.proceed(Context.java:79) [na:na]   at org.sonatype.nexus.repository.view.handlers.ConditionalRequestHandler.handle(ConditionalRequestHandler.java:72) [na:na]   at org.sonatype.nexus.repository.view.Context.proceed(Context.java:79) [na:na]   at org.sonatype.nexus.repository.partial.PartialFetchHandler.handle(PartialFetchHandler.java:58) [na:na]   at org.sonatype.nexus.repository.view.Context.proceed(Context.java:79) [na:na]   at org.sonatype.nexus.repository.negativecache.NegativeCacheHandler.handle(NegativeCacheHandler.java:50) [na:na]   at org.sonatype.nexus.repository.view.Context.proceed(Context.java:79) [na:na]   at org.sonatype.nexus.repository.view.Context$proceed$0.call(Unknown Source) [na:na]   at com.sonatype.nexus.repository.npm.internal.NpmHandlers$_closure1.doCall(NpmHandlers.groovy:90) [na:na]   at sun.reflect.GeneratedMethodAccessor258.invoke(Unknown Source) [na:na]   at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [na:1.8.0_40]   at java.lang.reflect.Method.invoke(Method.java:497) [na:1.8.0_40]   at org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:93) [na:na]   at groovy.lang.MetaMethod.doMethodInvoke(MetaMethod.java:325) [na:na]   at org.codehaus.groovy.runtime.metaclass.ClosureMetaClass.invokeMethod(ClosureMetaClass.java:294) [na:na]   at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1019) [na:na]   at groovy.lang.Closure.call(Closure.java:426) [na:na]   at org.codehaus.groovy.runtime.ConvertedClosure.invokeCustom(ConvertedClosure.java:53) [na:na]   at org.codehaus.groovy.runtime.ConversionHandler.invoke(ConversionHandler.java:105) [na:na]   at com.sun.proxy.$Proxy159.handle(Unknown Source) [na:na]   at org.sonatype.nexus.repository.view.Context.proceed(Context.java:79) [na:na]   at org.sonatype.nexus.repository.security.SecurityHandler.handle(SecurityHandler.java:45) [na:na]   at org.sonatype.nexus.repository.view.Context.proceed(Context.java:79) [na:na]   at org.sonatype.nexus.repository.view.handlers.TimingHandler.handle(TimingHandler.java:46) [na:na]   at org.sonatype.nexus.repository.view.Context.proceed(Context.java:79) [na:na]   at org.sonatype.nexus.repository.view.Context.start(Context.java:102) [na:na]   at org.sonatype.nexus.repository.view.Router.dispatch(Router.java:58) [na:na]   at org.sonatype.nexus.repository.view.ConfigurableViewFacet.dispatch(ConfigurableViewFacet.java:43) [na:na]   at org.sonatype.nexus.repository.httpbridge.internal.ViewServlet.dispatchAndSend(ViewServlet.java:198) [na:na]   at org.sonatype.nexus.repository.httpbridge.internal.ViewServlet.doService(ViewServlet.java:160) [na:na]   at org.sonatype.nexus.repository.httpbridge.internal.ViewServlet.service(ViewServlet.java:117) [na:na]   at javax.servlet.http.HttpServlet.service(HttpServlet.java:790) [javax.servlet-api:3.1.0]   at com.google.inject.servlet.ServletDefinition.doServiceImpl(ServletDefinition.java:287) [com.google.inject:4.0.0]   at com.google.inject.servlet.ServletDefinition.doService(ServletDefinition.java:277) [com.google.inject:4.0.0]   at com.google.inject.servlet.ServletDefinition.service(ServletDefinition.java:182) [com.google.inject:4.0.0]   at com.google.inject.servlet.DynamicServletPipeline.service(DynamicServletPipeline.java:70) [com.google.inject:4.0.0]   at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:85) [com.google.inject:4.0.0]   at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:112) [org.apache.shiro.web:1.2.4]   at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:82) [com.google.inject:4.0.0]   at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:112) [org.apache.shiro.web:1.2.4]   at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:82) [com.google.inject:4.0.0]   at org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilterChain.java:61) [org.apache.shiro.web:1.2.4]   at org.apache.shiro.web.servlet.AdviceFilter.executeChain(AdviceFilter.java:108) [org.apache.shiro.web:1.2.4]   at org.apache.shiro.web.servlet.AdviceFilter.doFilterInternal(AdviceFilter.java:137) [org.apache.shiro.web:1.2.4]   at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:125) [org.apache.shiro.web:1.2.4]   at org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilterChain.java:66) [org.apache.shiro.web:1.2.4]   at org.apache.shiro.web.servlet.AdviceFilter.executeChain(AdviceFilter.java:108) [org.apache.shiro.web:1.2.4]   at org.apache.shiro.web.servlet.AdviceFilter.doFilterInternal(AdviceFilter.java:137) [org.apache.shiro.web:1.2.4]   at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:125) [org.apache.shiro.web:1.2.4]   at org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilterChain.java:66) [org.apache.shiro.web:1.2.4]   at org.apache.shiro.web.servlet.AdviceFilter.executeChain(AdviceFilter.java:108) [org.apache.shiro.web:1.2.4]   at org.apache.shiro.web.servlet.AdviceFilter.doFilterInternal(AdviceFilter.java:137) [org.apache.shiro.web:1.2.4]   at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:125) [org.apache.shiro.web:1.2.4]   at org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilterChain.java:66) [org.apache.shiro.web:1.2.4]   at org.apache.shiro.web.servlet.AbstractShiroFilter.executeChain(AbstractShiroFilter.java:449) [org.apache.shiro.web:1.2.4]   at org.sonatype.nexus.security.SecurityFilter.executeChain(SecurityFilter.java:85) [org.sonatype.nexus.security:3.0.0.SNAPSHOT]   at org.apache.shiro.web.servlet.AbstractShiroFilter$1.call(AbstractShiroFilter.java:365) [org.apache.shiro.web:1.2.4]   at org.apache.shiro.subject.support.SubjectCallable.doCall(SubjectCallable.java:90) [org.apache.shiro.core:1.2.4]   at org.apache.shiro.subject.support.SubjectCallable.call(SubjectCallable.java:83) [org.apache.shiro.core:1.2.4]   at org.apache.shiro.subject.support.DelegatingSubject.execute(DelegatingSubject.java:383) [org.apache.shiro.core:1.2.4]   at org.apache.shiro.web.servlet.AbstractShiroFilter.doFilterInternal(AbstractShiroFilter.java:362) [org.apache.shiro.web:1.2.4]   at org.sonatype.nexus.security.SecurityFilter.doFilterInternal(SecurityFilter.java:101) [org.sonatype.nexus.security:3.0.0.SNAPSHOT]   at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:125) [org.apache.shiro.web:1.2.4]   at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:82) [com.google.inject:4.0.0]   at com.codahale.metrics.servlet.AbstractInstrumentedFilter.doFilter(AbstractInstrumentedFilter.java:97) [com.codahale.metrics.servlet:3.0.2]   at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:82) [com.google.inject:4.0.0]   at org.sonatype.nexus.internal.web.ErrorPageFilter.doFilter(ErrorPageFilter.java:63) [org.sonatype.nexus.core:3.0.0.SNAPSHOT]   at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:82) [com.google.inject:4.0.0]   at org.sonatype.nexus.internal.web.EnvironmentFilter.doFilter(EnvironmentFilter.java:101) [org.sonatype.nexus.core:3.0.0.SNAPSHOT]   at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:82) [com.google.inject:4.0.0]   at com.google.inject.servlet.DynamicFilterPipeline.dispatch(DynamicFilterPipeline.java:104) [com.google.inject:4.0.0]   at com.google.inject.servlet.GuiceFilter$1.call(GuiceFilter.java:133) [com.google.inject:4.0.0]   at com.google.inject.servlet.GuiceFilter$1.call(GuiceFilter.java:130) [com.google.inject:4.0.0]   at com.google.inject.servlet.GuiceFilter$Context.call(GuiceFilter.java:203) [com.google.inject:4.0.0]   at com.google.inject.servlet.GuiceFilter.doFilter(GuiceFilter.java:130) [com.google.inject:4.0.0]   at org.sonatype.nexus.bootstrap.osgi.DelegatingFilter.doFilter(DelegatingFilter.java:73) [org.sonatype.nexus.bootstrap:3.0.0.SNAPSHOT]   at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1669) [org.eclipse.jetty.servlet:9.3.3.v20150827]   at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:581) [org.eclipse.jetty.servlet:9.3.3.v20150827]   at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143) [org.eclipse.jetty.server:9.3.3.v20150827]   at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:548) [org.eclipse.jetty.security:9.3.3.v20150827]   at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:226) [org.eclipse.jetty.server:9.3.3.v20150827]   at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1156) [org.eclipse.jetty.server:9.3.3.v20150827]   at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:511) [org.eclipse.jetty.servlet:9.3.3.v20150827]   at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:185) [org.eclipse.jetty.server:9.3.3.v20150827]   at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1088) [org.eclipse.jetty.server:9.3.3.v20150827]   at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141) [org.eclipse.jetty.server:9.3.3.v20150827]   at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:119) [org.eclipse.jetty.server:9.3.3.v20150827]   at com.codahale.metrics.jetty9.InstrumentedHandler.handle(InstrumentedHandler.java:175) [com.codahale.metrics.jetty9:3.0.2]   at org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:109) [org.eclipse.jetty.server:9.3.3.v20150827]   at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:119) [org.eclipse.jetty.server:9.3.3.v20150827]   at org.eclipse.jetty.server.Server.handle(Server.java:517) [org.eclipse.jetty.server:9.3.3.v20150827]   at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:306) [org.eclipse.jetty.server:9.3.3.v20150827]   at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:242) [org.eclipse.jetty.server:9.3.3.v20150827]   at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:245) [org.eclipse.jetty.io:9.3.3.v20150827]   at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:95) [org.eclipse.jetty.io:9.3.3.v20150827]   at org.eclipse.jetty.io.SelectChannelEndPoint$2.run(SelectChannelEndPoint.java:75) [org.eclipse.jetty.io:9.3.3.v20150827]   at org.eclipse.jetty.util.thread.strategy.ExecuteProduceConsume.produceAndRun(ExecuteProduceConsume.java:213) [org.eclipse.jetty.util:9.3.3.v20150827]   at org.eclipse.jetty.util.thread.strategy.ExecuteProduceConsume.run(ExecuteProduceConsume.java:147) [org.eclipse.jetty.util:9.3.3.v20150827]   at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:654) [org.eclipse.jetty.util:9.3.3.v20150827]   at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:572) [org.eclipse.jetty.util:9.3.3.v20150827]   at java.lang.Thread.run(Thread.java:745) [na:1.8.0_40]  {quote}"""
"NEXUS-9219","Bug","NPM|Repository",0.5,"Deleting a npm asset then republishing errors","""I noticed that if I publish then delete the related assets (via browse assets/components UI) and publish again that I am getting the below error.  This happens despite allow redeploy being on.  If I do not delete the republish works as does the first publish.    Debug was off during this test.  NPM is new to Fabtastic so no backcheck of NX3 is possible. I did not check NX2 at this time.    {quote}    2015-09-22 17:36:46,247-0400 WARN [qtp658827638-536] admin org.sonatype.nexus.repository.httpbridge.internal.ViewServlet - Service failure  java.lang.NullPointerException: null  at com.google.common.base.Preconditions.checkNotNull(Preconditions.java:210) [na:na]  at org.sonatype.nexus.repository.storage.StorageTxImpl.attachBlob(StorageTxImpl.java:489) [na:na]  at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) [na:1.8.0_40]  at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) [na:1.8.0_40]  at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [na:1.8.0_40]  at java.lang.reflect.Method.invoke(Method.java:497) [na:1.8.0_40]  at org.sonatype.nexus.common.stateguard.SimpleMethodInvocation.proceed(SimpleMethodInvocation.java:53) [na:na]  at org.sonatype.nexus.common.stateguard.MethodInvocationAction.run(MethodInvocationAction.java:39) [na:na]  at org.sonatype.nexus.common.stateguard.StateGuard$GuardImpl.run(StateGuard.java:267) [na:na]  at org.sonatype.nexus.common.stateguard.GuardedInterceptor.invoke(GuardedInterceptor.java:53) [na:na]  at org.sonatype.nexus.common.stateguard.StateGuardAspect$1.invoke(StateGuardAspect.java:59) [na:na]  at com.sun.proxy.$Proxy154.attachBlob(Unknown Source) [na:na]  at com.sonatype.nexus.repository.npm.internal.NpmHostedFacetImpl.putTarball(NpmHostedFacetImpl.java:158) [na:na]  at com.sonatype.nexus.repository.npm.internal.NpmHostedFacetImpl.putPackageRoot(NpmHostedFacetImpl.java:119) [na:na]  at org.sonatype.nexus.transaction.TransactionalWrapper.proceedWithTransaction(TransactionalWrapper.java:54) [na:na]  at org.sonatype.nexus.transaction.TransactionInterceptor.invoke(TransactionInterceptor.java:45) [na:na]  at com.sonatype.nexus.repository.npm.internal.NpmHostedFacetImpl.putPackage(NpmHostedFacetImpl.java:86) [na:na]  at com.sonatype.nexus.repository.npm.internal.NpmHostedFacet$putPackage$0.call(Unknown Source) [na:na]  at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:48) [groovy-all:2.4.4]  at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:113) [groovy-all:2.4.4]  at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:141) [groovy-all:2.4.4]  at com.sonatype.nexus.repository.npm.internal.NpmHandlers$_closure3.doCall(NpmHandlers.groovy:123) [na:na]  at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) [na:1.8.0_40]  at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) [na:1.8.0_40]  at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [na:1.8.0_40]  at java.lang.reflect.Method.invoke(Method.java:497) [na:1.8.0_40]  at org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:93) [groovy-all:2.4.4]  at groovy.lang.MetaMethod.doMethodInvoke(MetaMethod.java:325) [groovy-all:2.4.4]  at org.codehaus.groovy.runtime.metaclass.ClosureMetaClass.invokeMethod(ClosureMetaClass.java:294) [na:na]  at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1019) [groovy-all:2.4.4]  at groovy.lang.Closure.call(Closure.java:426) [groovy-all:2.4.4]  at org.codehaus.groovy.runtime.ConvertedClosure.invokeCustom(ConvertedClosure.java:53) [groovy-all:2.4.4]  at org.codehaus.groovy.runtime.ConversionHandler.invoke(ConversionHandler.java:105) [groovy-all:2.4.4]  at com.sun.proxy.$Proxy120.handle(Unknown Source) [na:na]  at org.sonatype.nexus.repository.view.Context.proceed(Context.java:79) [na:na]  at org.sonatype.nexus.repository.storage.UnitOfWorkHandler.handle(UnitOfWorkHandler.java:39) [na:na]  at org.sonatype.nexus.repository.view.Context.proceed(Context.java:79) [na:na]  at org.sonatype.nexus.repository.view.handlers.ContentHeadersHandler.handle(ContentHeadersHandler.java:44) [na:na]  at org.sonatype.nexus.repository.view.Context.proceed(Context.java:79) [na:na]  at org.sonatype.nexus.repository.view.Context$proceed.call(Unknown Source) [na:na]  at com.sonatype.nexus.repository.npm.internal.NpmHandlers$_closure1.doCall(NpmHandlers.groovy:89) [na:na]  at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) [na:1.8.0_40]  at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) [na:1.8.0_40]  at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [na:1.8.0_40]  at java.lang.reflect.Method.invoke(Method.java:497) [na:1.8.0_40]  at org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:93) [groovy-all:2.4.4]  at groovy.lang.MetaMethod.doMethodInvoke(MetaMethod.java:325) [groovy-all:2.4.4]  at org.codehaus.groovy.runtime.metaclass.ClosureMetaClass.invokeMethod(ClosureMetaClass.java:294) [na:na]  at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1019) [groovy-all:2.4.4]  at groovy.lang.Closure.call(Closure.java:426) [groovy-all:2.4.4]  at org.codehaus.groovy.runtime.ConvertedClosure.invokeCustom(ConvertedClosure.java:53) [groovy-all:2.4.4]  at org.codehaus.groovy.runtime.ConversionHandler.invoke(ConversionHandler.java:105) [groovy-all:2.4.4]  at com.sun.proxy.$Proxy120.handle(Unknown Source) [na:na]  at org.sonatype.nexus.repository.view.Context.proceed(Context.java:79) [na:na]  at org.sonatype.nexus.repository.view.handlers.ConditionalRequestHandler.handle(ConditionalRequestHandler.java:72) [na:na]  at org.sonatype.nexus.repository.view.Context.proceed(Context.java:79) [na:na]  at org.sonatype.nexus.repository.security.SecurityHandler.handle(SecurityHandler.java:45) [na:na]  at org.sonatype.nexus.repository.view.Context.proceed(Context.java:79) [na:na]  at org.sonatype.nexus.repository.view.handlers.TimingHandler.handle(TimingHandler.java:46) [na:na]  at org.sonatype.nexus.repository.view.Context.proceed(Context.java:79) [na:na]  at org.sonatype.nexus.repository.view.Context.start(Context.java:102) [na:na]  at org.sonatype.nexus.repository.view.Router.dispatch(Router.java:58) [na:na]  at org.sonatype.nexus.repository.view.ConfigurableViewFacet.dispatch(ConfigurableViewFacet.java:43) [na:na]  at org.sonatype.nexus.repository.httpbridge.internal.ViewServlet.dispatchAndSend(ViewServlet.java:198) [na:na]  at org.sonatype.nexus.repository.httpbridge.internal.ViewServlet.doService(ViewServlet.java:160) [na:na]  at org.sonatype.nexus.repository.httpbridge.internal.ViewServlet.service(ViewServlet.java:117) [na:na]  at javax.servlet.http.HttpServlet.service(HttpServlet.java:790) [javax.servlet-api:3.1.0]  at com.google.inject.servlet.ServletDefinition.doServiceImpl(ServletDefinition.java:287) [com.google.inject:4.0.0]  at com.google.inject.servlet.ServletDefinition.doService(ServletDefinition.java:277) [com.google.inject:4.0.0]  at com.google.inject.servlet.ServletDefinition.service(ServletDefinition.java:182) [com.google.inject:4.0.0]  at com.google.inject.servlet.DynamicServletPipeline.service(DynamicServletPipeline.java:70) [com.google.inject:4.0.0]  at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:85) [com.google.inject:4.0.0]  at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:112) [org.apache.shiro.web:1.2.4]  at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:82) [com.google.inject:4.0.0]  at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:112) [org.apache.shiro.web:1.2.4]  at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:82) [com.google.inject:4.0.0]  at org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilterChain.java:61) [org.apache.shiro.web:1.2.4]  at org.apache.shiro.web.servlet.AdviceFilter.executeChain(AdviceFilter.java:108) [org.apache.shiro.web:1.2.4]  at org.apache.shiro.web.servlet.AdviceFilter.doFilterInternal(AdviceFilter.java:137) [org.apache.shiro.web:1.2.4]  at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:125) [org.apache.shiro.web:1.2.4]  at org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilterChain.java:66) [org.apache.shiro.web:1.2.4]  at org.apache.shiro.web.servlet.AdviceFilter.executeChain(AdviceFilter.java:108) [org.apache.shiro.web:1.2.4]  at org.apache.shiro.web.servlet.AdviceFilter.doFilterInternal(AdviceFilter.java:137) [org.apache.shiro.web:1.2.4]  at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:125) [org.apache.shiro.web:1.2.4]  at org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilterChain.java:66) [org.apache.shiro.web:1.2.4]  at org.apache.shiro.web.servlet.AdviceFilter.executeChain(AdviceFilter.java:108) [org.apache.shiro.web:1.2.4]  at org.apache.shiro.web.servlet.AdviceFilter.doFilterInternal(AdviceFilter.java:137) [org.apache.shiro.web:1.2.4]  at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:125) [org.apache.shiro.web:1.2.4]  at org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilterChain.java:66) [org.apache.shiro.web:1.2.4]  at org.apache.shiro.web.servlet.AbstractShiroFilter.executeChain(AbstractShiroFilter.java:449) [org.apache.shiro.web:1.2.4]  at org.sonatype.nexus.security.SecurityFilter.executeChain(SecurityFilter.java:85) [org.sonatype.nexus.security:3.0.0.SNAPSHOT]  at org.apache.shiro.web.servlet.AbstractShiroFilter$1.call(AbstractShiroFilter.java:365) [org.apache.shiro.web:1.2.4]  at org.apache.shiro.subject.support.SubjectCallable.doCall(SubjectCallable.java:90) [org.apache.shiro.core:1.2.4]  at org.apache.shiro.subject.support.SubjectCallable.call(SubjectCallable.java:83) [org.apache.shiro.core:1.2.4]  at org.apache.shiro.subject.support.DelegatingSubject.execute(DelegatingSubject.java:383) [org.apache.shiro.core:1.2.4]  at org.apache.shiro.web.servlet.AbstractShiroFilter.doFilterInternal(AbstractShiroFilter.java:362) [org.apache.shiro.web:1.2.4]  at org.sonatype.nexus.security.SecurityFilter.doFilterInternal(SecurityFilter.java:101) [org.sonatype.nexus.security:3.0.0.SNAPSHOT]  at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:125) [org.apache.shiro.web:1.2.4]  at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:82) [com.google.inject:4.0.0]  at com.codahale.metrics.servlet.AbstractInstrumentedFilter.doFilter(AbstractInstrumentedFilter.java:97) [com.codahale.metrics.servlet:3.0.2]  at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:82) [com.google.inject:4.0.0]  at org.sonatype.nexus.internal.web.ErrorPageFilter.doFilter(ErrorPageFilter.java:63) [org.sonatype.nexus.core:3.0.0.SNAPSHOT]  at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:82) [com.google.inject:4.0.0]  at org.sonatype.nexus.internal.web.EnvironmentFilter.doFilter(EnvironmentFilter.java:101) [org.sonatype.nexus.core:3.0.0.SNAPSHOT]  at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:82) [com.google.inject:4.0.0]  at com.google.inject.servlet.DynamicFilterPipeline.dispatch(DynamicFilterPipeline.java:104) [com.google.inject:4.0.0]  at com.google.inject.servlet.GuiceFilter$1.call(GuiceFilter.java:133) [com.google.inject:4.0.0]  at com.google.inject.servlet.GuiceFilter$1.call(GuiceFilter.java:130) [com.google.inject:4.0.0]  at com.google.inject.servlet.GuiceFilter$Context.call(GuiceFilter.java:203) [com.google.inject:4.0.0]  at com.google.inject.servlet.GuiceFilter.doFilter(GuiceFilter.java:130) [com.google.inject:4.0.0]  at org.sonatype.nexus.bootstrap.osgi.DelegatingFilter.doFilter(DelegatingFilter.java:73) [org.sonatype.nexus.bootstrap:3.0.0.SNAPSHOT]  at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1669) [org.eclipse.jetty.servlet:9.3.3.v20150827]  at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:581) [org.eclipse.jetty.servlet:9.3.3.v20150827]  at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143) [org.eclipse.jetty.server:9.3.3.v20150827]  at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:548) [org.eclipse.jetty.security:9.3.3.v20150827]  at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:226) [org.eclipse.jetty.server:9.3.3.v20150827]  at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1156) [org.eclipse.jetty.server:9.3.3.v20150827]  at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:511) [org.eclipse.jetty.servlet:9.3.3.v20150827]  at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:185) [org.eclipse.jetty.server:9.3.3.v20150827]  at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1088) [org.eclipse.jetty.server:9.3.3.v20150827]  at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141) [org.eclipse.jetty.server:9.3.3.v20150827]  at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:119) [org.eclipse.jetty.server:9.3.3.v20150827]  at com.codahale.metrics.jetty9.InstrumentedHandler.handle(InstrumentedHandler.java:175) [com.codahale.metrics.jetty9:3.0.2]  at org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:109) [org.eclipse.jetty.server:9.3.3.v20150827]  at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:119) [org.eclipse.jetty.server:9.3.3.v20150827]  at org.eclipse.jetty.server.Server.handle(Server.java:517) [org.eclipse.jetty.server:9.3.3.v20150827]  at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:306) [org.eclipse.jetty.server:9.3.3.v20150827]  at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:242) [org.eclipse.jetty.server:9.3.3.v20150827]  at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:245) [org.eclipse.jetty.io:9.3.3.v20150827]  at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:95) [org.eclipse.jetty.io:9.3.3.v20150827]  at org.eclipse.jetty.io.SelectChannelEndPoint$2.run(SelectChannelEndPoint.java:75) [org.eclipse.jetty.io:9.3.3.v20150827]  at org.eclipse.jetty.util.thread.strategy.ExecuteProduceConsume.produceAndRun(ExecuteProduceConsume.java:213) [org.eclipse.jetty.util:9.3.3.v20150827]  at org.eclipse.jetty.util.thread.strategy.ExecuteProduceConsume.run(ExecuteProduceConsume.java:147) [org.eclipse.jetty.util:9.3.3.v20150827]  at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:654) [org.eclipse.jetty.util:9.3.3.v20150827]  at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:572) [org.eclipse.jetty.util:9.3.3.v20150827]  at java.lang.Thread.run(Thread.java:745) [na:1.8.0_40]    {quote}     STEPS:  1) Setup NPM hosted repo  2) npm publish (I used my own creation, ala [https://docs.sonatype.com/display/Nexus/NPM+Testing] )  3) Go to browse asset UI and delete all assets in the NPM hosted repo  4) npm publish; BUG: WARN in log, 500 on console, no republish is done"""
"NEXUS-9243","Bug","Security",0.5,"Can't create external LDAP Role mapping","""I have a LDAP instance and I am able to verify user mapping with it.    Under Security -> Roles  I push Create role -> External role mapping -> LDAP I get     Uncaught TypeError: a.setItemName is not a function (https://mydockerhub.example.com/static/rapture/nexus-coreui-plugin-prod.js?_v=3.0.0-b2015091801:1)"""
"NEXUS-9286","Bug","Search|UI",3,"Specific actions in search can cause list not to load","""When testing npm, I just noticed a very similar thing to NEXUS-9109 (pre-fix).  I had a bunch of npm components and was doing a non-custom keyword search. Searching for """"test"""" shows over a page worth of component results. I searched for """"testproject1"""" and there was one result (as expected, I had created it). Limiting to """"testp"""" shows no results (because of lack of wildcard/* - aka NEXUS-8884). However, then limiting back to """"test"""" seemed to show no results. After a couple times reproing this, I noticed a scroll on the right side.  This occurs despite the fix for NEXUS-9109.  See attached vids.    Setup/config steps:  //setup of data  1) Setup your npm instance as https://docs.sonatype.com/display/Nexus/NPM+Testing (.npmrc edits and nexus repos). WARN: Due to not committed fix turn strict content validation off for Proxy or step 4 will fail to build.  2) Download user package from https://issues.sonatype.org/browse/NEXUS-8043 and unzip  3) From that directory, run Kelly's script (https://gist.github.com/kellyrob99/8e86227da5c8fd7d7a30) to get everything into Nexus Hosted. NOTE: This takes a while. Some will error but most should go through = """"+  {package}  """" [no errors or subsequent/following lines]. Can recheck browse assets/components for npmhosted if you're unsure.  4) Following https://docs.sonatype.com/display/Nexus/NPM+Testing, test hosted and proxy. Note repository differences in configuration of package local. This further populates each repo; I did 2 hosted tests. Let me know if you need more details here. Trying not to retype what's already documented  //performing bug (as vid)  5) Go to Search  6) Type in """"test""""  7) After results, adjust to """"testproject1"""" (or whatever you named your hosted package)  8) After result, adjust to """"testp"""". Should see no results because of lack of wildcard symbol.  9) After a few seconds, adjust to """"test"""". No results show. Scroll shows (on my machine/setup). Scrolling reveals results."""
"NEXUS-9285","Bug","UI",1,"> placement in wrong place","""While demoing Tuesday, the team noticed that on Search the > sign that usually is at the end of the row on search to indicate that you can click and see more was not in the last """"column"""" but in the second to last column.  This does not occur on normal search and in fact seems to only occur when you have a component twice in different repositories like attached screen (dated 10/1).  This was demoed in NPM and that is how I reproduced it - creating two npm hosted repos and publishing the same package to both and then searching on the name.    In addition, I tangentially noticed similar behavior on the Capabilities screen right out of the box.  The differences seem to be that it does not take any special circumstances to get it to break and the > is in the second column instead of the """"last"""".  See attached screen (dated 9/30).    I was waffling whether this should be two issues or one.  I conferred with [~dsauble] who said start with one.  Daniel suspects as I do, that the Capabilities issue (at least) is recent regression.  I have not checked older NX3 or NX2 at this time.  Test performed with debug off.  Nothing in the log or JS console."""
"NEXUS-9293","Improvement","Docker|Scheduled Tasks",5,"add a task to purge dangling docker images","""Typically we build images tagged as """"latest"""" after SCM change automatically in CI and we push them to registry. It is basically the same as with SNAPSHOT deployed by maven. As result there are many """"dangling"""" images that in our case take significant amount of space.    Usually when you re-build image, meaning you tag newly build image with an already existing tag, you will see """"dangling"""" image in """"docker images"""" output. And you would delete it with:  *_docker rmi $(docker images -q -f dangling=true)_*    Basically what we need is something similar to scheduled task named """"Remove Snapshots From Repository"""" for removing old SNAPSHOTs deployed by maven.    For example Docker registry V2, provides maintenance function called """"upload purging"""" for this purpose. See [https://docs.docker.com/registry/configuration/]     Acceptance Criteria:    * A user with sufficient privileges will be able to schedule a task to delete orphaned Docker layers   ** This should be able to run on Hosted and Proxy     NOTE:    * To figure out which layers are orphaned, you need to look at existing manifests to see essentially which layers are not referenced   * More info on how Docker is handling deletes: [https://github.com/docker/distribution/blob/master/ROADMAP.md#deletes]     TECHNICAL NOTE:    * Do not purge any layer newer than when the task started running"""
"NEXUS-9302","Bug","UI",1,"Administration cog icon may not be initially visible after successful sign in","""# Let Nexus UI time out, on the Repository list screen   # Sign in   # Notice that there's no configuration cog   # Sign out   # Sign in again ( or refresh browser tab/window)  # Notice there's a cog now.     Happened on commit dad4714    NOTE:    - Let's look into this, the proposed solution is to remove it but we want to make sure this doesn't have ripple effects"""
"NEXUS-9311","Bug","NPM|UI",1,"NPM group json shows last uploaded not ordered","""While reviewing group ordering, I uploaded the same npm project into two different hosted directories and had those hosted directories in a group.  I noticed that the json information in the UI for the project via the group showed the second project that I had uploaded (see 12.33 screen).  However, because of the ordering I expected it to show the first json.  The metadata did show the proper ordering so that ticket passed (see 12.34 screen).  I spoke with [~cstamas] and he said to file and he would review/debug.  He noted that the json is(may be) going away with https://github.com/sonatype/nexus-internal/pull/230 which may make this difficult to repro and/or test.    Test done with debug off.  npm is new to Fabtastic and I did not check any other repo types in NX3.  I did not check NX2 at all."""
"NEXUS-9317","Bug","Docker|Search",0.5,"Docker search can show too much from Nexus hosted/groups","""I just ran a search """"docker search 192.168.1.4:18075/jprjr/docker-tinyfs"""" with the following results:      It seems to show the proxied docker item as well as each docker hosted image I have in my hosted repo.  The same occurs for just searching the hosted repo (without the proxy result).  Narrowing the search seems to give the correct results, making me wonder if searching the broader item is somehow including / as something to be searched (though just for hosted as there are any number of proxied items with / out there).    This was untestable in NX3 because of NEXUS-9159, however, spoke with [~krobinson] and decided to give it a distinct ticket rather than reopen that one soas not to cloudy the waters.  Docker does not exist in NX2 so cannot be checked there.  I am leaving this major as I can imagine this will render results less and less useful the more things you have in the hosted repo.  You also cannot perform this exact search in the NX3 search UI because of NEXUS-8801 so the workaround is partial search.    NOTE:  - Could be tokenizing the / in the image name"""
"NEXUS-9314","Bug","Rapture|UI",0.5,"System Information does not wrap (well) but cannot scroll","""Just noticed that in my system information, some of the fields are longer, however do not wrap after one page width (at least not at my maximum laptop size [1440]).  There is however no scroll available.  Workarounds are to copy the line and paste it into an external document or to click download.  Both of those are an additional step to someone who might just want to read this info.    Test done with debug off.  I did not check older NX3 or NX2 at this time."""
"NEXUS-9328","Bug","Docker",0.5,"Docker and context path","""It is not clear if our Docker support works with a context path configured in org.sonatype.nexus.cfg    The following steps need to be taken    - test if it works or not  - decide if we want it to work or not (if thats even possible)  - update docker chapter in documentation accordingly  - update section about configuring context path accordingly  - answer http://stackoverflow.com/questions/33021350/trouble-connecting-to-docker-registry-stored-on-nexus-3-preview-on-azure-vm    """
"NEXUS-9355","Bug","Installer",0.5,"Installer does not create desktop icon in CentOS KDE","""While testing the installer (nexus-3.0.0-SNAPSHOT-unix.sh), I ran a basic setup and at the end """"Completing the Sonatype Nexus Setup Wizard"""", I kept 'Create Desktop Icons' checked.  On CentOS KDE the icon did not create.  I tried several permutations of installs and no dice.  This blocked testing of several issues I was trying to test in Linux.  On CentOS GNOME it did create so nothing is currently blocked however, I am filing at least because I believe it's worth documenting something not working when it is checked.  Marking minor however I guess it's arguable if you're using CentOS KDE=)    --    Recommendation to send to install4j.  Review with Joe to see if increasing the logging levels gives better information."""
"NEXUS-9353","Bug","Installer",0.5,"bin/nexus-run helper app does not function if installer had unselected service start","""While testing the installer, I ran a basic setup but unchecked 'Start service' from the advanced options (Service tab).  At the end """"Completing the Sonatype Nexus Setup Wizard"""", I kept 'Create Desktop Icons' checked.  When I double clicked the icon, I got the attached errors (one on screen, the other in console log).  I first noticed this on Mac running the .sh file, then subsequently in Linux CentOS GNOME.  I was unable to test this in CentOS KDE due to an error with the icon not creating.    These errors occur regardless of if Nexus is started or not.  Running with start service checked seems to work."""
"NEXUS-9351","Bug","Support Tools",0.5,"Logger related(?) error at top of console after reset","""I noticed this line at the top of my nexus.log when I restarted my nexus:  'ERROR in ch.qos.logback.core.joran.action.PropertyAction - In <property> element, either the """"file"""" attribute alone, or the """"resource"""" element alone, or both the """"name"""" and """"value"""" attributes must be set.'    Earlier I had rebuilt and written up NEXUS-9350 and not done anything else noteworthy.  I was subsequently able to repro this by building a new nexus, starting it, resetting logs to default level and restarting nexus.  As far as I could tell this did not occur on the initial post-install start.    I did not check older NX3 or NX2 at this time.  Debug was off during this test."""
"NEXUS-9350","Bug","Support Tools",1,"logback-overrides not respected always","""[~alin] noticed that he set the org.apache.http.wire logger to TRACE, restarted nexus, and the logger value of org.apache.http.wire was reset to ERROR.  I was able to repro this but it does not happen for all loggers.  I checked logback-overrides.xml and the values are defined there but for some reason it is not picked up.  We discussed whether this was a """"feature"""" or not and also discussed if it has to do with customized loggers (and potentially the change from NEXUS-9327).  When testing NEXUS-9327 I did not include restarting in the test=\  Despite that discussion I did not check older NX3 at this time, nor did I check NX2.  Debug was off during this test."""
"NEXUS-9371","Bug","Browse Storage|UI",1,"Browse asset sort is case sensitive for some repo types","""I just noticed that Browse Assets sort by name sorted in a case sensitive way.  See attached.  Specifically, caps showed after numbers but before lower case.    Components is not affected.  I dug around and found NEXUS-8844 which seems to have fixed Components (before there was a differnentiation).  I believe this should be the same for assets.  I am marking trivial because the assets are all there and some may disagree this is how it should be anyway (but it is currently inconsistent which I believe is at least confusing).    Debug was ON during this test.  I did not check older versions of NX3.  I do not believe this issue affects NX2 (but NEXUS-8844 might have)."""
"NEXUS-9370","Bug","LDAP",1,"Impossible to map LDAP groups if remote server's query limit is reached","""Active Directory will only return a certain number of results for an LDAP query.  This means that the external role mapping UI will not show all available groups in the drop list box.    In Nexus 2.x there are workarounds to this problem as documented here:    [Nexus does not list all avaliable LDAP groups in external role mapping dialog|https://support.sonatype.com/entries/30579397]    In Nexus 3 the external role mapping is done via a non-editable drop-list control.  So there is no workaround, if the LDAP group you need isn't in the list it cannot be mapped.    """
"NEXUS-9375","Bug","Browse Storage|Docker|UI",0.5,"v1 docker proxy assets 404 on download click","""While testing the docker branch, I noticed that assets from the docker proxy labelled v1 were 404ing on download.  v2 assets were ok.  [~krobinson] noted that the URL contained an extra /v1/images.  Removing it caused the download to work.  I am leaving major because the workaround is not intuitive.  See vid.  This is regression from m5 where this works.    You can (currently) get v1 assets by pulling hello-world or ubuntu.  You can (currently) get v2 assets by pulling baselibrary/ubuntu.    Docker is not in NX2 so this does that affect that."""
"NEXUS-9372","Bug","Yum",0.5,"repodata/repomd.xml isn't recognized as metadata in YUM proxy repository","""Currently the _repodata/repomd.xml_ path is handled as regular item in proxied repository.  and its age is checked by _getItemMaxAge()_ instead of _getMetadataMaxAge()_. So the max age of _repodata/repomd.xml_ and the max age of RPM files are same  that can be configured as """"Item Max Age"""" in the configuration. I think that checking the age of _repodata/repomd.xml_ with _getMetadataMaxAge()_ is a right thing to do"""
"NEXUS-9426","Bug","NPM|Repository|UI",0.5,"npm repository URLs error","""When you attempt to browse the URLs displayed for npm repositories in the Manage Repositories list (via Repository->Repositories) you get error 400s for hosted and group and error 404 for proxy.  We modified other non-browsable repositories to link to the component/asset browse section and browsable repositories to work.  npm seems to have neither.    This occurs in m6 where npm for NX3 was introduced.  I did not check NX2 at this time."""
"NEXUS-9439","Bug","Staging|Yum",0.5,"deadlock between mergeropo and staging promotion","""A GET request comes into a group repository which triggers a yum metadata merge.  It can't proceed because it can't get a lock to schedule the task:    {quote}  qtp1444610073-5921 id=5921 state=WAITING      - waiting on <0x631ba521> (a java.util.concurrent.FutureTask$Sync)      - locked <0x631ba521> (a java.util.concurrent.FutureTask$Sync)      at sun.misc.Unsafe.park(Native Method)      at java.util.concurrent.locks.LockSupport.park(LockSupport.java:186)      at java.util.concurrent.locks.AbstractQueuedSynchronizer.parkAndCheckInterrupt(AbstractQueuedSynchronizer.java:834)      at java.util.concurrent.locks.AbstractQueuedSynchronizer.doAcquireSharedInterruptibly(AbstractQueuedSynchronizer.java:994)      at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireSharedInterruptibly(AbstractQueuedSynchronizer.java:1303)      at java.util.concurrent.FutureTask$Sync.innerGet(FutureTask.java:248)      at java.util.concurrent.FutureTask.get(FutureTask.java:111)      at org.sonatype.scheduling.DefaultScheduledTask.get(DefaultScheduledTask.java:260)      at org.sonatype.nexus.yum.internal.YumGroupImpl.getYumRepository(YumGroupImpl.java:91)      at org.sonatype.nexus.yum.internal.MergeMetadataRequestStrategy.onHandle(MergeMetadataRequestStrategy.java:90)      at org.sonatype.nexus.proxy.repository.AbstractRepository.checkRequestStrategies(AbstractRepository.java:1201)      at org.sonatype.nexus.proxy.repository.AbstractRepository.checkConditions(AbstractRepository.java:1193)      at org.sonatype.nexus.proxy.repository.AbstractRepository.retrieveItem(AbstractRepository.java:590)      at org.sonatype.nexus.proxy.router.DefaultRepositoryRouter.retrieveItem(DefaultRepositoryRouter.java:155)      at org.sonatype.nexus.content.internal.ContentServlet.doGet(ContentServlet.java:376)      at org.sonatype.nexus.content.internal.ContentServlet.service(ContentServlet.java:342)      at javax.servlet.http.HttpServlet.service(HttpServlet.java:848)      at com.google.inject.servlet.ServletDefinition.doServiceImpl(ServletDefinition.java:288)      at com.google.inject.servlet.ServletDefinition.doService(ServletDefinition.java:278)      at com.google.inject.servlet.ServletDefinition.service(ServletDefinition.java:182)      at com.google.inject.servlet.ManagedServletPipeline.service(ManagedServletPipeline.java:93)      at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:85)      at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:112)      at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:82)      at com.google.inject.servlet.ManagedFilterPipeline.dispatch(ManagedFilterPipeline.java:120)      at org.sonatype.nexus.web.internal.NexusGuiceFilter$MultiFilterChain.doFilter(NexusGuiceFilter.java:82)      at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:89)      at com.google.inject.servlet.ManagedFilterPipeline.dispatch(ManagedFilterPipeline.java:120)      at org.sonatype.nexus.web.internal.NexusGuiceFilter$MultiFilterChain.doFilter(NexusGuiceFilter.java:82)      at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:89)      at org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilterChain.java:61)      at org.apache.shiro.web.servlet.AdviceFilter.executeChain(AdviceFilter.java:108)      at org.apache.shiro.web.servlet.AdviceFilter.doFilterInternal(AdviceFilter.java:137)      at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:125)      at org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilterChain.java:66)      at org.apache.shiro.web.servlet.AdviceFilter.executeChain(AdviceFilter.java:108)      at org.apache.shiro.web.servlet.AdviceFilter.doFilterInternal(AdviceFilter.java:137)      at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:125)      at org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilterChain.java:66)      at org.apache.shiro.web.servlet.AdviceFilter.executeChain(AdviceFilter.java:108)      at org.apache.shiro.web.servlet.AdviceFilter.doFilterInternal(AdviceFilter.java:137)      at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:125)      at org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilterChain.java:66)      at org.apache.shiro.web.servlet.AbstractShiroFilter.executeChain(AbstractShiroFilter.java:449)      at org.sonatype.nexus.web.internal.SecurityFilter.executeChain(SecurityFilter.java:90)      at org.apache.shiro.web.servlet.AbstractShiroFilter$1.call(AbstractShiroFilter.java:365)      at org.apache.shiro.subject.support.SubjectCallable.doCall(SubjectCallable.java:90)      at org.apache.shiro.subject.support.SubjectCallable.call(SubjectCallable.java:83)  {quote}    It can't get a lock to do this because another thread has the default configuration lock because it is promoting a staging repository.  This thread can't proceed because it is trying to acquire a lock held by the first thread:    {quote}  pxpool-1-thread-4 id=124 state=WAITING      - waiting on <0x13ccef4e> (a java.util.concurrent.locks.ReentrantReadWriteLock$NonfairSync)      - locked <0x13ccef4e> (a java.util.concurrent.locks.ReentrantReadWriteLock$NonfairSync)       owned by qtp1444610073-5921 id=5921      at sun.misc.Unsafe.park(Native Method)      at java.util.concurrent.locks.LockSupport.park(LockSupport.java:186)      at java.util.concurrent.locks.AbstractQueuedSynchronizer.parkAndCheckInterrupt(AbstractQueuedSynchronizer.java:834)      at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireQueued(AbstractQueuedSynchronizer.java:867)      at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquire(AbstractQueuedSynchronizer.java:1197)      at java.util.concurrent.locks.ReentrantReadWriteLock$WriteLock.lock(ReentrantReadWriteLock.java:945)      at org.sonatype.nexus.yum.internal.YumGroupImpl.markDirty(YumGroupImpl.java:109)      at org.sonatype.nexus.yum.internal.EventsRouter.on(EventsRouter.java:96)      at sun.reflect.GeneratedMethodAccessor209.invoke(Unknown Source)      at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)      at java.lang.reflect.Method.invoke(Method.java:606)      at org.sonatype.sisu.goodies.eventbus.internal.guava.EventHandler.handleEvent(EventHandler.java:80)      at org.sonatype.sisu.goodies.eventbus.internal.guava.EventBus.dispatch(EventBus.java:329)      at org.sonatype.sisu.goodies.eventbus.internal.DefaultGuavaEventBus.dispatch(DefaultGuavaEventBus.java:34)      at org.sonatype.sisu.goodies.eventbus.internal.ReentrantGuavaEventBus.dispatchQueuedEvents(ReentrantGuavaEventBus.java:57)      at org.sonatype.sisu.goodies.eventbus.internal.guava.EventBus.post(EventBus.java:281)      at org.sonatype.sisu.goodies.eventbus.internal.DefaultEventBus.post(DefaultEventBus.java:78)      at org.sonatype.nexus.proxy.repository.AbstractGroupRepository.prepareForSave(AbstractGroupRepository.java:125)      at org.sonatype.nexus.configuration.AbstractConfigurable.onEvent(AbstractConfigurable.java:105)      at sun.reflect.GeneratedMethodAccessor51.invoke(Unknown Source)      at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)      at java.lang.reflect.Method.invoke(Method.java:606)      at org.sonatype.sisu.goodies.eventbus.internal.guava.EventHandler.handleEvent(EventHandler.java:80)      at org.sonatype.sisu.goodies.eventbus.internal.guava.SynchronizedEventHandler.handleEvent(SynchronizedEventHandler.java:49)      at org.sonatype.sisu.goodies.eventbus.internal.guava.EventBus.dispatch(EventBus.java:329)      at org.sonatype.sisu.goodies.eventbus.internal.DefaultGuavaEventBus.dispatch(DefaultGuavaEventBus.java:34)      at org.sonatype.sisu.goodies.eventbus.internal.ReentrantGuavaEventBus.dispatchQueuedEvents(ReentrantGuavaEventBus.java:57)      at org.sonatype.sisu.goodies.eventbus.internal.guava.EventBus.post(EventBus.java:281)      at org.sonatype.sisu.goodies.eventbus.internal.DefaultEventBus.post(DefaultEventBus.java:78)      at org.sonatype.nexus.configuration.application.DefaultNexusConfiguration.applyConfiguration(DefaultNexusConfiguration.java:339)        - locked org.sonatype.nexus.configuration.application.DefaultNexusConfiguration@1a90baa2      at org.sonatype.nexus.configuration.application.DefaultNexusConfiguration.saveConfiguration(DefaultNexusConfiguration.java:363)        - locked org.sonatype.nexus.configuration.application.DefaultNexusConfiguration@1a90baa2      at com.sonatype.nexus.staging.internal.DefaultStagingRepositoryManager.setRepositoryGroupStaged(DefaultStagingRepositoryManager.java:265)      at com.sonatype.nexus.staging.internal.task.RepositoryPromoteTask$PromoteOperation.perform(RepositoryPromoteTask.java:200)      at com.sonatype.nexus.staging.internal.task.OperationTaskSupport.executeOperations(OperationTaskSupport.java:434)      at com.sonatype.nexus.staging.internal.task.OperationTaskSupport.doCall(OperationTaskSupport.java:415)      at com.sonatype.nexus.staging.internal.task.RepositoryPromoteTask.doCall(RepositoryPromoteTask.java:365)      at com.sonatype.nexus.staging.internal.task.RepositoryPromoteTask.doCall(RepositoryPromoteTask.java:1)      at com.sonatype.nexus.staging.internal.task.TaskSupport.call(TaskSupport.java:37)      at com.sonatype.nexus.staging.internal.task.StagingTaskSupport.call(StagingTaskSupport.java:133)      at com.sonatype.nexus.staging.internal.task.StagingBackgroundTask.execute(StagingBackgroundTask.java:67)      at com.sonatype.nexus.staging.internal.task.NexusTaskSupport.doRun(NexusTaskSupport.java:52)      at com.sonatype.nexus.staging.internal.task.NexusTaskSupport.doRun(NexusTaskSupport.java:1)      at org.sonatype.nexus.scheduling.AbstractNexusTask.call(AbstractNexusTask.java:163)      at org.sonatype.scheduling.DefaultScheduledTask.call(DefaultScheduledTask.java:418)      at org.sonatype.nexus.threads.MDCAwareCallable.call(MDCAwareCallable.java:44)      at org.apache.shiro.subject.support.SubjectCallable.doCall(SubjectCallable.java:90)      at org.apache.shiro.subject.support.SubjectCallable.call(SubjectCallable.java:83)      at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:334)      at java.util.concurrent.FutureTask.run(FutureTask.java:166)      at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:178)      at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:292)      at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)      at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)      at java.lang.Thread.run(Thread.java:724)  {quote}"""
"NEXUS-9437","Bug","Configuration",1,"unable to start nexus when run_as_user is set","""There is a serious problem starting the m6 release on ubuntu server without X11 installed and the documentation is not up to date.    After unpacking nexus-installer-3.0.0-m6-unix-archive.tar.gz on my server I changed run_as_user in nexus.rc. I tried to start it with     *./nexus-3.0.0-b2015110601/bin/nexus run*  su: invalid option -- 'D'  Usage: su [options] [LOGIN]    Options:    -c, --command COMMAND         pass COMMAND to the invoked shell    -h, --help                    display this help message and exit    -, -l, --login                make the shell a login shell    -m, -p,    --preserve-environment        do not reset environment variables, and                                  keep the same shell    -s, --shell SHELL             use SHELL instead of the default in passwd    After debuging the scipt I tried to start the Nexus server outside the script with     nexus@node01:*/opt/nexus$ /usr/lib/jvm/java-8-oracle/jre/bin/java -server -Dinstall4j.jvmDir=/usr/lib/jvm/java-8-oracle/jre -Dexe4j.moduleName=/opt/nexus/nexus-3.0.0-b2015110601/bin/nexus -Dinstall4j.launcherId=245 -Dinstall4j.swt=false -Di4jv=0 -Di4jv=0 -Di4jv=0 -Di4jv=0 -Di4jv=0 -Xms256M -Xmx768M -XX:+UnlockDiagnosticVMOptions -XX:+UnsyncloadClass -Djava.net.preferIPv4Stack=true -Dkaraf.home=. -Dkaraf.base=. -Dkaraf.etc=etc -Djava.util.logging.config.file=etc/java.util.logging.properties -Dkaraf.data=data -Dkaraf.instances=data/instances -Djava.io.tmpdir=data/tmp -Dkaraf.startLocalConsole=false -Di4j.vpt=true -classpath /opt/nexus/nexus-3.0.0-b2015110601/.install4j/i4jruntime.jar:/opt/nexus/nexus-3.0.0-b2015110601/lib/karaf.jar:/opt/nexus/nexus-3.0.0-b2015110601/lib/karaf-org.osgi.core.jar:/opt/nexus/nexus-3.0.0-b2015110601/lib/karaf-jmx-boot.jar:/opt/nexus/nexus-3.0.0-b2015110601/lib/karaf-jaas-boot.jar:/opt/nexus/nexus-3.0.0-b2015110601/lib/karaf-nexus-branding.jar com.install4j.runtime.launcher.UnixLauncher run 9d17dc87   org.apache.karaf.main.Main*  java.util.NoSuchElementException   at java.util.LinkedList.removeFirst(LinkedList.java:270)   at com.exe4j.runtime.util.ArgumentStack.popString(ArgumentStack.java:14)   at com.install4j.runtime.launcher.UnixLauncher.main(UnixLauncher.java:37)  java.util.NoSuchElementException  Exception in thread """"main"""" java.awt.HeadlessException:   No X11 DISPLAY variable was set, but this program performed an operation which requires it.   at java.awt.GraphicsEnvironment.checkHeadless(GraphicsEnvironment.java:204)   at java.awt.Button.<init>(Button.java:152)   at com.exe4j.runtime.util.MessageBox.addChoice(MessageBox.java:151)   at com.exe4j.runtime.util.MessageBox.addChoice(MessageBox.java:163)   at com.install4j.runtime.launcher.ErrorHandler.displayGuiErrorMessage(ErrorHandler.java:14)   at com.install4j.runtime.launcher.ErrorHandler.reportError(ErrorHandler.java:22)   at com.install4j.runtime.launcher.UnixLauncher.main(UnixLauncher.java:71)  """
"NEXUS-9446","Bug","Rapture|UI",0.5,"Email validation in 3.0-m6","""Looks like the email validation is being a bit too strict - my email address is mlaccetti@uncharted.software, but when creating a user in 3.0-m6, the email is marked as invalid."""
"NEXUS-9452","Bug","NPM",1,"valid npm package names not unescaped properly","""Sadly, there is a package in the npm registry with a """"/"""" in it's name.    Direct access of this works via npm, the slash is escaped:    https://registry.npmjs.org/@reactivex%2frxjs    Retrieving this package through a nexus proxy does not work, the slash is unescaped.    Inbound request to nexus:    {quote}  http://localhost:8081/nexus/content/repositories/npm-proxy/@reactivex%2frxjs  {quote}    Outbound request from nexus:        So the """"%2f"""" is getting un-escaped back into a """"/"""".    This issue is reproducible in 2.11.4-01 and 3.0m6."""
"NEXUS-9461","Bug","Repository",0.5,"Blocking repository does nothing","""Just performed the following events in a fresh build of Gnarly:  * """"Invalidated cache"""" (now one button post-NEXUS-9182)  * Cleared local .m2 repository folder  * Marked default maven central proxy repository blocked  * Hit http://localhost:8081/repository/maven-central/abbot/abbot/0.13.0/abbot-0.13.0.pom  The pom was returned.    Unless I am really confused I believe block setting is not working.  I attempted the same test except instead of being blocked I disconnected from the internet and got back the (expected) 502 error.  I tried again but did not clear cache and was able to see the pom (so it was cached).  I attempted this in m6 and experienced the same behavior so do not believe it related to NEXUS-9182.    No errors in log, debug was off during these tests.  I did not check NX2 at this time.    If this turns out to be NOTABUG, I would like to recommend we reevaluate the help and documentation text to be a smidge more clear."""
"NEXUS-9472","Bug","Scheduled Tasks",1,"Hourly scheduled tasks can not run when UI next reports","""While testing, I noticed an hourly scheduled task not running (see attached).  On follow up test I was able to get it to run.    I am able to reproduce this intermittancy consistantly by making the start time for the scheduled task in the past. For example, the one from the screenshot, I set to 1:30 (AM) before remembering that this was military (24-hour clock) time. Nexus is smart and updates """"next run"""" to the next hour, however, it seems the task never fires. If you have the start time in the future it seems to work fine.    [~jdillon] noticed similar in his NEXUS-7797 revamp I believe.  He wrote:  {quote}  <snip>  Start time: 00:45    logs show:      2015-11-02 15:31:35,024-0800 INFO  [qtp1974005016-47] admin org.sonatype.nexus.quartz.internal.orient.OrientJobStore - Store trigger: newTrigger=Trigger 'nexus.f81853fe-869e-4646-8a1a-4416bbabe031':  triggerClass: 'org.quartz.impl.triggers.SimpleTriggerImpl calendar: 'null' misfireInstruction: 0 nextFireTime: Mon Nov 02 00:45:00 PST 2015, replaceExisting=false    UI shows:   Next run Mon Nov 02 2015 15:45:00 GMT-0800 (PST)  </snip>  {quote}    I actually do not see this log message line, but I believe it's the same issue after his comment in NEXUS-7797 in response to my test notes.    I did not check older NX3 or NX2 at this time.  Debug was off during these tests."""
"NEXUS-9470","Bug","Scheduled Tasks|UI",2,"Adjusting a schedule task updates last run and last result fields","""I noticed that when you have a scheduled (non-manual) task, if you update the start time, on the tasks list the """"Last run"""" shown is the time you saved the update not the last time the task was actually run.  Similarly the last result shows """"Cancelled"""" even if you have never run the task before.    [~jdillon] also noticed this on his work on NEXUS-7797.  I have not checked older NX3 or NX2 at this time.  Debug was off during this test.  Leaving minor since it could """"erase"""" useful data.    NOTES:  - Could be because the API is too narrow to deal with this interaction  - Likely need to group some of these issues together so that we revisit the API if needed  - Quartz might not be keeping the date correctly?"""
"NEXUS-9468","Bug","Scheduled Tasks|UI",0.5,"Clicking away from a scheduled task prompts for discard despite no changes","""If you have an existing non-manual scheduled task (iow a task with a start time set) if you click into it to see details then click away without making any adjustments you are prompted to discard changes or remain on the page.  If you remain then click the discard button the start time goes blank and you are able to traverse away without prompt (on weekly schedule, the day to run the tasks also clears).  Leaving minor since this is especially confusing since that field is required.  This does not affect manual tasks because they have no start time.    I did not check older NX3 or NX2 at this time however I do not believe it was related to the change (discovered while testing link) since it occurred in m6.  [~jdillon] also noticed this while performing the change itself (and relayed in an email).  Debug was off during this test."""
"NEXUS-9474","Bug","Scheduled Tasks|UI",0.5,"Restore Task's notification email help text","""While testing scheduled tasks and email server, I configured a notification email against a scheduled task and on run did not see it send.  After reading, I found that this notification email only sends when a scheduled task fails.  To me this was not intuitive.  NX2 has helper text as follows """"The email address where a mail will be sent in case that task execution will fail"""".  I am not sure why this was not moved over (would have saved me time/confusion) so making ticket to do so.    I did verify the mail does send when the task fails."""
"NEXUS-9486","Bug","Browse Storage|UI",0.5,"Last accessed not updating consistently","""[~mprescott] noticed that raw hosted last accessed in the UI did not appear to be updating.  He asked me to check.  I noticed similar behavior but I did notice it updating sometimes.  Mostly it seems to be updating once and then stop.  I however noticed similar behavior with a maven pom so am not convinced it's specific to raw.  In addition, what is displayed in the UI seems to match what is shown in the DB.    Rather than delve further, on discussion with Michael, he believes it's worth filing and have someone investigate while tracing through the code.  If I can provide further information/support please let me know.  I did not back check older NX3 (or NX2) at this time.  Debug was off during my testing."""
"NEXUS-9493","Bug","NPM|Search",2,"NPM search does not find components with dash in name","""When using the preconfigured npm search with e.g. coffee-script no results are returned even if coffee-script is available locally.    In Maven search commons-io on the other hand works."""
"NEXUS-9500","Improvement","UI",0.5,"make capability validation message for URL type fields consistent and less confusing","""Base URL capability has a validation message for the URL field """"must be a valid URL"""" - rest of the site has 'This field should be a URL in the format """"http://www.example.com""""'.  I looked to make it consistent but couldn't find it in github so I am ticketing instead.  I made this a bug rather than an improvement because I think the level of confusion is potentially high if you enter """"www.example.com"""" and it asks for a """"valid URL"""".  I did not check older NX3 or NX2 at this time."""
"NEXUS-9502","Bug","NuGet",0.5,"NuGet proxy repository responds with 502 status instead of 404 for missing content","""Noticed this when I typed in the wrong version populating content into a nuget repo for testing. The code explicitly throws an IOException when remote content isn't found. I would (perhaps naively) expect that this would just result in a 404. Truncated exception from log shown below:       This was triggered with a request against the api for a version that does not exist: http://localhost:8081/repository/nuget.org-proxy/jQuery/7.1.4"""
"NEXUS-9505","Bug","CMA",0.5,"NFC Duration of -1 cripples repository","""1) Go to NX3, create or edit a proxy  2) Set the 'Not Found Cache TTL' to -1  3) Click Save    Notice that the log fills up with continually repeating exceptions, and the repo appears to be in an unusable state:    https://gist.githubusercontent.com/mrprescott/efd54cb2863acca1f358/raw/1566907249d4c8cfed747ecf846aa408b2d5f970/nfc_ttl_-1.txt"""
"NEXUS-9523","Bug","Scheduled Tasks|UI",2,"Starting to leave the browser with a dirty page but staying can break the UI","""I noticed that if you can break the Nexus UI (no content or breadcrumbs show until browser refresh) by performing the following steps:    1) Start filling out a newly created scheduled task by selecting a task frequency  2) Go to close the browser.  On prompt, choose to stay on page.  3) Navigate away from the page.  On prompt, choose to discard changes.  BUG: Subsequent UI breadcrumbs and page content is broken.  This restores when you refresh the browser.    See vid.  As far as I can tell this is something specific to the Tasks and Task frequency field.  I atttempted the same test in Capabilities and had no issue.  I attempted the same test in Tasks but with a repository field (also a dropdown) and had no issue.  Because of this and the workaround to refresh to fix, I am filing minor.    Debug was off initially during these checks but I turned it on and saw no errors in the console.  Also no errors in the log.  I did not check older NX3 or NX2 at this time."""
"NEXUS-9547","Bug","Docker",1,"Content type validation blocks some docker fetching","""Looking at a support issue I attempted *docker pull 192.168.1.3:18079/ksdn117/test-page* (proxy pull) and got this:      The below error was present in the logs.  {quote}  2015-12-11 10:09:09,996-0500 WARN  [qtp913947442-124] *UNKNOWN org.sonatype.nexus.repository.httpbridge.internal.ViewServlet - Service failure  org.sonatype.nexus.repository.InvalidContentException: Detected content type [text/html], but expected [application/json]: /v1/images/b3e2623757ce549a3898fe1b64a52be833fe93b95517e65a97f0913ec4060f7a/json.json  at org.sonatype.nexus.repository.storage.DefaultContentValidator.determineContentType(DefaultContentValidator.java:95) [na:na]  at org.sonatype.nexus.repository.docker.internal.DockerContentValidator.determineContentType(DockerContentValidator.java:61) [na:na]  at org.sonatype.nexus.repository.storage.StorageTxImpl.determineContentType(StorageTxImpl.java:631) [na:na]  at org.sonatype.nexus.repository.storage.StorageTxImpl.createBlob(StorageTxImpl.java:522) [na:na]  at org.sonatype.nexus.repository.storage.StorageTxImpl.setBlob(StorageTxImpl.java:596) [na:na]  at sun.reflect.GeneratedMethodAccessor93.invoke(Unknown Source) [na:na]  at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [na:1.8.0_60]  at java.lang.reflect.Method.invoke(Method.java:497) [na:1.8.0_60]  at org.sonatype.nexus.common.stateguard.SimpleMethodInvocation.proceed(SimpleMethodInvocation.java:53) [na:na]  at org.sonatype.nexus.common.stateguard.MethodInvocationAction.run(MethodInvocationAction.java:39) [na:na]  at org.sonatype.nexus.common.stateguard.StateGuard$GuardImpl.run(StateGuard.java:267) [na:na]  at org.sonatype.nexus.common.stateguard.GuardedInterceptor.invoke(GuardedInterceptor.java:53) [na:na]  at org.sonatype.nexus.common.stateguard.StateGuardAspect$1.invoke(StateGuardAspect.java:59) [na:na]  at com.sun.proxy.$Proxy153.setBlob(Unknown Source) [na:na]  at org.sonatype.nexus.repository.docker.internal.DockerFacetUtils.saveAsset(DockerFacetUtils.java:303) [na:na]  at org.sonatype.nexus.repository.docker.internal.DockerFacetUtils.saveAsset(DockerFacetUtils.java:292) [na:na]  at org.sonatype.nexus.repository.docker.internal.DockerProxyFacetImpl.doPutAsset(DockerProxyFacetImpl.java:471) [na:na]  at org.sonatype.nexus.transaction.TransactionalWrapper.proceedWithTransaction(TransactionalWrapper.java:54) [na:na]  at org.sonatype.nexus.transaction.TransactionInterceptor.invoke(TransactionInterceptor.java:53) [na:na]  at org.sonatype.nexus.repository.docker.internal.DockerProxyFacetImpl.putLayerMetadata(DockerProxyFacetImpl.java:577) [na:na]  at org.sonatype.nexus.repository.docker.internal.DockerProxyFacetImpl.store(DockerProxyFacetImpl.java:187) [na:na]  at org.sonatype.nexus.repository.proxy.ProxyFacetSupport.get(ProxyFacetSupport.java:171) [na:na]  at org.sonatype.nexus.repository.proxy.ProxyHandler.handle(ProxyHandler.java:48) [na:na]  at org.sonatype.nexus.repository.view.Context.proceed(Context.java:79) [na:na]  at org.sonatype.nexus.repository.storage.UnitOfWorkHandler.handle(UnitOfWorkHandler.java:39) [na:na]  at org.sonatype.nexus.repository.view.Context.proceed(Context.java:79) [na:na]  at org.sonatype.nexus.repository.view.Context$proceed.call(Unknown Source) [na:na]  at org.sonatype.nexus.repository.docker.internal.V1Handlers$_closure20.doCall(V1Handlers.groovy:296) [na:na]  at sun.reflect.GeneratedMethodAccessor103.invoke(Unknown Source) [na:na]  at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [na:1.8.0_60]  at java.lang.reflect.Method.invoke(Method.java:497) [na:1.8.0_60]  at org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:93) [groovy-all:2.4.4]  at groovy.lang.MetaMethod.doMethodInvoke(MetaMethod.java:325) [groovy-all:2.4.4]  at org.codehaus.groovy.runtime.metaclass.ClosureMetaClass.invokeMethod(ClosureMetaClass.java:294) [na:na]  at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1019) [groovy-all:2.4.4]  at groovy.lang.Closure.call(Closure.java:426) [groovy-all:2.4.4]  at org.codehaus.groovy.runtime.ConvertedClosure.invokeCustom(ConvertedClosure.java:53) [groovy-all:2.4.4]  at org.codehaus.groovy.runtime.ConversionHandler.invoke(ConversionHandler.java:105) [groovy-all:2.4.4]  at com.sun.proxy.$Proxy120.handle(Unknown Source) [na:na]  at org.sonatype.nexus.repository.view.Context.proceed(Context.java:79) [na:na]  at org.sonatype.nexus.repository.view.Context$proceed.call(Unknown Source) [na:na]  at org.sonatype.nexus.repository.docker.internal.V1Handlers$_closure19.doCall(V1Handlers.groovy:268) [na:na]  at sun.reflect.GeneratedMethodAccessor102.invoke(Unknown Source) [na:na]  at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [na:1.8.0_60]  at java.lang.reflect.Method.invoke(Method.java:497) [na:1.8.0_60]  at org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:93) [groovy-all:2.4.4]  at groovy.lang.MetaMethod.doMethodInvoke(MetaMethod.java:325) [groovy-all:2.4.4]  at org.codehaus.groovy.runtime.metaclass.ClosureMetaClass.invokeMethod(ClosureMetaClass.java:294) [na:na]  at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1019) [groovy-all:2.4.4]  at groovy.lang.Closure.call(Closure.java:426) [groovy-all:2.4.4]  at org.codehaus.groovy.runtime.ConvertedClosure.invokeCustom(ConvertedClosure.java:53) [groovy-all:2.4.4]  at org.codehaus.groovy.runtime.ConversionHandler.invoke(ConversionHandler.java:105) [groovy-all:2.4.4]  at com.sun.proxy.$Proxy120.handle(Unknown Source) [na:na]  at org.sonatype.nexus.repository.view.Context.proceed(Context.java:79) [na:na]  at org.sonatype.nexus.repository.partial.PartialFetchHandler.handle(PartialFetchHandler.java:58) [na:na]  at org.sonatype.nexus.repository.view.Context.proceed(Context.java:79) [na:na]  at org.sonatype.nexus.repository.view.handlers.ContentHeadersHandler.handle(ContentHeadersHandler.java:44) [na:na]  at org.sonatype.nexus.repository.view.Context.proceed(Context.java:79) [na:na]  at org.sonatype.nexus.repository.view.handlers.ConditionalRequestHandler.handle(ConditionalRequestHandler.java:72) [na:na]  at org.sonatype.nexus.repository.view.Context.proceed(Context.java:79) [na:na]  at org.sonatype.nexus.repository.view.Context$proceed.call(Unknown Source) [na:na]  at org.sonatype.nexus.repository.docker.internal.V1Handlers$_closure12.doCall(V1Handlers.groovy:181) [na:na]  at sun.reflect.GeneratedMethodAccessor101.invoke(Unknown Source) [na:na]  at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [na:1.8.0_60]  at java.lang.reflect.Method.invoke(Method.java:497) [na:1.8.0_60]  at org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:93) [groovy-all:2.4.4]  at groovy.lang.MetaMethod.doMethodInvoke(MetaMethod.java:325) [groovy-all:2.4.4]  at org.codehaus.groovy.runtime.metaclass.ClosureMetaClass.invokeMethod(ClosureMetaClass.java:294) [na:na]  at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1019) [groovy-all:2.4.4]  at groovy.lang.Closure.call(Closure.java:426) [groovy-all:2.4.4]  at org.codehaus.groovy.runtime.ConvertedClosure.invokeCustom(ConvertedClosure.java:53) [groovy-all:2.4.4]  at org.codehaus.groovy.runtime.ConversionHandler.invoke(ConversionHandler.java:105) [groovy-all:2.4.4]  at com.sun.proxy.$Proxy120.handle(Unknown Source) [na:na]  at org.sonatype.nexus.repository.view.Context.proceed(Context.java:79) [na:na]  at org.sonatype.nexus.repository.view.Context$proceed.call(Unknown Source) [na:na]  at org.sonatype.nexus.repository.docker.internal.V1Handlers$_closure18.doCall(V1Handlers.groovy:248) [na:na]  at sun.reflect.GeneratedMethodAccessor100.invoke(Unknown Source) [na:na]  at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [na:1.8.0_60]  at java.lang.reflect.Method.invoke(Method.java:497) [na:1.8.0_60]  at org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:93) [groovy-all:2.4.4]  at groovy.lang.MetaMethod.doMethodInvoke(MetaMethod.java:325) [groovy-all:2.4.4]  at org.codehaus.groovy.runtime.metaclass.ClosureMetaClass.invokeMethod(ClosureMetaClass.java:294) [na:na]  at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1019) [groovy-all:2.4.4]  at groovy.lang.Closure.call(Closure.java:426) [groovy-all:2.4.4]  at org.codehaus.groovy.runtime.ConvertedClosure.invokeCustom(ConvertedClosure.java:53) [groovy-all:2.4.4]  at org.codehaus.groovy.runtime.ConversionHandler.invoke(ConversionHandler.java:105) [groovy-all:2.4.4]  at com.sun.proxy.$Proxy120.handle(Unknown Source) [na:na]  at org.sonatype.nexus.repository.view.Context.proceed(Context.java:79) [na:na]  at org.sonatype.nexus.repository.negativecache.NegativeCacheHandler.handle(NegativeCacheHandler.java:50) [na:na]  at org.sonatype.nexus.repository.view.Context.proceed(Context.java:79) [na:na]  at org.sonatype.nexus.repository.security.SecurityHandler.handle(SecurityHandler.java:45) [na:na]  at org.sonatype.nexus.repository.view.Context.proceed(Context.java:79) [na:na]  at org.sonatype.nexus.repository.view.Context$proceed.call(Unknown Source) [na:na]  at org.sonatype.nexus.repository.docker.internal.V1Handlers$_closure17.doCall(V1Handlers.groovy:243) [na:na]  at sun.reflect.GeneratedMethodAccessor99.invoke(Unknown Source) [na:na]  at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [na:1.8.0_60]  at java.lang.reflect.Method.invoke(Method.java:497) [na:1.8.0_60]  at org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:93) [groovy-all:2.4.4]  at groovy.lang.MetaMethod.doMethodInvoke(MetaMethod.java:325) [groovy-all:2.4.4]  at org.codehaus.groovy.runtime.metaclass.ClosureMetaClass.invokeMethod(ClosureMetaClass.java:294) [na:na]  at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1019) [groovy-all:2.4.4]  at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1084) [groovy-all:2.4.4]  at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1019) [groovy-all:2.4.4]  at groovy.lang.Closure.call(Closure.java:426) [groovy-all:2.4.4]  at org.codehaus.groovy.runtime.ConvertedClosure.invokeCustom(ConvertedClosure.java:53) [groovy-all:2.4.4]  at org.codehaus.groovy.runtime.ConversionHandler.invoke(ConversionHandler.java:105) [groovy-all:2.4.4]  at com.sun.proxy.$Proxy120.handle(Unknown Source) [na:na]  at org.sonatype.nexus.repository.view.Context.proceed(Context.java:79) [na:na]  at org.sonatype.nexus.repository.view.handlers.TimingHandler.handle(TimingHandler.java:46) [na:na]  at org.sonatype.nexus.repository.view.Context.proceed(Context.java:79) [na:na]  at org.sonatype.nexus.repository.view.Context.start(Context.java:102) [na:na]  at org.sonatype.nexus.repository.view.Router.dispatch(Router.java:58) [na:na]  at org.sonatype.nexus.repository.view.ConfigurableViewFacet.dispatch(ConfigurableViewFacet.java:43) [na:na]  at org.sonatype.nexus.repository.httpbridge.internal.ViewServlet.dispatchAndSend(ViewServlet.java:198) [na:na]  at org.sonatype.nexus.repository.httpbridge.internal.ViewServlet.doService(ViewServlet.java:160) [na:na]  at org.sonatype.nexus.repository.httpbridge.internal.ViewServlet.service(ViewServlet.java:117) [na:na]  at javax.servlet.http.HttpServlet.service(HttpServlet.java:790) [javax.servlet-api:3.1.0]  at com.google.inject.servlet.ServletDefinition.doServiceImpl(ServletDefinition.java:287) [com.google.inject:4.0.0]  at com.google.inject.servlet.ServletDefinition.doService(ServletDefinition.java:277) [com.google.inject:4.0.0]  at com.google.inject.servlet.ServletDefinition.service(ServletDefinition.java:182) [com.google.inject:4.0.0]  at com.google.inject.servlet.DynamicServletPipeline.service(DynamicServletPipeline.java:70) [com.google.inject:4.0.0]  at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:85) [com.google.inject:4.0.0]  at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:112) [org.apache.shiro.web:1.2.4]  at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:82) [com.google.inject:4.0.0]  at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:112) [org.apache.shiro.web:1.2.4]  at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:82) [com.google.inject:4.0.0]  at org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilterChain.java:61) [org.apache.shiro.web:1.2.4]  at org.apache.shiro.web.servlet.AdviceFilter.executeChain(AdviceFilter.java:108) [org.apache.shiro.web:1.2.4]  at org.apache.shiro.web.servlet.AdviceFilter.doFilterInternal(AdviceFilter.java:137) [org.apache.shiro.web:1.2.4]  at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:125) [org.apache.shiro.web:1.2.4]  at org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilterChain.java:66) [org.apache.shiro.web:1.2.4]  at org.apache.shiro.web.servlet.AdviceFilter.executeChain(AdviceFilter.java:108) [org.apache.shiro.web:1.2.4]  at org.apache.shiro.web.servlet.AdviceFilter.doFilterInternal(AdviceFilter.java:137) [org.apache.shiro.web:1.2.4]  at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:125) [org.apache.shiro.web:1.2.4]  at org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilterChain.java:66) [org.apache.shiro.web:1.2.4]  at org.apache.shiro.web.servlet.AdviceFilter.executeChain(AdviceFilter.java:108) [org.apache.shiro.web:1.2.4]  at org.apache.shiro.web.servlet.AdviceFilter.doFilterInternal(AdviceFilter.java:137) [org.apache.shiro.web:1.2.4]  at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:125) [org.apache.shiro.web:1.2.4]  at org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilterChain.java:66) [org.apache.shiro.web:1.2.4]  at org.apache.shiro.web.servlet.AbstractShiroFilter.executeChain(AbstractShiroFilter.java:449) [org.apache.shiro.web:1.2.4]  at org.sonatype.nexus.security.SecurityFilter.executeChain(SecurityFilter.java:85) [org.sonatype.nexus.security:3.0.0.b2015110601]  at org.apache.shiro.web.servlet.AbstractShiroFilter$1.call(AbstractShiroFilter.java:365) [org.apache.shiro.web:1.2.4]  at org.apache.shiro.subject.support.SubjectCallable.doCall(SubjectCallable.java:90) [org.apache.shiro.core:1.2.4]  at org.apache.shiro.subject.support.SubjectCallable.call(SubjectCallable.java:83) [org.apache.shiro.core:1.2.4]  at org.apache.shiro.subject.support.DelegatingSubject.execute(DelegatingSubject.java:383) [org.apache.shiro.core:1.2.4]  at org.apache.shiro.web.servlet.AbstractShiroFilter.doFilterInternal(AbstractShiroFilter.java:362) [org.apache.shiro.web:1.2.4]  at org.sonatype.nexus.security.SecurityFilter.doFilterInternal(SecurityFilter.java:101) [org.sonatype.nexus.security:3.0.0.b2015110601]  at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:125) [org.apache.shiro.web:1.2.4]  at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:82) [com.google.inject:4.0.0]  at com.codahale.metrics.servlet.AbstractInstrumentedFilter.doFilter(AbstractInstrumentedFilter.java:97) [com.codahale.metrics.servlet:3.0.2]  at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:82) [com.google.inject:4.0.0]  at org.sonatype.nexus.internal.web.ErrorPageFilter.doFilter(ErrorPageFilter.java:63) [org.sonatype.nexus.core:3.0.0.b2015110601]  at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:82) [com.google.inject:4.0.0]  at org.sonatype.nexus.internal.web.EnvironmentFilter.doFilter(EnvironmentFilter.java:101) [org.sonatype.nexus.core:3.0.0.b2015110601]  at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:82) [com.google.inject:4.0.0]  at com.google.inject.servlet.DynamicFilterPipeline.dispatch(DynamicFilterPipeline.java:104) [com.google.inject:4.0.0]  at com.google.inject.servlet.GuiceFilter$1.call(GuiceFilter.java:133) [com.google.inject:4.0.0]  at com.google.inject.servlet.GuiceFilter$1.call(GuiceFilter.java:130) [com.google.inject:4.0.0]  at com.google.inject.servlet.GuiceFilter$Context.call(GuiceFilter.java:203) [com.google.inject:4.0.0]  at com.google.inject.servlet.GuiceFilter.doFilter(GuiceFilter.java:130) [com.google.inject:4.0.0]  at org.sonatype.nexus.bootstrap.osgi.DelegatingFilter.doFilter(DelegatingFilter.java:73) [org.sonatype.nexus.bootstrap:3.0.0.b2015110601]  at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1668) [org.eclipse.jetty.servlet:9.3.5.v20151012]  at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:581) [org.eclipse.jetty.servlet:9.3.5.v20151012]  at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143) [org.eclipse.jetty.server:9.3.5.v20151012]  at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:548) [org.eclipse.jetty.security:9.3.5.v20151012]  at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:226) [org.eclipse.jetty.server:9.3.5.v20151012]  at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1158) [org.eclipse.jetty.server:9.3.5.v20151012]  at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:511) [org.eclipse.jetty.servlet:9.3.5.v20151012]  at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:185) [org.eclipse.jetty.server:9.3.5.v20151012]  at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1090) [org.eclipse.jetty.server:9.3.5.v20151012]  at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141) [org.eclipse.jetty.server:9.3.5.v20151012]  at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:119) [org.eclipse.jetty.server:9.3.5.v20151012]  at com.codahale.metrics.jetty9.InstrumentedHandler.handle(InstrumentedHandler.java:175) [com.codahale.metrics.jetty9:3.0.2]  at org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:109) [org.eclipse.jetty.server:9.3.5.v20151012]  at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:119) [org.eclipse.jetty.server:9.3.5.v20151012]  at org.eclipse.jetty.server.Server.handle(Server.java:517) [org.eclipse.jetty.server:9.3.5.v20151012]  at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:306) [org.eclipse.jetty.server:9.3.5.v20151012]  at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:242) [org.eclipse.jetty.server:9.3.5.v20151012]  at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:261) [org.eclipse.jetty.io:9.3.5.v20151012]  at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:95) [org.eclipse.jetty.io:9.3.5.v20151012]  at org.eclipse.jetty.io.ssl.SslConnection.onFillable(SslConnection.java:192) [org.eclipse.jetty.io:9.3.5.v20151012]  at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:261) [org.eclipse.jetty.io:9.3.5.v20151012]  at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:95) [org.eclipse.jetty.io:9.3.5.v20151012]  at org.eclipse.jetty.io.SelectChannelEndPoint$2.run(SelectChannelEndPoint.java:75) [org.eclipse.jetty.io:9.3.5.v20151012]  at org.eclipse.jetty.util.thread.strategy.ExecuteProduceConsume.produceAndRun(ExecuteProduceConsume.java:213) [org.eclipse.jetty.util:9.3.5.v20151012]  at org.eclipse.jetty.util.thread.strategy.ExecuteProduceConsume.run(ExecuteProduceConsume.java:147) [org.eclipse.jetty.util:9.3.5.v20151012]  at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:654) [org.eclipse.jetty.util:9.3.5.v20151012]  at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:572) [org.eclipse.jetty.util:9.3.5.v20151012]  at java.lang.Thread.run(Thread.java:745) [na:1.8.0_60]  {quote}    All works with strict content type validation off.  This is NOT the issue the user was seeing, however, does show a possible issue with content type validation and docker."""
"NEXUS-9545","Bug","RubyGems",1,"concurrent requests to ruby proxy at /api/v1/dependencies resource using the same url can hang","""Configure a rubygems.org proxy repository  Send concurrent requests to this url.    /nexus/content/repositories/rubygems.org/api/v1/dependencies?gems=gem_version,rake,nexus,gherkin,cucumber,bundler,qa_lib_store,qa_steps_support_jruby,qa_steps_files_jruby,qa_steps_remote_jruby,qa_steps_httpcalls_jruby,qa_lib_dbservices_jruby,qa_gridconfig_jruby    - nexus sends outbound requests one at a time for the same url  - most of these timeout after 30 seconds  - client starts to get 503 and 500 responses for some requests  - thread dumps show multiple threads waiting for uid locks    The same test using Nexus 2.5 and OSS rubygems plugin worked fine in this scenario"""
"NEXUS-9544","Bug","Repository Health Check",1,"Hang on analyzing stops all further analysis","""While testing NEXUS-8239, I noticed (#6) that occasionally one of my repos would get """"stuck"""" on """"Analyzing..."""".  Also all the healthcheck tasks end up """"Blocked"""" so no further analysis of any type can be done.  Workaround I've found is if you remove Healthcheck from repos, eventually it'll """"unlock"""" and finish analyzing.    [~alin] attempted a fix based around findings with nuget and asked me to recheck.  I noticed this again (post-fix) with no nuget involved, just Maven.  Attached is a support.zip.  If there's anything else I can provide please let me know.  I have not found a reproducable case for this yet but still seems an issue.    Original #6 text:  {quote}  Joe: 6) Twice now, I've been hung at the """"Analyzing..."""" state. I suspect there may be a conflict with having multiple repos analyzed at once. I don't have a repoducable scenario (yet). This may also be an issue with tasks conflicts that Tamas is working on however the quartz entries in the Nexus log shows everything waiting (while the UI shows everything as blocked). Hopefully can run it down.    Alin: Accidentally I got the same state and looks like it happens when RHC task fails. E.g. I get now an  """"java.lang.IllegalStateException: Missing: {attributes::checksum} sha1""""  Looking into it    Alin: I merged a fix related to nuget assets sha1, https://github.com/sonatype/nexus-internal/pull/385, so please retest if you still get stuck in """"Analysing...""""  {quote}"""
"NEXUS-9541","Improvement","LDAP",1,"allow setting java.naming.referral for LDAP connections","""Nexus 2.11.4-01    We're trying to force the referral setting of LDAP to 'ignore' for all connections instead of the default 'follow'.    According to NEXUS-5870 we should be able to inject additional properties into the LDAP connection context by setting nexus.ldap.env.<property name>    That works - *except* for referral. In  org.sonatype.security.ldap.realms.DefaultLdapContextFactory.getSetupEnvrironment()    You can see the additional properties are added just fine and then the referral setting is overwritten.    Is there a way of setting this in the LDAP configuration?    Thanks"""
"NEXUS-9551","Bug","RubyGems",1,"installing gems with long dependency chains can trigger IOException File name too long","""Using bundler in particular, installing a gem through a rubygems proxy repository in Nexus can cause Nexus to return a 404 response and print java.io.IOException: File name too long in the logs.  """
"NEXUS-9559","Bug","NPM|UI",1,"npm version not found results in error 500","""Noticed that if you hit an npm component whose versions does not exist (cannot be found) you get the attached error 500.  This is different than NuGet (for example) where you get an error 404 (as I expected).  I asked [~cstamas] and he asked me to ticket as this is not expected behavior.    Can reproduce fairly easily by creating an npm proxy (to npmjs.org) and hitting a component with a version that doesn't exist (example: http://localhost:8081/repository/npmproxy/npm/-/npm-18.1.25.tgz)    There is an error in the nexus.log as well (below) however it appears appropriate (warning the package isn't found) to me.  {quote}  2015-12-24 09:33:00,347-0500 WARN  [qtp479482432-288] admin org.sonatype.nexus.repository.httpbridge.internal.ViewServlet - Service failure  java.lang.RuntimeException: java.io.IOException: Could not find package npm version for npm-18.1.25.tgz   at com.google.common.base.Throwables.propagate(Throwables.java:160) [na:na]   at com.sonatype.nexus.repository.npm.internal.NpmProxyFacetImpl.getUrl(NpmProxyFacetImpl.java:127) [na:na]   at org.sonatype.nexus.repository.proxy.ProxyFacetSupport.fetch(ProxyFacetSupport.java:198) [na:na]   at org.sonatype.nexus.repository.proxy.ProxyFacetSupport.get(ProxyFacetSupport.java:163) [na:na]   at org.sonatype.nexus.repository.proxy.ProxyHandler.handle(ProxyHandler.java:48) [na:na]   at org.sonatype.nexus.repository.view.Context.proceed(Context.java:79) [na:na]   at org.sonatype.nexus.repository.storage.UnitOfWorkHandler.handle(UnitOfWorkHandler.java:39) [na:na]   at org.sonatype.nexus.repository.view.Context.proceed(Context.java:79) [na:na]   at org.sonatype.nexus.repository.view.Context$proceed.call(Unknown Source) [na:na]   at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:48) [na:na]   at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:113) [na:na]   at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:117) [na:na]   at com.sonatype.nexus.repository.npm.internal.NpmProxyRecipe$_closure1.doCall(NpmProxyRecipe.groovy:141) [na:na]   at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) [na:1.8.0_40]   at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) [na:1.8.0_40]   at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [na:1.8.0_40]   at java.lang.reflect.Method.invoke(Method.java:497) [na:1.8.0_40]   at org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:93) [na:na]   at groovy.lang.MetaMethod.doMethodInvoke(MetaMethod.java:325) [na:na]   at org.codehaus.groovy.runtime.metaclass.ClosureMetaClass.invokeMethod(ClosureMetaClass.java:294) [na:na]   at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1019) [na:na]   at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1084) [na:na]   at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1019) [na:na]   at groovy.lang.Closure.call(Closure.java:426) [na:na]   at org.codehaus.groovy.runtime.ConvertedClosure.invokeCustom(ConvertedClosure.java:53) [na:na]   at org.codehaus.groovy.runtime.ConversionHandler.invoke(ConversionHandler.java:105) [na:na]   at com.sun.proxy.$Proxy157.handle(Unknown Source) [na:na]   at org.sonatype.nexus.repository.view.Context.proceed(Context.java:79) [na:na]   at org.sonatype.nexus.repository.view.handlers.ContentHeadersHandler.handle(ContentHeadersHandler.java:44) [na:na]   at org.sonatype.nexus.repository.view.Context.proceed(Context.java:79) [na:na]   at org.sonatype.nexus.repository.view.handlers.ConditionalRequestHandler.handle(ConditionalRequestHandler.java:72) [na:na]   at org.sonatype.nexus.repository.view.Context.proceed(Context.java:79) [na:na]   at org.sonatype.nexus.repository.partial.PartialFetchHandler.handle(PartialFetchHandler.java:58) [na:na]   at org.sonatype.nexus.repository.view.Context.proceed(Context.java:79) [na:na]   at org.sonatype.nexus.repository.negativecache.NegativeCacheHandler.handle(NegativeCacheHandler.java:50) [na:na]   at org.sonatype.nexus.repository.view.Context.proceed(Context.java:79) [na:na]   at com.sonatype.nexus.repository.npm.internal.NpmHandlers$1.handle(NpmHandlers.java:110) [na:na]   at org.sonatype.nexus.repository.view.Context.proceed(Context.java:79) [na:na]   at org.sonatype.nexus.repository.security.SecurityHandler.handle(SecurityHandler.java:45) [na:na]   at org.sonatype.nexus.repository.view.Context.proceed(Context.java:79) [na:na]   at org.sonatype.nexus.repository.view.handlers.TimingHandler.handle(TimingHandler.java:46) [na:na]   at org.sonatype.nexus.repository.view.Context.proceed(Context.java:79) [na:na]   at org.sonatype.nexus.repository.view.Context.start(Context.java:102) [na:na]   at org.sonatype.nexus.repository.view.Router.dispatch(Router.java:58) [na:na]   at org.sonatype.nexus.repository.view.ConfigurableViewFacet.dispatch(ConfigurableViewFacet.java:43) [na:na]   at org.sonatype.nexus.repository.httpbridge.internal.ViewServlet.dispatchAndSend(ViewServlet.java:198) [na:na]   at org.sonatype.nexus.repository.httpbridge.internal.ViewServlet.doService(ViewServlet.java:160) [na:na]   at org.sonatype.nexus.repository.httpbridge.internal.ViewServlet.service(ViewServlet.java:117) [na:na]   at javax.servlet.http.HttpServlet.service(HttpServlet.java:790) [javax.servlet-api:3.1.0]   at com.google.inject.servlet.ServletDefinition.doServiceImpl(ServletDefinition.java:287) [com.google.inject:4.0.0]   at com.google.inject.servlet.ServletDefinition.doService(ServletDefinition.java:277) [com.google.inject:4.0.0]   at com.google.inject.servlet.ServletDefinition.service(ServletDefinition.java:182) [com.google.inject:4.0.0]   at com.google.inject.servlet.DynamicServletPipeline.service(DynamicServletPipeline.java:70) [com.google.inject:4.0.0]   at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:85) [com.google.inject:4.0.0]   at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:112) [org.apache.shiro.web:1.2.4]   at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:82) [com.google.inject:4.0.0]   at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:112) [org.apache.shiro.web:1.2.4]   at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:82) [com.google.inject:4.0.0]   at org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilterChain.java:61) [org.apache.shiro.web:1.2.4]   at org.apache.shiro.web.servlet.AdviceFilter.executeChain(AdviceFilter.java:108) [org.apache.shiro.web:1.2.4]   at org.apache.shiro.web.servlet.AdviceFilter.doFilterInternal(AdviceFilter.java:137) [org.apache.shiro.web:1.2.4]   at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:125) [org.apache.shiro.web:1.2.4]   at org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilterChain.java:66) [org.apache.shiro.web:1.2.4]   at org.apache.shiro.web.servlet.AdviceFilter.executeChain(AdviceFilter.java:108) [org.apache.shiro.web:1.2.4]   at org.apache.shiro.web.servlet.AdviceFilter.doFilterInternal(AdviceFilter.java:137) [org.apache.shiro.web:1.2.4]   at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:125) [org.apache.shiro.web:1.2.4]   at org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilterChain.java:66) [org.apache.shiro.web:1.2.4]   at org.apache.shiro.web.servlet.AdviceFilter.executeChain(AdviceFilter.java:108) [org.apache.shiro.web:1.2.4]   at org.apache.shiro.web.servlet.AdviceFilter.doFilterInternal(AdviceFilter.java:137) [org.apache.shiro.web:1.2.4]   at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:125) [org.apache.shiro.web:1.2.4]   at org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilterChain.java:66) [org.apache.shiro.web:1.2.4]   at org.apache.shiro.web.servlet.AbstractShiroFilter.executeChain(AbstractShiroFilter.java:449) [org.apache.shiro.web:1.2.4]   at org.sonatype.nexus.security.SecurityFilter.executeChain(SecurityFilter.java:85) [org.sonatype.nexus.security:3.0.0.SNAPSHOT]   at org.apache.shiro.web.servlet.AbstractShiroFilter$1.call(AbstractShiroFilter.java:365) [org.apache.shiro.web:1.2.4]   at org.apache.shiro.subject.support.SubjectCallable.doCall(SubjectCallable.java:90) [org.apache.shiro.core:1.2.4]   at org.apache.shiro.subject.support.SubjectCallable.call(SubjectCallable.java:83) [org.apache.shiro.core:1.2.4]   at org.apache.shiro.subject.support.DelegatingSubject.execute(DelegatingSubject.java:383) [org.apache.shiro.core:1.2.4]   at org.apache.shiro.web.servlet.AbstractShiroFilter.doFilterInternal(AbstractShiroFilter.java:362) [org.apache.shiro.web:1.2.4]   at org.sonatype.nexus.security.SecurityFilter.doFilterInternal(SecurityFilter.java:101) [org.sonatype.nexus.security:3.0.0.SNAPSHOT]   at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:125) [org.apache.shiro.web:1.2.4]   at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:82) [com.google.inject:4.0.0]   at com.codahale.metrics.servlet.AbstractInstrumentedFilter.doFilter(AbstractInstrumentedFilter.java:97) [com.codahale.metrics.servlet:3.0.2]   at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:82) [com.google.inject:4.0.0]   at org.sonatype.nexus.internal.web.ErrorPageFilter.doFilter(ErrorPageFilter.java:63) [org.sonatype.nexus.core:3.0.0.SNAPSHOT]   at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:82) [com.google.inject:4.0.0]   at org.sonatype.nexus.internal.web.EnvironmentFilter.doFilter(EnvironmentFilter.java:101) [org.sonatype.nexus.core:3.0.0.SNAPSHOT]   at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:82) [com.google.inject:4.0.0]   at com.google.inject.servlet.DynamicFilterPipeline.dispatch(DynamicFilterPipeline.java:104) [com.google.inject:4.0.0]   at com.google.inject.servlet.GuiceFilter$1.call(GuiceFilter.java:133) [com.google.inject:4.0.0]   at com.google.inject.servlet.GuiceFilter$1.call(GuiceFilter.java:130) [com.google.inject:4.0.0]   at com.google.inject.servlet.GuiceFilter$Context.call(GuiceFilter.java:203) [com.google.inject:4.0.0]   at com.google.inject.servlet.GuiceFilter.doFilter(GuiceFilter.java:130) [com.google.inject:4.0.0]   at org.sonatype.nexus.bootstrap.osgi.DelegatingFilter.doFilter(DelegatingFilter.java:73) [org.sonatype.nexus.bootstrap:3.0.0.SNAPSHOT]   at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1668) [org.eclipse.jetty.servlet:9.3.5.v20151012]   at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:581) [org.eclipse.jetty.servlet:9.3.5.v20151012]   at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143) [org.eclipse.jetty.server:9.3.5.v20151012]   at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:548) [org.eclipse.jetty.security:9.3.5.v20151012]   at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:226) [org.eclipse.jetty.server:9.3.5.v20151012]   at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1158) [org.eclipse.jetty.server:9.3.5.v20151012]   at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:511) [org.eclipse.jetty.servlet:9.3.5.v20151012]   at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:185) [org.eclipse.jetty.server:9.3.5.v20151012]   at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1090) [org.eclipse.jetty.server:9.3.5.v20151012]   at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141) [org.eclipse.jetty.server:9.3.5.v20151012]   at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:119) [org.eclipse.jetty.server:9.3.5.v20151012]   at com.codahale.metrics.jetty9.InstrumentedHandler.handle(InstrumentedHandler.java:175) [com.codahale.metrics.jetty9:3.0.2]   at org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:109) [org.eclipse.jetty.server:9.3.5.v20151012]   at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:119) [org.eclipse.jetty.server:9.3.5.v20151012]   at org.eclipse.jetty.server.Server.handle(Server.java:517) [org.eclipse.jetty.server:9.3.5.v20151012]   at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:306) [org.eclipse.jetty.server:9.3.5.v20151012]   at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:242) [org.eclipse.jetty.server:9.3.5.v20151012]   at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:261) [org.eclipse.jetty.io:9.3.5.v20151012]   at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:95) [org.eclipse.jetty.io:9.3.5.v20151012]   at org.eclipse.jetty.io.SelectChannelEndPoint$2.run(SelectChannelEndPoint.java:75) [org.eclipse.jetty.io:9.3.5.v20151012]   at org.eclipse.jetty.util.thread.strategy.ExecuteProduceConsume.produceAndRun(ExecuteProduceConsume.java:213) [org.eclipse.jetty.util:9.3.5.v20151012]   at org.eclipse.jetty.util.thread.strategy.ExecuteProduceConsume.run(ExecuteProduceConsume.java:147) [org.eclipse.jetty.util:9.3.5.v20151012]   at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:654) [org.eclipse.jetty.util:9.3.5.v20151012]   at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:572) [org.eclipse.jetty.util:9.3.5.v20151012]   at java.lang.Thread.run(Thread.java:745) [na:1.8.0_40]  Caused by: java.io.IOException: Could not find package npm version for npm-18.1.25.tgz   at com.sonatype.nexus.repository.npm.internal.NpmProxyFacetImpl.retrievePackageVersionTx(NpmProxyFacetImpl.java:301) [na:na]   at org.sonatype.nexus.transaction.TransactionalWrapper.proceedWithTransaction(TransactionalWrapper.java:54) [na:na]   at org.sonatype.nexus.transaction.TransactionInterceptor.invoke(TransactionInterceptor.java:53) [na:na]   at com.sonatype.nexus.repository.npm.internal.NpmProxyFacetImpl.retrievePackageVersion(NpmProxyFacetImpl.java:285) [na:na]   at com.sonatype.nexus.repository.npm.internal.NpmProxyFacetImpl.getUrl(NpmProxyFacetImpl.java:123) [na:na]   ... 116 common frames omitted  {quote}    I did not check older NX3 or NX2 at this time.  Debug was off during this testing effort."""
"NEXUS-9573","Bug","NPM",2,"all proxied repository items should have ""remoteUrl"" attribute set","""All the cached/proxied items in NX2 should have """"remoteUrl"""" attribute set. Known affected formats so far:  * npm This is the bug in """"alternative"""" npm specific transport, that is used by NPM to circumvent some format peculiarities (and NX2 core deficiencies).    Acceptance Criteria:  * all formats should be reviewed (and fixed where needed) for lack of attribute"""
"NEXUS-9572","Bug","Docker",1,"do not allow arbitrary http access through docker repository specific ports","""If you configure a port on a docker repository, you can also access the rest of Nexus through this port, including the UI.    You can also configure the port to be the same as an existing connector defined manually in jetty.xml.    You cannot configure the port to be the same as another docker repository connector.    Regardless, this is much more access than a docker specific repository port implies.    Suggest we limit accessible URLs through a docker repository port to only those known to map correctly to docker repositories.    Alternately, do we have a use case for allowing to use the same port as one configured in the jetty configuration files manually? The only benefit might be that one might want to reduce the ports to be managed through firewalls. However does this lead to potential exposure to URL conflicts with other parts of Nexus?"""
"NEXUS-9599","Bug","LDAP|UI",0.5,"LDAP's Verify User Mapping shows badly formed results","""Noticed that in Gnarly  the """"Verify user mapping"""" results from LDAP show results however, there's no modal title, columns or close button and the results are half off the screen and unscrollable to.  You can however close the modal with the escape key as a workaround (though there's no workaround I see to seeing the full results or sorting).    This behavior is specific to Gnarly as it works correctly in m6.  I've included screens of both.  [~fmilens] noted this was this way when he started work on NEXUS-9370.    There were a couple LDAP fixes in Gnarly however none I saw/believe specific to this button/modal.  Debug was off during this test.  I cleared my browser cache before each attempt to be sure nothing odd was caching."""
"NEXUS-9610","Technical Debt","UI",1,"Eliminate Ext JS tech debt","""Things to address:    * -Replace toolbar hack which renders the border in feature header- (implemented in migration2 branch)  * -Use {{statics}} to manage modal sizes- (implemented in migration2 branch)  * Prefer {{initComponent}} to class refs ([#451|https://github.com/sonatype/nexus-internal/pull/451]) (implemented in master)"""
"NEXUS-9605","Bug","Database|Scheduled Tasks",2,"Task last run and last result not persisted correctly","""The last run time of scheduled tasks is not persisted correctly. The symptom is that a task runs(starts) on a regular schedule ( ie. weekly) and may have a last run time that is much farther in the past than the actual last start of the task.  h4. Expected    When a task is started and then running while Nexus is stopped, then on restart   - last run time shows when that task was last started   - last result duration will be time of server shutdown ( or very close to it) minus (-) last start time   - last result will NOT be """"Ok"""" since the task was abruptly stopped while running by server shutdown. Error may not be good enough either. Need a state that suggests task was forcibly stopped, not by a request from the UI or REST call, but server shutdown, clean or otherwise."""
"NEXUS-9618","Bug","RubyGems",1,"rubygems proxy repository not found cache not consulted","""Configure this:    rubygems-group ( group repo )  - rubygems.org-proxy -> https://rubygems.org ( member )    Connect to nexus with JMX to monitor the path cache ( see attached ) Object Count attribute.    Configure remote.storage.outbound logger to DEBUG and tail nexus.log.    Request a non-existent gem file.    curl -v -o /dev/null http://localhost:8081/nexus/content/groups/rubygems-group/gems/fake-5.0.1.gem    Expected 404 response.    Notice the path-cache Object Count is now 1.    Delete the cache item to prove that was the path that was cached    curl -v -o /dev/null -X DELETE http://localhost:8081/nexus/service/local/data_cache/repositories/rubygems.org/content/gems/fake-5.0.1.gem -u admin:admin123    Notice the Object Count is 0.    Request the gem two more times. Notice the Object Count becomes 1 as expected.        Notice in the nexus.log, nexus sends the request remote 2 times when only 1 time was expected.    ----    Effectively this means the not-found cache for rubygems proxy repositories is used, but not consulted."""
"NEXUS-9637","Bug","RubyGems",1,"rubygems proxy repository does not respect Artifact Max Age for gem files","""h3. Reproduce    Configure the following:    rubygems-group  - rubygems-proxy ( -> http://rubygems.org )    rubygems-proxy is configured with     Artifact Max Age: -1  Item Max Age: 1440    Configure remote.storage.outbound logger at DEBUG level.    Request a gem file through the group found on rubygems.org    curl -u admin:admin123 http://localhost:8081/nexus/content/repositories/rubygems-group/gems/spreadsheet-1.1.1.gem -o /dev/null -v    This should return 200 response with correct content, and nexus should go remote since it does not have it cached yet.    Confirm the file is now cached at sonatype-work/nexus/storage/rubygems-proxy/gems/s/spreadsheet-1.1.1.gem    Make the same request again. Nexus goes remote again for the same file.    h3. Expected    Since Artifact Max Age is -1, and the gem is already cached, Nexus should not go remote again until the actual gem file itself is no longer in the proxy repository cache or the max age for the specific gem is expired. Nexus should always check local first and serve it if present in storage. Once found, it should not continue to check any other member repositories of a group for the same gem.    Make sure Artifact Max Age works when the proxy is accessed directly also, or there is an equivalent request which requires resolution of the specific gem file requested.    """
"NEXUS-9636","Bug","Security",1,"revert Basic auth realm name change introduced in 2.12.0","""The Nexus Basic Auth realm name changed in version 2.12.0 due to unintended branding changes.    This could affect some use cases where the exact name of the realm was depended on, so we restored the original name to """"Sonatype Nexus Repository Manager""""    Related issue: https://issues.sonatype.org/browse/OSSRH-19926"""
"NEXUS-9634","Bug","Security|Staging",0.5,"/service/local/staging/bulk/promote resource does not check drop privilege","""h3. Problem    If a user is not granted the Staging: Drop Repository privilege, they can still drop a repository upon release of that repository using the /service/local/staging/bulk/promote resource.    h3. Reproduce    Configure a user `sonatype` with UI Basic and a custom staging role:        The user can login to the UI and view the staging repository list. The Drop button is disabled, implying they do not have the drop permission.    However the Release button is not disabled as expected. The Release confirmation dialog includes a checkmark to Automatically Drop a repository upon release. When selected, the repository is dropped upon release, despite the user not having Staging: Drop Repository privilege.    h3. Expected    The bulk/promote resource should only perform the release if the drop checkbox is not selected ( payload implies do not drop) when the user does not have permission to drop a repository. The UI should display a permission error. Keep in mind the maven staging plugin also uses this resource.  """
"NEXUS-9640","Bug","Transport",2,"infinite timeout on sockets performing CONNECT tunneling through a HTTP Proxy server","""h3. Problem    Sockets which perform CONNECT tunneling have an infinite timeout. These sockets could be used whenever Nexus makes a secure TLS connection through a proxy server - for example certificate retriever, automatic routing, repository status checker, etc.     https://en.wikipedia.org/wiki/HTTP_tunnel#HTTP_tunneling_without_using_CONNECT    h3. Symptoms    Thread dumps contain unexplained RUNNABLE threads stuck on socketRead which never go away.        Alternative stack which one may see ( stepping through a debugger can prove the socket being used in this stack also has infinite timeout ). Note the call to 'upgrade' the connection:          h3. Reproduce    - an auto-blocking enabled proxy repository with https remote url  - an HTTP proxy server in Nexus which handles CONNECT tunnel upgrade of the proxy server connection to the secure TLS remote url ( proxy servers must support this if they are to be used with Nexus )  - the HTTP Proxy server hangs on the CONNECT/initial handshake    Simple reproduce is configure Charles Proxy throttling to have Download and Upload speeds of zero ( 0 ). Another alternative is have something listening on the proxy server port which never responds to CONNECT. For example use [bane|https://github.com/danielwellman/bane].        Then refresh the Nexus repository list or reboot Nexus. This causes a status check and a CONNECT which hangs forever.        h3. Supplemental    Connections which do not use CONNECT ( plain http urls ) but attempt to use the Nexus HTTP proxy server which does not respond do have their socket timeout set correctly and respect the standard retries and connect timeout settings in Nexus.    h3. Workaround    Use the plain HTTP remote url of the target repository if one is available. This bypasses CONNECT and the problem.    Do not configure your HTTP proxy or firewall to hang socket connections.  """
"NEXUS-9664","Bug","Documentation",1,"Docker usage with self signed certs","""We have users struggling with this. Usage of insecure config parameter and so on should at least be mentioned.  """
"NEXUS-9652","Bug","Yum",1,"xml:base URL in proxied yum metadata files is not rewritten","""The """"base:xml"""" URL's in proxied yum metadata (repomd/repodata.xml)  are no longer rewritten.  This is a regression from 2.11.0.    Reproduce steps:    # Set up 2.9.1 with base URL forced (this is needed to get base:url set in the metadata)  # Add a hosted yum repository into 2.9.1, populate it with something.  # Now set up 2.12.0 with a yum enabled proxy.    Observe that proxied metadata has xml:base URL of the remote:    {code:XML}  <?xml version=""""1.0"""" encoding=""""UTF-8"""" standalone=""""no""""?><repomd xmlns=""""http://linux.duke.edu/metadata/repo"""" xmlns:rpm=""""http://linux.duke.edu/metadata/rpm"""">   <revision>1452869080</revision>  <data type=""""filelists"""">    <checksum type=""""sha256"""">bdc5e634c890e48f3e30ed99ce39ec19e93c057be28b391a9b786a527e00270d</checksum>    <open-checksum type=""""sha256"""">88e9e1509ddbe17b977d9a3e6da66b6ae76717ac8c4aed248220e1fb5908f304</open-checksum>    <location href=""""repodata/bdc5e634c890e48f3e30ed99ce39ec19e93c057be28b391a9b786a527e00270d-filelists.xml.gz"""" xml:base=""""http://192.168.1.24:8081/nexus/content/repositories/releases""""/>    <timestamp>1452869080</timestamp>    <size>429</size>    <open-size>1482</open-size>  </data>  {code}    This is a regression, in NEXUS-6702 a fix was put in place to remove the xml:base URL from the proxied repomd.xml file.    Note that this will not just affect proxies of older Nexus versions, any remote metadata that has """"base:xml"""" URL set in it's metadata will be affected."""
"NEXUS-9670","Story","UI",2,"Make ESC work in modal dialogs","""Modal dialogs can&rsquo;t be quit by hitting ESC when the &ldquo;x&rdquo; icon is not shown. This is the default behavior for most of our modals, and should not be due to accessibility/usability reasons.    From Jason:    I belive we should use the window.closable:true feature to gain ESC functionality at the expense of the additional (x). I have no issue with the 2 buttons which do the same thing in this case. I prefer it actually. But abs want to ensure that ESC works properly and to hack in our own impl for this would be bloated waste and would rely on private internals of Ext.window.Window which could cause problems for any upgrade.    Acceptance:    * Modal dialogs can be quit with the ESC button   * Choosing to quit a dialog should result in no state change to the system.   ** It is essentially the same as Cancel"""
"NEXUS-9705","Bug","RubyGems",1,"expire cache task on rubygems repositories may lead to /api/v1/dependecies api performance degradation","""h3. Problem    Expiring Cache on a rubygems proxy repository can cause Nexus to make a single HEAD and GET request for every gem and dependency gem referenced by a single request listing gems to */api/v1/dependencies?gems=<list-of-gems>*.    Before the Expire cache task is run, Nexus will not do this. Instead it passes the request to the remote as received.    For example:    - request /api/v1/dependencies?gems=foo,bar  - Nexus passes this single request as is, to any remote repository it is proxying  - Expire Cache on the Nexus repository  - sending the same request to Nexus causes Nexus to send both a HEAD and a GET as follows:  HEAD /api/v1/dependencies?gems=foo  GET /api/v1/dependencies?gems=foo  HEAD /api/v1/dependencies?gems=bar  GET /api/v1/dependencies?gems=bar    For long lists of gems, the many additional outbound requests can lead to a significant drop in response time as compared to when the single request is passed through to the remote 'as is'.    I've attached a jmeter test one can use the reproduce the issue. The attachment also contains a nexus log, conf directory, and csv format of performance data before and after expiring cache.    The key log lines in the attached nexus.log are as follows:        As you can see, it takes 3m47s for the first run, the second run takes 6m33 seconds for the same set of 20 requests repeated 10 times."""
"NEXUS-9717","Bug","NuGet|Search|UI",1,"NuGet custom search shows no results if you come to a custom search with results","""Just noticed that my custom nuget search had no results, despite the fact I had uploaded components earlier.  I was able to repro this behavior by coming into the custom nuget search from another custom search that had results.  If you enter the custom search from a fresh page load or from another custom search with no results everything displays correctly.    See attached vid.    I did not test older versions of NX3 at this time nor did I check NX2."""
"NEXUS-9730","Improvement","Licensing|UI",1,"licensing UI should show distinction between recent connections and total licensed users","""We believe that there is some confusion in the field introduced by the Licensed Connections: field in the Licensing screen of NX2. We license by Users even though we provide a connection count and report as a mechanism for judging compliance.    Current Screen:    !https://sonatype.aha.io:443/attachments/token/2e8f7e1177bda3609e23501d1fe46c0d219dd4b663ea3f7e142b5d7b3785e56c!     Acceptance Criteria:    # Split this into two fields:  ## Licensed Users  ### """"1000 Licensed Users""""  ## Connections  ### """"X Connections"""""""
"NEXUS-9739","Bug","UI",2,"Logging creation message box not fully displayed","""Noticed that when creating a logger the created message box does not show the right border or the close X as the other creation (and deletion, and saving, etc) message boxes do.  I find it unlikely this is intentionally inconsistent because even deletion on the same page shows this border/X.  Filing for eventual investigation.  See attached.  NOTE: Screen is NOT cutoff.    I did not check older NX3 at this time.  This does not affect NX2 (checked 2.12.0-01).  Debug was off during this check.    I also noted this does not happen with Tasks creation (same build)."""
"NEXUS-9741","Bug","NPM",1,"invalid npm search results in 404 error page rather than a handled error","""[~jyoung] noticed in NX3 when you search for an unknown component it returns our 404 html rather than the handled error.    Example of current:      Example of expected:      After checks with [~cstamas] and [~jhesse], he asked me to file if I saw the same (which I do).  I did not back check older versions of NX3, but I recall seeing this for a while and just assumed it was as it was supposed to be.  Might be we deployed this way.  I did not check NX2 at this time."""
"NEXUS-9745","Bug","Repository|UI",2,"URL hostname displayed in repository list cannot be influenced by incoming HTTP headers","""h3. Problem    Login to Nexus 3 at a host name other than localhost. The URL column always lists a hostname matching the hostname that the internal host IP resolves to. In some cases this is literally the IP address that Jetty is listening on, in most cases this is literally 'localhost'.    The point is that the host name does not match the Host headers for the inbound requests rendering the UI.    This means that X-Forwarded-Host values and Host header values have no influence over the URL hostname, making copying and using the URL fundamentally useless for real use cases such as using it with tools.    h3. Expected    Nexus should render the URL with the hostname/IP address being used during access.    Nexus should not render a URL that has no useful purpose to an end user."""
"NEXUS-9754","Story","Crowd|LDAP|Migration",3,"External Realm (LDAP, Crowd) cache duration setting","""*Background*  NX2 allows for the configuration of the LDAP query cache duration (as per http://books.sonatype.com/nexus-book/reference/ldap-sect-enterprise.html). This is pretty important to control the impact of a busy repo manager onto the LDAP server.  The NX3 apparently does have cache support, but lack the ability to control the duration.    *Acceptance*  * NX3 admins can configure the LDAP query cache duration   ** *REFINE* the definition of this field - what zero or -1 means, for instance  * The 2x-3x upgrade process brings this setting over from NX2"""
"NEXUS-9776","Bug","LDAP|UI",1,"LDAP user profile fields are editable (they shouldn't be)","""The fields in an LDAP user's profile n Nexus 3 are all editable, and the save button is enabled.    This shouldn't be the case, LDAP user information is read only.                                                               This was a mapped external user."""
"NEXUS-9774","Bug","Build Tooling|UI",0.5,"UI javascript files are not compressed/minimized","""h3. Problem    Noticed all the Javascript files that are requested using the UI ( ExtJS)  are not of the compressed/condensed form in 2.12.0-01 - previous releases had these compressed to improve UI loading times.    h3. Expected    Javascript files for the UI should be minimized to improve loading times/reduce bandwidth"""
"NEXUS-9770","Bug","LDAP|Security|UI",1,"""User not found"" warning on assign roles to LDAP users ","""When trying to assign a role to a ldap user (ldap2), a warning is given stating that """"User (ldap2) not found"""", but also states that role mapping were updated.    Moving to another page, you have to discard the change, but when you go back to that  ldap users setting, you can see that the role was assigned."""
"NEXUS-9785","Bug","Logging",0.5,"Nexus startup no longer logs the edition","""Nexus had a single log line you could grep for Nexus startup AND determine the edition being started.    OSS      PRO      Now the edition is no longer present and there is no simple way to determine which edition of Nexus the log is from.    In 2.12.0-01, both editions print this:        h3. Expected    Support staff need a way to quickly determine the edition being used only based on a single line of the log file. When this is especially important is during startup where errors may prevent getting a complete support bundle.    h3. Workarounds    - look at the plugins being loaded ( one per plugin) - from the reduced number of these log lines, one can guess that OSS is being used.  - grep for {{org.sonatype.nexus.bootstrap.ConfigurationBuilder -   nexus-app}} and look at the app directory - the path printed at that line may include something like nexus-2.12.0-01-bundle instead of nexus-professional-2.12.0-01-bundle    h3. Other Ideas    If the new line format must be kept, add a new log line with the text """"Nexus Pro"""" so that our old method of grepping for edition can work."""
"NEXUS-9788","Bug","Crowd|LDAP|Security",1,"case insensitive matched userids do not map assigned roles","""Per NEXUS-4115, Nexus needs to allow case insensitive userid matching.    There is a bug in nexus 3 LDAP user role mapping where this fails.    Create an LDAP configuration as in the attached screenshots and map an LDAP user with 'test0002' user id. Assign the user the nx-admin role.    You can successfully authenticate with this user as expected with *test0002*, *TEST0002*, or *tEsT002*, however the roles are not mapped correctly unless you use the exact case userid that was mapped `test0002`.    This results in being able to signin into the UI using any case, but not seeing the Administration cog or getting any admin privileges unless using an exact case match to *test0002*.    h3. Expected    Correctly map all roles to a successfully authenticated user."""
"NEXUS-9787","Bug","OSGI",0.5,"Exception installing JNA native bundle on Windows 2012","""http://stackoverflow.com/questions/35163442/cannot-run-sonatype-nexus-repository-manager-3-0-on-windows-2012  """
"NEXUS-9786","Bug","NPM",1,"IllegalArgumentException Tar does not contains /package.json rebuilding metadata for some npm packages","""I have a pair of npm repository. One of them is a proxy repo to http://registry.npmjs.org  Other is a hosted repo, that is a mirror of the first. Artifacts from first repo is copying to the second.  And than I build metadata on second hosted repository I see error, that some artifact Tar does not contains /package.json (see error.txt attach)  What else, if I unpack a pair of artifact, I can see that they have different structures. ftp-0.3.6.tgz - I can see on hosted repository, ftp-0.3.9.tgz - I couldn't see and have error    2016-02-12 11:14:06 INFO  [ool-1-thread-13] - com.bolyuba.nexus.plugin.npm.hosted.RecreateMetadataWalkerProcessor - Failed to extract or malformed package.json from npmjs:/ftp/-/ftp-0.3.9.tgz    """
"NEXUS-9790","Bug","REST",0.5,"REST client JerseyArtifactMaven does not properly handle packaging parameter","""https://github.com/sonatype/nexus-public/pull/1    The packaging parameter is populated with the version currently. This looks like a typo.  Unsure of where the client code is on master, but this is observed in nexus 2.x for the {{nexus-client-core}}  {{org/sonatype/nexus/client/internal/rest/jersey/subsystem/JerseyArtifactMaven.java}}"""
"NEXUS-9842","Bug","UI",0.5,"Some fields allow adding but not removal via keyboard","""I noticed recently, that on fields which are for numbers that have arrows to increase or decrease, that you can add numbers to them via keyboard but you cannot remove them via delete.  So, in attached screen (for example) I can make Connection/Socket timeout equal to 2 by typing 2 into the field.  I can subsequently make it 20 by adding a 0.  But I cannot make it 2 again by deleting the 0.  If you do this, nothing happens.  Workaround is to use the arrow keys which can be annoying to impossible with bigger numbers (like docker port).  You can now also workaround using provisional scripting.  ADDENDUM: It was noticed while this was in progress you can also workaround this issue by highlighting the number and overwriting it.    I checked m6 and this does not occur there so I believe recent regression.  I did not check m7 or older NX3 at this time.  I also did not check NX2 at this time.  Debug was off during this test."""
"NEXUS-9841","Bug","Repository",0.5,"Pre-defined central proxy has incorrect maximum component age","""The bundled/pre-defined maven proxy for Maven central has Maximum Component age configured to 1440. But the help text says that """"release repositories should use -1"""". Maven central is a release repository and should then use -1 and not 1440."""
"NEXUS-9838","Bug","Docker|Documentation",3,"Invalid scope specification for Docker hub authentication","""*Description*  ----  The Docker proxy recipe for Docker hub may perform a pull using the v1 API for the registry, but not v2.  The basis for this following explanation is the [Docker Registry v2 authentication via central service|https://docs.docker.com/registry/spec/auth/token/] and [Docker Registry v2 Bearer token specification|https://docs.docker.com/registry/spec/auth/jwt/].    When attempt to perform a pull from an official library    {code:bash}  $ docker pull centos:5      The request that should be made is the following    {quote}  https://auth.docker.io/token?service=registry.docker.io&scope=repository:library/centos:pull  {quote}    Notice the inclusion of the library and the result when the token is requested is    {code:json}  {      """"access"""": [          {              """"type"""": """"repository"""",              """"name"""": """"library/centos"""",              """"actions"""": [                  """"pull""""              ]          }      ]  }  {code}    The request for the manifest should also include library    {quote}  GET /v2/library/centos/manifests/5  {quote}    The documentation for 3.0 alludes to the library in _section 9.10. Pulling Images_.  However, the examples do not include the library and, when not included, the application, as it should, reverts to v1 and produces the following warning    {quote}  $ docker pull private-registry:18444/centos:5  ...  private-registry:18444/centos: this image was pulled from a legacy registry.  Important: This registry version will not be supported in future versions of docker.  {quote}    *Suggested Actions*  ----  In order to avoid confusion    * the documentation should be updated to explain the need to include the library registry  * the code should be updated to include library when not specified in the pull request    *Workaround*  ----  In order to avoid falling back to v1 and the warning message, include the library when needed.    {quote}  $ docker pull private-registry:18444/library/centos:5  {quote}"""
"NEXUS-9844","Bug","Repository|UI",0.5,"Wrong max component age pre-set for release Maven proxy","""When creating a Maven Proxy repository it is set as release type by default. However, max component age is then pre-set to 1440 but should be -1 according to the help text.  I think that the Max component age should be set automatically to the recommended value when selecting either release (-1) or snapshot (1440). Not sure how to handle mixed. If not I suspect that a lot of people will have a not-so-good value here.    * If the user enters a value manually, then changing the version policy should not override a value they've already entered."""
"NEXUS-9843","Improvement","Configuration|Repository",0.5,"improve logging when a retry is made in response to remote socket exceptions","""I have latest Nexus OSS version 2.12.0-01. It seems that connection reset during download causing problem. Re-try is not happing.     This can be tested with Smartbearsoftware (Soapui) Maven repository http://smartbearsoftware.com/repository/maven2/    When I try to download this file with browser through Nexus OSS server and connection reset is received from smartbearsoftware url, Nexus does not re-try (for example like Chrome browser or wget works): http://smartbearsoftware.com/repository/maven2/com/smartbear/soapui/soapui/5.1.0/soapui-5.1.0.jar"""
"NEXUS-9847","Bug","Docker",2,"Content validation fails when pushing images from Docker 1.8.2 on RHEL/CentOS 7","""Pushing images from Docker 1.8.2 into Nexus 3.0m7 fails with a content validation error.  Disabling file content validation seems to fix this problem.    I've captured this in a Charles Proxy session, output is attached.        """
"NEXUS-9853","Bug","Blobstore|Configuration|Documentation|UI",1,"Creating a second ""duplicate"" blobstore errors and deletes the path","""While testing the new provisioning API, I created a blobstore for a second time in a test to make sure updates could not be made.  Script was:      The second time I ran this it gave the below error.  In addition to this, I noticed that the location I gave /Users/jtom/Documents/Work/temp was deleted (folder and contents).  The error didn't concern me as much as the deletion, which caused a bunch of test/temp data to be removed.  In a real world scenario, it seems possible to accidentially delete your entire blobstore this way.    This occurs if you do this from the UI as well as if you do this from the provisioning script.  In the event you do this, you also see an error on the screen.  I did not include this below but can if you like.  I did not check this in older versions of NX3.  Blobstores did not exist in NX2 so there's no check there.    Note, you MUST use the same name and location.  If you use a distinct name, no deletion/error occurs.    Please be very careful reproing/testing this and make sure you don't care about the contents of whatever path you use.  Luckily I didn't do /Users/jtom/ or something more broad spanning.  Scary stuff.    {quote}  2016-02-23 13:04:56,246-0500 ERROR [Karaf local console user karaf]  org.apache.karaf.shell.support.ShellUtil - Exception caught while executing command  javax.script.ScriptException: javax.script.ScriptException: com.orientechnologies.orient.core.storage.ORecordDuplicatedException: Cannot index record repository_blobstore{name:test6,type:File,attributes:[1]}: found duplicated key 'test6' in index 'repository_blobstore_name_idx' previously assigned to the record #20:6 RID=#20:6   at org.codehaus.groovy.jsr223.GroovyScriptEngineImpl.eval(GroovyScriptEngineImpl.java:130) [na:na]   at org.sonatype.nexus.internal.script.ScriptServiceImpl.eval(ScriptServiceImpl.java:153) [na:na]   at org.sonatype.nexus.common.script.ScriptService$eval$1.call(Unknown Source) [na:na]   at org.sonatype.nexus.internal.script.ScriptAction.execute(ScriptAction.groovy:119) [na:na]   at org.apache.karaf.shell.impl.action.command.ActionCommand.execute(ActionCommand.java:83) [na:na]   at org.apache.karaf.shell.impl.console.osgi.secured.SecuredCommand.execute(SecuredCommand.java:67) [na:na]   at org.apache.karaf.shell.impl.console.osgi.secured.SecuredCommand.execute(SecuredCommand.java:87) [na:na]   at org.apache.felix.gogo.runtime.Closure.executeCmd(Closure.java:480) [na:na]   at org.apache.felix.gogo.runtime.Closure.executeStatement(Closure.java:406) [na:na]   at org.apache.felix.gogo.runtime.Pipe.run(Pipe.java:108) [na:na]   at org.apache.felix.gogo.runtime.Closure.execute(Closure.java:182) [na:na]   at org.apache.felix.gogo.runtime.Closure.execute(Closure.java:119) [na:na]   at org.apache.felix.gogo.runtime.CommandSessionImpl.execute(CommandSessionImpl.java:94) [na:na]   at org.apache.karaf.shell.impl.console.ConsoleSessionImpl.run(ConsoleSessionImpl.java:270) [na:na]   at java.lang.Thread.run(Thread.java:745) [na:1.8.0_40]  Caused by: javax.script.ScriptException: com.orientechnologies.orient.core.storage.ORecordDuplicatedException: Cannot index record repository_blobstore{name:test6,type:File,attributes:[1]}: found duplicated key 'test6' in index 'repository_blobstore_name_idx' previously assigned to the record #20:6 RID=#20:6   at org.codehaus.groovy.jsr223.GroovyScriptEngineImpl.eval(GroovyScriptEngineImpl.java:326) [na:na]   at org.codehaus.groovy.jsr223.GroovyScriptEngineImpl.eval(GroovyScriptEngineImpl.java:124) [na:na]   ... 14 common frames omitted  Caused by: com.orientechnologies.orient.core.storage.ORecordDuplicatedException: Cannot index record repository_blobstore{name:test6,type:File,attributes:[1]}: found duplicated key 'test6' in index 'repository_blobstore_name_idx' previously assigned to the record #20:6   at com.orientechnologies.orient.core.index.OIndexTxAwareOneValue.checkEntry(OIndexTxAwareOneValue.java:224) [na:na]   at com.orientechnologies.orient.core.index.OClassIndexManager.checkIndexedPropertiesOnCreation(OClassIndexManager.java:341) [na:na]   at com.orientechnologies.orient.core.index.OClassIndexManager.checkIndexes(OClassIndexManager.java:592) [na:na]   at com.orientechnologies.orient.core.index.OClassIndexManager.onRecordBeforeCreate(OClassIndexManager.java:410) [na:na]   at com.orientechnologies.orient.core.hook.ODocumentHookAbstract.onTrigger(ODocumentHookAbstract.java:226) [na:na]   at com.orientechnologies.orient.core.db.document.ODatabaseDocumentTx.callbackHooks(ODatabaseDocumentTx.java:1069) [na:na]   at com.orientechnologies.orient.core.db.document.ODatabaseDocumentTx.executeSaveRecord(ODatabaseDocumentTx.java:1966) [na:na]   at com.orientechnologies.orient.core.tx.OTransactionNoTx.saveRecord(OTransactionNoTx.java:159) [na:na]   at com.orientechnologies.orient.core.db.document.ODatabaseDocumentTx.save(ODatabaseDocumentTx.java:2568) [na:na]   at com.orientechnologies.orient.core.db.document.ODatabaseDocumentTx.save(ODatabaseDocumentTx.java:121) [na:na]   at com.orientechnologies.orient.core.record.impl.ODocument.save(ODocument.java:1768) [na:na]   at com.orientechnologies.orient.core.record.impl.ODocument.save(ODocument.java:1759) [na:na]   at org.sonatype.nexus.orient.entity.EntityAdapter.writeEntity(EntityAdapter.java:187) [na:na]   at org.sonatype.nexus.orient.entity.EntityAdapter.addEntity(EntityAdapter.java:215) [na:na]   at org.sonatype.nexus.internal.blobstore.BlobStoreConfigurationStoreImpl.create(BlobStoreConfigurationStoreImpl.java:82) [na:na]   at org.sonatype.nexus.common.stateguard.MethodInvocationAction.run(MethodInvocationAction.java:39) [na:na]   at org.sonatype.nexus.common.stateguard.StateGuard$GuardImpl.run(StateGuard.java:270) [na:na]   at org.sonatype.nexus.common.stateguard.GuardedInterceptor.invoke(GuardedInterceptor.java:53) [na:na]   at org.sonatype.nexus.internal.blobstore.BlobStoreManagerImpl.create(BlobStoreManagerImpl.java:139) [na:na]   at org.sonatype.nexus.common.stateguard.MethodInvocationAction.run(MethodInvocationAction.java:39) [na:na]   at org.sonatype.nexus.common.stateguard.StateGuard$GuardImpl.run(StateGuard.java:270) [na:na]   at org.sonatype.nexus.common.stateguard.GuardedInterceptor.invoke(GuardedInterceptor.java:53) [na:na]   at org.sonatype.nexus.blobstore.api.BlobStoreManager$create$6.call(Unknown Source) [na:na]   at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:48) [na:na]   at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:113) [na:na]   at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:125) [na:na]   at org.sonatype.nexus.internal.provisioning.BlobStoreApiImpl.createFileBlobStore(BlobStoreApiImpl.groovy:40) [na:na]   at org.sonatype.nexus.BlobStoreApi$createFileBlobStore.call(Unknown Source) [na:na]   at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:48) [na:na]   at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:113) [na:na]   at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:133) [na:na]   at Script34.run(Script34.groovy:10) [na:na]   at org.codehaus.groovy.jsr223.GroovyScriptEngineImpl.eval(GroovyScriptEngineImpl.java:323) [na:na]   ... 15 common frames omitted  {color:red}Error executing command: javax.script.ScriptException: com.orientechnologies.orient.core.storage.ORecordDuplicatedException: Cannot index record repository_blobstore{name:test6,type:File,attributes:[1]}: found duplicated key 'test6' in index 'repository_blobstore_name_idx' previously assigned to the record #20:6 RID=#20:6{color}  {quote}"""
"NEXUS-9863","Bug","LDAP|UI",0.5,"Change order of LDAP connections does not refresh list","""Follow these steps to replicate:    - Create  ldap configuration A, it will have order value of 1  - Create LDAP configuration B, it will have order value of 2  - Press 'Change order' button  - in the dialog change it so that B is above A (B has value 1, A value 2)  - Press save    Observe how the order in the list is NOT changed.    Now press the refresh icon in the UI nav bar.    The order is changed to the correct value."""
"NEXUS-9862","Story","NPM",5,"support npm dist-tag command","""*Acceptance*  * NXRM supports {{npm dist-tag add}}, {{npm dist-tag ls}}, {{npm dist-tag rm}}  * A user can add multiple tags to a package  * A user can install  by tag (with 'latest' being the default)  * in general, this command behaves as described in https://docs.npmjs.com/cli/dist-tag  * npm dist-tag ls should work against proxy, hosted and group repositories.  * npm dist-tag add, rm should work against hosted repositories."""
"NEXUS-9856","Bug","NPM|Scheduled Tasks",0.5,"running rebuild npm hosted metadata scheduled task can change repository value","""I make several scheduled task with type Rebuild hosted npm metadata/  Choose different repository on them.  Run one of tasks.  I see that Repository parameters is change in all Rebuild hosted npm metadata tasks and value of Repository in all tasks is a value from last run schedule.  """
"NEXUS-9865","Bug","RubyGems",0.5,"InvalidPathException prevents installing gems when Nexus is running on Windows","""Install Nexus 2.12.0-01 on Windows.  [Install Nexus 2.12.0-01 rubygems rollup patch.|https://support.sonatype.com/hc/en-us/articles/216185198-Nexus-Repository-Manager-2-12-0-01-RubyGems-plugin-rollup-patch]  Create a Rubygems proxy repo to https://rubygems.org  Create a Rubygems group repo with the proxy repo as member.  Install Rubygems on Windows.  Add the group repo as a source ie. gem sources --add http://localhost:8081/nexus/content/repositories/ruby-group  Remove the default source (optional) gem sources --remove https://rubygems.org  Issue a command to install a gem.    gem install bundle    Client response is:        Stack Trace in nexus.log is:    """
"NEXUS-9874","Bug","UI",2,"Rebrand can leave cached header image","""While testing the rebranded NX3 UI, various team members noticed that in some browser/OS permutations, the header image was cached leaving the old N image and no version (see attached).  If dev believes this should be 2 different tickets (or wants me to make subtasks) let me know.  This did not happen in all browser/OS permutations.    You can force this to happen by clearing browser cache, loading a pre-rebrand version of Nexus to get the N image there and then loading the new version of Nexus.    See attached let me know if unclear.    As far as I can tell this does not affect the 404 page or the describe page which I think are templated slightly differnetly, so that may help.  It may affect them and I did not have them cached tho...I am not 100% certain of that and have not double checked."""
"NEXUS-9873","Story","Blobstore|Documentation|UI",0.5,"If there is only one blobstore then just select it in the new repository screen","""Every time I create a repository I have to select the blobstore, which is pretty annoying.  Granted, if there are multiple blobstores defined this isn't easily avoidable.  But I'm betting 90% of our users will only ever have one.      If there is only one blobstore available we should just select it in the new repository screen, rather than forcing the user to do it."""
"NEXUS-9872","Improvement","Docker|Logging",1,"misconfigured docker proxy URL should log more details about critical failures at default log levels","""Create a Docker proxy repository using [https://registry.hub.docker.com|https://registry.hub.docker.com/] instead of [https://registry-1.docker.io|https://registry-1.docker.io/] .    Do a pull with docker and the nexus.log will contain some WARN messages that are not helpful to understand what is wrong.    The Docker client merely reports the image is not found.    Now change the ROOT logger to DEBUG in nexus and you get more exact information that the remote content is not in the expected format, albeit the error is still obfuscated even for a nexus administrator:    h3. Problem    For unexpected conditions, Nexus WARN level nexus.log message is not providing enough detail at default log levels in order to diagnose the real problem. This leads to a support ticket and investigation.  h3. Expected    When the configured Docker registry URL does not respond in the expected manner according to the supported API, then Nexus should log a more exact WARN level message with stack trace or better summary message describing the problem.    WARN or ERROR Log messages about critical failures should not merely repeat what a client tool message already explains.    *Note that [https://registry.hub.docker.com|https://registry.hub.docker.com/] is NOT a valid endpoint for supported API*    Suggested log message instead of """"Tag not found"""" or """"invalid data"""" _when the remote does not return valid data_:    It is debateable, that a 500 error be returned to the client instead of 404 when Nexus is knowingly misconfigured. However it is standard practice that when Nexus cannot find content for whatever reason, it returns 404. ( the fix keeps 404 being returned )"""
"NEXUS-9870","Story","Documentation",0.5,"rewrite ssl tips for Docker","""I recently created new advice for using SSL with Docker.    https://support.sonatype.com/hc/en-us/articles/217542177    Now we need to rewrite the book section    https://books.sonatype.com/nexus-book/3.0/reference/docker.html#_tips_for_ssl_certificate_usage"""
"NEXUS-9876","Bug","Documentation",0.5,"Incorrect config path in the documentation for ""How to Enable the HTTPS Connector""","""In section """"How to Enable the HTTPS Connector"""", Step 3 says to add """"{karaf.etc}/etc/jetty-https.xml"""" to the config file $install-dir/etc/org.sonatype.nexus.cfg, but the other references in that file do not have the /etc/.    This needs to be corrected to """"{karaf.etc}/jetty-http.xml"""".    https://books.sonatype.com/nexus-book/3.0/reference/security.html#ssl-inbound"""
"NEXUS-9902","Bug","UI",2,"Non-editable privilege fields show as editable","""I noticed that in repository admin and repository view default privileges showed the repository field non-grey so appeared editable on the quick.  More careful inspection reveals that the field is a dropdown and interaction with it is not possible, however, it still does not have the same treatment as the other non-editable fields.    Field of the same type (dropdown) appears as non-editable in repository (in the blobstore field) once you create the repository, so I do believe this is possible to fix.    Noticed while testing [-NEXUS-9858-|https://issues.sonatype.org/browse/NEXUS-9858] but filing seperately after talking to [Frederick Milens|https://issues.sonatype.org/secure/ViewProfile.jspa?name=fmilens] .    I did not check older NX3 or NX2 at this time. Debug was off for this test."""
"NEXUS-9944","Bug","Docker|UI",1,"Cannot edit docker repository","""I just noticed that if you're attempting to edit a docker repository, the port has validation over it that says """"Port is already in use"""" and thus the saves cannot happen.  Really annoying workaround is to delete the repo and recreate it.  I doubt that will fly in a production env.  Less (but still) annoying workaround is to change the port 1 number and make your changes then edit it back up and save again.    I did not check older NX3 at this time but I suspect this is regression caused by a too tight NEXUS-9572.  No docker in NX2 so no test needed there.  Debug was off during this test.    From nexus.log  {quote}  2016-03-22 13:52:34,086-0400 WARN  [qtp872875942-278] admin org.sonatype.nexus.repository.docker.internal.DockerConnectorFacetImpl - Validation failed; 1 constraints violated:    1) Port is already in use, type: class org.sonatype.nexus.validation.ConstraintViolationFactory$HelperBean, property: attributes.docker.httpsPort, value: org.sonatype.nexus.validation.ConstraintViolationFactory$HelperBean@2967a181  {quote}"""
"NEXUS-9961","Story","Repository|Security",8,"Collapse Add/Edit privilege distinction","""I created a new raw hosted repository and then created a new role with read and edit repository view privileges to that new repository. Then I created a new user and gave it that new role.  I noticed that I was able to add a file to that raw repository despite not having add privilege. As far as I know, add is not contained in edit and this seems a bug.  I did not back check older NX3 or NX2 at this time. NX2 did use CRUD rather than BREAD which is testable however not sure the comparison is worth it unless to regression check."""
"NEXUS-9964","Bug","Installer",0.5,"increase default max heap for Nexus","""In our support experience the default heap of Nexus of 768MB is too low for the majority of production installations.    We should increase this default to some value between 1GB and 2GB before Nexus 3 is released.    Any book or articles which reference the default for nexus 3 should be updated if changed. (ie system requirements ).  """
"NEXUS-9967","Bug","Bootstrap",0.5,"com.sun.jndi.ldap.connect.pool.protocol in etc/system.properties has quotes around its value (it shouldn't)","""In etc/system.properties we have:         This results in the system property actually getting set to """"plain ssl"""" (with quotes), you can verify this using the """"support/system information"""" UI    If the quotes are removed the value shows up correctly in the """"support/system information"""" UI, no quotes are present.    I'm pretty sure this means LDAP connection pooling is not currently enabled in Nexus 3m7."""
"NEXUS-9971","Bug","LDAP",0.5,"Error on LDAP Realm activeness; can stop LDAP logins","""I noticed the below error when I have the LDAP realm active.  This occurs whether or not I have an LDAP configured (validly or invalidly).  As far as I can tell there's no adverse behavior occurring with this enabled, which prompts me to file to make sure everything is OK and if so, have it tempered and if not have it investigated.    NOTE: This error occurs before the Nexus has started seperation.    I checked m7 and this is occurring there.  It's also occurring with rut-auth realm despite the fact the rut-auth realm isn't enabled.  I did not see that similar behavior with Homeslice, so it's possible this was partially fixed (or my applications are just at different configured states).  I didn't check further back than that.  I also didn't check NX2.    {quote}  2016-03-21 16:07:48,344-0400 ERROR [FelixStartLevel] *SYSTEM org.sonatype.nexus.security.internal.RealmManagerImpl - Unable to lookup security realms  java.lang.ClassNotFoundException: LdapRealm   at java.lang.ClassLoader.findClass(ClassLoader.java:530) [na:1.8.0_40]   at java.lang.ClassLoader.loadClass(ClassLoader.java:424) [na:1.8.0_40]   at com.google.inject.internal.BytecodeGen$BridgeClassLoader.classicLoadClass(BytecodeGen.java:331) [na:na]   at com.google.inject.internal.BytecodeGen$BridgeClassLoader.loadClass(BytecodeGen.java:325) [na:na]   at java.lang.ClassLoader.loadClass(ClassLoader.java:357) [na:1.8.0_40]   at org.sonatype.nexus.security.internal.RealmManagerImpl.resolveRealms(RealmManagerImpl.java:212) [org.sonatype.nexus.security:3.0.0.SNAPSHOT]   at org.sonatype.nexus.security.internal.RealmManagerImpl.installRealms(RealmManagerImpl.java:190) [org.sonatype.nexus.security:3.0.0.SNAPSHOT]   at org.sonatype.nexus.security.internal.RealmManagerImpl.doStart(RealmManagerImpl.java:93) [org.sonatype.nexus.security:3.0.0.SNAPSHOT]   at org.sonatype.nexus.common.stateguard.StateGuardLifecycleSupport.start(StateGuardLifecycleSupport.java:67) [org.sonatype.nexus.common:3.0.0.SNAPSHOT]   at org.sonatype.nexus.security.internal.RealmManagerImpl$$EnhancerByGuice$$b5f6f1e0.CGLIB$start$11(<generated>) [!/:na]   at org.sonatype.nexus.security.internal.RealmManagerImpl$$EnhancerByGuice$$b5f6f1e0$$FastClassByGuice$$6b159d10.invoke(<generated>) [!/:na]   at com.google.inject.internal.cglib.proxy.$MethodProxy.invokeSuper(MethodProxy.java:228) [com.google.inject:4.0.0]   at com.google.inject.internal.InterceptorStackCallback$InterceptedMethodInvocation.proceed(InterceptorStackCallback.java:75) [com.google.inject:4.0.0]   at org.sonatype.nexus.common.stateguard.MethodInvocationAction.run(MethodInvocationAction.java:39) [org.sonatype.nexus.common:3.0.0.SNAPSHOT]   at org.sonatype.nexus.common.stateguard.StateGuard$TransitionImpl.run(StateGuard.java:191) [org.sonatype.nexus.common:3.0.0.SNAPSHOT]   at org.sonatype.nexus.common.stateguard.TransitionsInterceptor.invoke(TransitionsInterceptor.java:56) [org.sonatype.nexus.common:3.0.0.SNAPSHOT]   at com.google.inject.internal.InterceptorStackCallback$InterceptedMethodInvocation.proceed(InterceptorStackCallback.java:75) [com.google.inject:4.0.0]   at com.google.inject.internal.InterceptorStackCallback.intercept(InterceptorStackCallback.java:55) [com.google.inject:4.0.0]   at org.sonatype.nexus.security.internal.RealmManagerImpl$$EnhancerByGuice$$b5f6f1e0.start(<generated>) [!/:na]   at org.sonatype.nexus.security.internal.DefaultSecuritySystem.doStart(DefaultSecuritySystem.java:115) [org.sonatype.nexus.security:3.0.0.SNAPSHOT]   at org.sonatype.goodies.lifecycle.LifecycleSupport.start(LifecycleSupport.java:104) [org.sonatype.goodies.lifecycle:2.1.0.SNAPSHOT]   at org.sonatype.nexus.extender.NexusLifecycleManager.startComponent(NexusLifecycleManager.java:154) [org.sonatype.nexus.extender:3.0.0.SNAPSHOT]   at org.sonatype.nexus.extender.NexusLifecycleManager.to(NexusLifecycleManager.java:94) [org.sonatype.nexus.extender:3.0.0.SNAPSHOT]   at org.sonatype.nexus.extender.NexusContextListener.contextInitialized(NexusContextListener.java:152) [org.sonatype.nexus.extender:3.0.0.SNAPSHOT]   at org.sonatype.nexus.bootstrap.osgi.ListenerTracker.addingService(ListenerTracker.java:47) [org.sonatype.nexus.bootstrap:3.0.0.SNAPSHOT]   at org.sonatype.nexus.bootstrap.osgi.ListenerTracker.addingService(ListenerTracker.java:1) [org.sonatype.nexus.bootstrap:3.0.0.SNAPSHOT]   at org.osgi.util.tracker.ServiceTracker$Tracked.customizerAdding(ServiceTracker.java:941) [org.osgi.core-6.0.0.jar:na]   at org.osgi.util.tracker.ServiceTracker$Tracked.customizerAdding(ServiceTracker.java:870) [org.osgi.core-6.0.0.jar:na]   at org.osgi.util.tracker.AbstractTracked.trackAdding(AbstractTracked.java:256) [org.osgi.core-6.0.0.jar:na]   at org.osgi.util.tracker.AbstractTracked.track(AbstractTracked.java:229) [org.osgi.core-6.0.0.jar:na]   at org.osgi.util.tracker.ServiceTracker$Tracked.serviceChanged(ServiceTracker.java:901) [org.osgi.core-6.0.0.jar:na]   at org.apache.felix.framework.util.EventDispatcher.invokeServiceListenerCallback(EventDispatcher.java:991) [org.apache.felix.framework-5.4.0.jar:na]   at org.apache.felix.framework.util.EventDispatcher.fireEventImmediately(EventDispatcher.java:839) [org.apache.felix.framework-5.4.0.jar:na]   at org.apache.felix.framework.util.EventDispatcher.fireServiceEvent(EventDispatcher.java:546) [org.apache.felix.framework-5.4.0.jar:na]   at org.apache.felix.framework.Felix.fireServiceEvent(Felix.java:4557) [org.apache.felix.framework-5.4.0.jar:na]   at org.apache.felix.framework.Felix.registerService(Felix.java:3549) [org.apache.felix.framework-5.4.0.jar:na]   at org.apache.felix.framework.BundleContextImpl.registerService(BundleContextImpl.java:348) [org.apache.felix.framework-5.4.0.jar:na]   at org.sonatype.nexus.extender.NexusBundleExtender.start(NexusBundleExtender.java:54) [org.sonatype.nexus.extender:3.0.0.SNAPSHOT]   at org.apache.felix.framework.util.SecureAction.startActivator(SecureAction.java:697) [org.apache.felix.framework-5.4.0.jar:na]   at org.apache.felix.framework.Felix.activateBundle(Felix.java:2226) [org.apache.felix.framework-5.4.0.jar:na]   at org.apache.felix.framework.Felix.startBundle(Felix.java:2144) [org.apache.felix.framework-5.4.0.jar:na]   at org.apache.felix.framework.Felix.setActiveStartLevel(Felix.java:1371) [org.apache.felix.framework-5.4.0.jar:na]   at org.apache.felix.framework.FrameworkStartLevelImpl.run(FrameworkStartLevelImpl.java:308) [org.apache.felix.framework-5.4.0.jar:na]   at java.lang.Thread.run(Thread.java:745) [na:1.8.0_40]  {quote}"""
"NEXUS-9993","Bug","Proxy Repository|UI",0.5,"proxy repository HTTP request settings form fields cannot be saved","""I noticed that if you attempt to enter a value into """"Connection timeout:"""" field within the """"HTTP request settings"""" section of a proxy repository configuration you get an error """"Failed to Validate Facets, 1 Failure"""" and the below in the nexus.log.    This occurs with debug on or off.  I did not check older NX3 at this time.  This does not occur in NX2(12.1).    {quote}  2016-03-25 16:24:47,155-0400 ERROR [qtp1034682762-1599] admin org.sonatype.nexus.repository.manager.RepositoryImpl - Failed to validate facet: org.sonatype.nexus.repository.httpclient.HttpClientFacetImpl$$EnhancerByGuice$$c1b95983@64d9fd78  java.lang.IllegalArgumentException: Can not instantiate value of type [simple type, class org.sonatype.goodies.common.Time] from Floating-point number (100.0); no one-double/Double-arg constructor/factory method   at [Source: N/A; line: -1, column: -1] (through reference chain: org.sonatype.nexus.repository.httpclient.Config[""""connection""""]->org.sonatype.nexus.httpclient.config.ConnectionConfiguration[""""timeout""""])   at com.fasterxml.jackson.databind.ObjectMapper._convert(ObjectMapper.java:3512) [na:na]   at com.fasterxml.jackson.databind.ObjectMapper.convertValue(ObjectMapper.java:3431) [na:na]   at org.sonatype.nexus.repository.config.ConfigurationFacetImpl.convert(ConfigurationFacetImpl.java:72) [na:na]   at org.sonatype.nexus.repository.config.ConfigurationFacetImpl.readSection(ConfigurationFacetImpl.java:81) [na:na]   at org.sonatype.nexus.repository.config.ConfigurationFacetImpl.validateSection(ConfigurationFacetImpl.java:118) [na:na]   at org.sonatype.nexus.repository.httpclient.HttpClientFacetImpl.doValidate(HttpClientFacetImpl.java:84) [na:na]   at org.sonatype.nexus.repository.FacetSupport.validate(FacetSupport.java:112) [na:na]   at org.sonatype.nexus.common.stateguard.MethodInvocationAction.run(MethodInvocationAction.java:39) [na:na]   at org.sonatype.nexus.common.stateguard.StateGuard$GuardImpl.run(StateGuard.java:270) [na:na]   at org.sonatype.nexus.common.stateguard.GuardedInterceptor.invoke(GuardedInterceptor.java:53) [na:na]   at org.sonatype.nexus.repository.manager.RepositoryImpl.validate(RepositoryImpl.java:160) [na:na]   at org.sonatype.nexus.repository.manager.RepositoryManagerImpl.update(RepositoryManagerImpl.java:277) [na:na]   at org.sonatype.nexus.common.stateguard.MethodInvocationAction.run(MethodInvocationAction.java:39) [na:na]   at org.sonatype.nexus.common.stateguard.StateGuard$GuardImpl.run(StateGuard.java:270) [na:na]   at org.sonatype.nexus.common.stateguard.GuardedInterceptor.invoke(GuardedInterceptor.java:53) [na:na]   at org.sonatype.nexus.repository.manager.RepositoryManager$update$7.call(Unknown Source) [na:na]   at org.sonatype.nexus.coreui.RepositoryComponent.update(RepositoryComponent.groovy:147) [na:na]   at org.sonatype.nexus.validation.internal.ValidationInterceptor.invoke(ValidationInterceptor.java:53) [org.hibernate.validator:5.1.2.Final]   at org.apache.shiro.guice.aop.AopAllianceMethodInvocationAdapter.proceed(AopAllianceMethodInvocationAdapter.java:49) [na:na]   at org.apache.shiro.authz.aop.AuthorizingAnnotationMethodInterceptor.invoke(AuthorizingAnnotationMethodInterceptor.java:68) [na:na]   at org.apache.shiro.guice.aop.AopAllianceMethodInterceptorAdapter.invoke(AopAllianceMethodInterceptorAdapter.java:36) [na:na]   at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) [na:1.8.0_40]   at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) [na:1.8.0_40]   at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [na:1.8.0_40]   at java.lang.reflect.Method.invoke(Method.java:497) [na:1.8.0_40]   at com.softwarementors.extjs.djn.router.dispatcher.DispatcherBase.invokeJavaMethod(DispatcherBase.java:142) [org.sonatype.nexus.extdirect:3.0.0.SNAPSHOT]   at com.softwarementors.extjs.djn.router.dispatcher.DispatcherBase.invokeMethod(DispatcherBase.java:133) [org.sonatype.nexus.extdirect:3.0.0.SNAPSHOT]   at org.sonatype.nexus.extdirect.internal.ExtDirectServlet$3.invokeMethod(ExtDirectServlet.java:221) [org.sonatype.nexus.extdirect:3.0.0.SNAPSHOT]   at com.softwarementors.extjs.djn.router.dispatcher.DispatcherBase.dispatch(DispatcherBase.java:63) [org.sonatype.nexus.extdirect:3.0.0.SNAPSHOT]   at com.softwarementors.extjs.djn.router.processor.standard.StandardRequestProcessorBase.dispatchStandardMethod(StandardRequestProcessorBase.java:73) [org.sonatype.nexus.extdirect:3.0.0.SNAPSHOT]   at com.softwarementors.extjs.djn.router.processor.standard.json.JsonRequestProcessor.processIndividualRequest(JsonRequestProcessor.java:502) [org.sonatype.nexus.extdirect:3.0.0.SNAPSHOT]   at com.softwarementors.extjs.djn.router.processor.standard.json.JsonRequestProcessor.processIndividualRequestsInThisThread(JsonRequestProcessor.java:150) [org.sonatype.nexus.extdirect:3.0.0.SNAPSHOT]   at com.softwarementors.extjs.djn.router.processor.standard.json.JsonRequestProcessor.process(JsonRequestProcessor.java:133) [org.sonatype.nexus.extdirect:3.0.0.SNAPSHOT]   at com.softwarementors.extjs.djn.router.RequestRouter.processJsonRequest(RequestRouter.java:83) [org.sonatype.nexus.extdirect:3.0.0.SNAPSHOT]   at com.softwarementors.extjs.djn.servlet.DirectJNgineServlet.processRequest(DirectJNgineServlet.java:617) [org.sonatype.nexus.extdirect:3.0.0.SNAPSHOT]   at com.softwarementors.extjs.djn.servlet.DirectJNgineServlet.doPost(DirectJNgineServlet.java:580) [org.sonatype.nexus.extdirect:3.0.0.SNAPSHOT]   at org.sonatype.nexus.extdirect.internal.ExtDirectServlet.doPost(ExtDirectServlet.java:127) [org.sonatype.nexus.extdirect:3.0.0.SNAPSHOT]   at javax.servlet.http.HttpServlet.service(HttpServlet.java:707) [javax.servlet-api:3.1.0]   at javax.servlet.http.HttpServlet.service(HttpServlet.java:790) [javax.servlet-api:3.1.0]   at com.google.inject.servlet.ServletDefinition.doServiceImpl(ServletDefinition.java:287) [com.google.inject:4.0.0]   at com.google.inject.servlet.ServletDefinition.doService(ServletDefinition.java:277) [com.google.inject:4.0.0]   at com.google.inject.servlet.ServletDefinition.service(ServletDefinition.java:182) [com.google.inject:4.0.0]   at com.google.inject.servlet.DynamicServletPipeline.service(DynamicServletPipeline.java:71) [com.google.inject:4.0.0]   at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:85) [com.google.inject:4.0.0]   at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:112) [org.apache.shiro.web:1.2.4]   at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:82) [com.google.inject:4.0.0]   at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:112) [org.apache.shiro.web:1.2.4]   at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:82) [com.google.inject:4.0.0]   at org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilterChain.java:61) [org.apache.shiro.web:1.2.4]   at org.apache.shiro.web.servlet.AdviceFilter.executeChain(AdviceFilter.java:108) [org.apache.shiro.web:1.2.4]   at org.apache.shiro.web.servlet.AdviceFilter.doFilterInternal(AdviceFilter.java:137) [org.apache.shiro.web:1.2.4]   at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:125) [org.apache.shiro.web:1.2.4]   at org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilterChain.java:66) [org.apache.shiro.web:1.2.4]   at org.apache.shiro.web.servlet.AbstractShiroFilter.executeChain(AbstractShiroFilter.java:449) [org.apache.shiro.web:1.2.4]   at org.sonatype.nexus.security.SecurityFilter.executeChain(SecurityFilter.java:85) [org.sonatype.nexus.security:3.0.0.SNAPSHOT]   at org.apache.shiro.web.servlet.AbstractShiroFilter$1.call(AbstractShiroFilter.java:365) [org.apache.shiro.web:1.2.4]   at org.apache.shiro.subject.support.SubjectCallable.doCall(SubjectCallable.java:90) [org.apache.shiro.core:1.2.4]   at org.apache.shiro.subject.support.SubjectCallable.call(SubjectCallable.java:83) [org.apache.shiro.core:1.2.4]   at org.apache.shiro.subject.support.DelegatingSubject.execute(DelegatingSubject.java:383) [org.apache.shiro.core:1.2.4]   at org.apache.shiro.web.servlet.AbstractShiroFilter.doFilterInternal(AbstractShiroFilter.java:362) [org.apache.shiro.web:1.2.4]   at org.sonatype.nexus.security.SecurityFilter.doFilterInternal(SecurityFilter.java:101) [org.sonatype.nexus.security:3.0.0.SNAPSHOT]   at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:125) [org.apache.shiro.web:1.2.4]   at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:82) [com.google.inject:4.0.0]   at com.codahale.metrics.servlet.AbstractInstrumentedFilter.doFilter(AbstractInstrumentedFilter.java:97) [com.codahale.metrics.servlet:3.0.2]   at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:82) [com.google.inject:4.0.0]   at org.sonatype.nexus.internal.web.ErrorPageFilter.doFilter(ErrorPageFilter.java:63) [org.sonatype.nexus.base:3.0.0.SNAPSHOT]   at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:82) [com.google.inject:4.0.0]   at org.sonatype.nexus.internal.web.EnvironmentFilter.doFilter(EnvironmentFilter.java:97) [org.sonatype.nexus.base:3.0.0.SNAPSHOT]   at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:82) [com.google.inject:4.0.0]   at com.google.inject.servlet.DynamicFilterPipeline.dispatch(DynamicFilterPipeline.java:104) [com.google.inject:4.0.0]   at com.google.inject.servlet.GuiceFilter$1.call(GuiceFilter.java:133) [com.google.inject:4.0.0]   at com.google.inject.servlet.GuiceFilter$1.call(GuiceFilter.java:130) [com.google.inject:4.0.0]   at com.google.inject.servlet.GuiceFilter$Context.call(GuiceFilter.java:203) [com.google.inject:4.0.0]   at com.google.inject.servlet.GuiceFilter.doFilter(GuiceFilter.java:130) [com.google.inject:4.0.0]   at org.sonatype.nexus.bootstrap.osgi.DelegatingFilter.doFilter(DelegatingFilter.java:73) [org.sonatype.nexus.bootstrap:3.0.0.SNAPSHOT]   at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1668) [org.eclipse.jetty.servlet:9.3.7.v20160115]   at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:581) [org.eclipse.jetty.servlet:9.3.7.v20160115]   at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143) [org.eclipse.jetty.server:9.3.7.v20160115]   at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:548) [org.eclipse.jetty.security:9.3.7.v20160115]   at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:226) [org.eclipse.jetty.server:9.3.7.v20160115]   at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1158) [org.eclipse.jetty.server:9.3.7.v20160115]   at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:511) [org.eclipse.jetty.servlet:9.3.7.v20160115]   at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:185) [org.eclipse.jetty.server:9.3.7.v20160115]   at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1090) [org.eclipse.jetty.server:9.3.7.v20160115]   at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141) [org.eclipse.jetty.server:9.3.7.v20160115]   at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:119) [org.eclipse.jetty.server:9.3.7.v20160115]   at com.codahale.metrics.jetty9.InstrumentedHandler.handle(InstrumentedHandler.java:175) [com.codahale.metrics.jetty9:3.0.2]   at org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:109) [org.eclipse.jetty.server:9.3.7.v20160115]   at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:119) [org.eclipse.jetty.server:9.3.7.v20160115]   at org.eclipse.jetty.server.Server.handle(Server.java:517) [org.eclipse.jetty.server:9.3.7.v20160115]   at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:308) [org.eclipse.jetty.server:9.3.7.v20160115]   at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:242) [org.eclipse.jetty.server:9.3.7.v20160115]   at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:273) [org.eclipse.jetty.io:9.3.7.v20160115]   at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:95) [org.eclipse.jetty.io:9.3.7.v20160115]   at org.eclipse.jetty.io.ssl.SslConnection.onFillable(SslConnection.java:197) [org.eclipse.jetty.io:9.3.7.v20160115]   at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:273) [org.eclipse.jetty.io:9.3.7.v20160115]   at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:95) [org.eclipse.jetty.io:9.3.7.v20160115]   at org.eclipse.jetty.io.SelectChannelEndPoint$2.run(SelectChannelEndPoint.java:75) [org.eclipse.jetty.io:9.3.7.v20160115]   at org.eclipse.jetty.util.thread.strategy.ExecuteProduceConsume.produceAndRun(ExecuteProduceConsume.java:213) [org.eclipse.jetty.util:9.3.7.v20160115]   at org.eclipse.jetty.util.thread.strategy.ExecuteProduceConsume.run(ExecuteProduceConsume.java:147) [org.eclipse.jetty.util:9.3.7.v20160115]   at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:654) [org.eclipse.jetty.util:9.3.7.v20160115]   at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:572) [org.eclipse.jetty.util:9.3.7.v20160115]   at java.lang.Thread.run(Thread.java:745) [na:1.8.0_40]  Caused by: com.fasterxml.jackson.databind.JsonMappingException: Can not instantiate value of type [simple type, class org.sonatype.goodies.common.Time] from Floating-point number (100.0); no one-double/Double-arg constructor/factory method   at [Source: N/A; line: -1, column: -1] (through reference chain: org.sonatype.nexus.repository.httpclient.Config[""""connection""""]->org.sonatype.nexus.httpclient.config.ConnectionConfiguration[""""timeout""""])   at com.fasterxml.jackson.databind.JsonMappingException.from(JsonMappingException.java:216) [na:na]   at com.fasterxml.jackson.databind.DeserializationContext.mappingException(DeserializationContext.java:894) [na:na]   at com.fasterxml.jackson.databind.deser.std.StdValueInstantiator.createFromDouble(StdValueInstantiator.java:335) [na:na]   at com.fasterxml.jackson.databind.deser.BeanDeserializerBase.deserializeFromDouble(BeanDeserializerBase.java:1222) [na:na]   at com.fasterxml.jackson.databind.deser.BeanDeserializer._deserializeOther(BeanDeserializer.java:148) [na:na]   at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:135) [na:na]   at com.fasterxml.jackson.databind.deser.SettableBeanProperty.deserialize(SettableBeanProperty.java:490) [na:na]   at com.fasterxml.jackson.databind.deser.impl.MethodProperty.deserializeAndSet(MethodProperty.java:95) [na:na]   at com.fasterxml.jackson.databind.deser.BeanDeserializer.vanillaDeserialize(BeanDeserializer.java:260) [na:na]   at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:125) [na:na]   at com.fasterxml.jackson.databind.deser.SettableBeanProperty.deserialize(SettableBeanProperty.java:490) [na:na]   at com.fasterxml.jackson.databind.deser.impl.FieldProperty.deserializeAndSet(FieldProperty.java:101) [na:na]   at com.fasterxml.jackson.databind.deser.BeanDeserializer.vanillaDeserialize(BeanDeserializer.java:260) [na:na]   at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:125) [na:na]   at com.fasterxml.jackson.databind.ObjectMapper._convert(ObjectMapper.java:3507) [na:na]   ... 102 common frames omitted  2016-03-25 16:24:47,161-0400 ERROR [qtp1034682762-1599] admin org.sonatype.nexus.extdirect.internal.ExtDirectServlet - Failed to invoke action method: coreui_Repository.update, java-method: org.sonatype.nexus.coreui.RepositoryComponent.update  org.sonatype.goodies.common.MultipleFailures$MultipleFailuresException: Failed to validate facets; 1 failure   at org.sonatype.goodies.common.MultipleFailures.maybePropagate(MultipleFailures.java:95) [org.sonatype.goodies.common:2.1.0.SNAPSHOT]   at org.sonatype.nexus.repository.manager.RepositoryImpl.validate(RepositoryImpl.java:171) [na:na]   at org.sonatype.nexus.repository.manager.RepositoryManagerImpl.update(RepositoryManagerImpl.java:277) [na:na]   at org.sonatype.nexus.common.stateguard.MethodInvocationAction.run(MethodInvocationAction.java:39) [na:na]   at org.sonatype.nexus.common.stateguard.StateGuard$GuardImpl.run(StateGuard.java:270) [na:na]   at org.sonatype.nexus.common.stateguard.GuardedInterceptor.invoke(GuardedInterceptor.java:53) [na:na]   at org.sonatype.nexus.repository.manager.RepositoryManager$update$7.call(Unknown Source) [na:na]   at org.sonatype.nexus.coreui.RepositoryComponent.update(RepositoryComponent.groovy:147) [na:na]   at org.sonatype.nexus.validation.internal.ValidationInterceptor.invoke(ValidationInterceptor.java:53) [na:na]   at org.apache.shiro.guice.aop.AopAllianceMethodInvocationAdapter.proceed(AopAllianceMethodInvocationAdapter.java:49) [na:na]   at org.apache.shiro.authz.aop.AuthorizingAnnotationMethodInterceptor.invoke(AuthorizingAnnotationMethodInterceptor.java:68) [na:na]   at org.apache.shiro.guice.aop.AopAllianceMethodInterceptorAdapter.invoke(AopAllianceMethodInterceptorAdapter.java:36) [na:na]   at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) [na:1.8.0_40]   at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) [na:1.8.0_40]   at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [na:1.8.0_40]   at java.lang.reflect.Method.invoke(Method.java:497) [na:1.8.0_40]   at com.softwarementors.extjs.djn.router.dispatcher.DispatcherBase.invokeJavaMethod(DispatcherBase.java:142) [org.sonatype.nexus.extdirect:3.0.0.SNAPSHOT]   at com.softwarementors.extjs.djn.router.dispatcher.DispatcherBase.invokeMethod(DispatcherBase.java:133) [org.sonatype.nexus.extdirect:3.0.0.SNAPSHOT]   at org.sonatype.nexus.extdirect.internal.ExtDirectServlet$3.invokeMethod(ExtDirectServlet.java:221) [org.sonatype.nexus.extdirect:3.0.0.SNAPSHOT]   at com.softwarementors.extjs.djn.router.dispatcher.DispatcherBase.dispatch(DispatcherBase.java:63) [org.sonatype.nexus.extdirect:3.0.0.SNAPSHOT]   at com.softwarementors.extjs.djn.router.processor.standard.StandardRequestProcessorBase.dispatchStandardMethod(StandardRequestProcessorBase.java:73) [org.sonatype.nexus.extdirect:3.0.0.SNAPSHOT]   at com.softwarementors.extjs.djn.router.processor.standard.json.JsonRequestProcessor.processIndividualRequest(JsonRequestProcessor.java:502) [org.sonatype.nexus.extdirect:3.0.0.SNAPSHOT]   at com.softwarementors.extjs.djn.router.processor.standard.json.JsonRequestProcessor.processIndividualRequestsInThisThread(JsonRequestProcessor.java:150) [org.sonatype.nexus.extdirect:3.0.0.SNAPSHOT]   at com.softwarementors.extjs.djn.router.processor.standard.json.JsonRequestProcessor.process(JsonRequestProcessor.java:133) [org.sonatype.nexus.extdirect:3.0.0.SNAPSHOT]   at com.softwarementors.extjs.djn.router.RequestRouter.processJsonRequest(RequestRouter.java:83) [org.sonatype.nexus.extdirect:3.0.0.SNAPSHOT]   at com.softwarementors.extjs.djn.servlet.DirectJNgineServlet.processRequest(DirectJNgineServlet.java:617) [org.sonatype.nexus.extdirect:3.0.0.SNAPSHOT]   at com.softwarementors.extjs.djn.servlet.DirectJNgineServlet.doPost(DirectJNgineServlet.java:580) [org.sonatype.nexus.extdirect:3.0.0.SNAPSHOT]   at org.sonatype.nexus.extdirect.internal.ExtDirectServlet.doPost(ExtDirectServlet.java:127) [org.sonatype.nexus.extdirect:3.0.0.SNAPSHOT]   at javax.servlet.http.HttpServlet.service(HttpServlet.java:707) [javax.servlet-api:3.1.0]   at javax.servlet.http.HttpServlet.service(HttpServlet.java:790) [javax.servlet-api:3.1.0]   at com.google.inject.servlet.ServletDefinition.doServiceImpl(ServletDefinition.java:287) [com.google.inject:4.0.0]   at com.google.inject.servlet.ServletDefinition.doService(ServletDefinition.java:277) [com.google.inject:4.0.0]   at com.google.inject.servlet.ServletDefinition.service(ServletDefinition.java:182) [com.google.inject:4.0.0]   at com.google.inject.servlet.DynamicServletPipeline.service(DynamicServletPipeline.java:71) [com.google.inject:4.0.0]   at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:85) [com.google.inject:4.0.0]   at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:112) [org.apache.shiro.web:1.2.4]   at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:82) [com.google.inject:4.0.0]   at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:112) [org.apache.shiro.web:1.2.4]   at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:82) [com.google.inject:4.0.0]   at org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilterChain.java:61) [org.apache.shiro.web:1.2.4]   at org.apache.shiro.web.servlet.AdviceFilter.executeChain(AdviceFilter.java:108) [org.apache.shiro.web:1.2.4]   at org.apache.shiro.web.servlet.AdviceFilter.doFilterInternal(AdviceFilter.java:137) [org.apache.shiro.web:1.2.4]   at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:125) [org.apache.shiro.web:1.2.4]   at org.apache.shiro.web.servlet.ProxiedFilterChain.doFilter(ProxiedFilterChain.java:66) [org.apache.shiro.web:1.2.4]   at org.apache.shiro.web.servlet.AbstractShiroFilter.executeChain(AbstractShiroFilter.java:449) [org.apache.shiro.web:1.2.4]   at org.sonatype.nexus.security.SecurityFilter.executeChain(SecurityFilter.java:85) [org.sonatype.nexus.security:3.0.0.SNAPSHOT]   at org.apache.shiro.web.servlet.AbstractShiroFilter$1.call(AbstractShiroFilter.java:365) [org.apache.shiro.web:1.2.4]   at org.apache.shiro.subject.support.SubjectCallable.doCall(SubjectCallable.java:90) [org.apache.shiro.core:1.2.4]   at org.apache.shiro.subject.support.SubjectCallable.call(SubjectCallable.java:83) [org.apache.shiro.core:1.2.4]   at org.apache.shiro.subject.support.DelegatingSubject.execute(DelegatingSubject.java:383) [org.apache.shiro.core:1.2.4]   at org.apache.shiro.web.servlet.AbstractShiroFilter.doFilterInternal(AbstractShiroFilter.java:362) [org.apache.shiro.web:1.2.4]   at org.sonatype.nexus.security.SecurityFilter.doFilterInternal(SecurityFilter.java:101) [org.sonatype.nexus.security:3.0.0.SNAPSHOT]   at org.apache.shiro.web.servlet.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:125) [org.apache.shiro.web:1.2.4]   at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:82) [com.google.inject:4.0.0]   at com.codahale.metrics.servlet.AbstractInstrumentedFilter.doFilter(AbstractInstrumentedFilter.java:97) [com.codahale.metrics.servlet:3.0.2]   at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:82) [com.google.inject:4.0.0]   at org.sonatype.nexus.internal.web.ErrorPageFilter.doFilter(ErrorPageFilter.java:63) [org.sonatype.nexus.base:3.0.0.SNAPSHOT]   at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:82) [com.google.inject:4.0.0]   at org.sonatype.nexus.internal.web.EnvironmentFilter.doFilter(EnvironmentFilter.java:97) [org.sonatype.nexus.base:3.0.0.SNAPSHOT]   at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:82) [com.google.inject:4.0.0]   at com.google.inject.servlet.DynamicFilterPipeline.dispatch(DynamicFilterPipeline.java:104) [com.google.inject:4.0.0]   at com.google.inject.servlet.GuiceFilter$1.call(GuiceFilter.java:133) [com.google.inject:4.0.0]   at com.google.inject.servlet.GuiceFilter$1.call(GuiceFilter.java:130) [com.google.inject:4.0.0]   at com.google.inject.servlet.GuiceFilter$Context.call(GuiceFilter.java:203) [com.google.inject:4.0.0]   at com.google.inject.servlet.GuiceFilter.doFilter(GuiceFilter.java:130) [com.google.inject:4.0.0]   at org.sonatype.nexus.bootstrap.osgi.DelegatingFilter.doFilter(DelegatingFilter.java:73) [org.sonatype.nexus.bootstrap:3.0.0.SNAPSHOT]   at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1668) [org.eclipse.jetty.servlet:9.3.7.v20160115]   at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:581) [org.eclipse.jetty.servlet:9.3.7.v20160115]   at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143) [org.eclipse.jetty.server:9.3.7.v20160115]   at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:548) [org.eclipse.jetty.security:9.3.7.v20160115]   at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:226) [org.eclipse.jetty.server:9.3.7.v20160115]   at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1158) [org.eclipse.jetty.server:9.3.7.v20160115]   at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:511) [org.eclipse.jetty.servlet:9.3.7.v20160115]   at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:185) [org.eclipse.jetty.server:9.3.7.v20160115]   at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1090) [org.eclipse.jetty.server:9.3.7.v20160115]   at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141) [org.eclipse.jetty.server:9.3.7.v20160115]   at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:119) [org.eclipse.jetty.server:9.3.7.v20160115]   at com.codahale.metrics.jetty9.InstrumentedHandler.handle(InstrumentedHandler.java:175) [com.codahale.metrics.jetty9:3.0.2]   at org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:109) [org.eclipse.jetty.server:9.3.7.v20160115]   at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:119) [org.eclipse.jetty.server:9.3.7.v20160115]   at org.eclipse.jetty.server.Server.handle(Server.java:517) [org.eclipse.jetty.server:9.3.7.v20160115]   at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:308) [org.eclipse.jetty.server:9.3.7.v20160115]   at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:242) [org.eclipse.jetty.server:9.3.7.v20160115]   at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:273) [org.eclipse.jetty.io:9.3.7.v20160115]   at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:95) [org.eclipse.jetty.io:9.3.7.v20160115]   at org.eclipse.jetty.io.ssl.SslConnection.onFillable(SslConnection.java:197) [org.eclipse.jetty.io:9.3.7.v20160115]   at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:273) [org.eclipse.jetty.io:9.3.7.v20160115]   at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:95) [org.eclipse.jetty.io:9.3.7.v20160115]   at org.eclipse.jetty.io.SelectChannelEndPoint$2.run(SelectChannelEndPoint.java:75) [org.eclipse.jetty.io:9.3.7.v20160115]   at org.eclipse.jetty.util.thread.strategy.ExecuteProduceConsume.produceAndRun(ExecuteProduceConsume.java:213) [org.eclipse.jetty.util:9.3.7.v20160115]   at org.eclipse.jetty.util.thread.strategy.ExecuteProduceConsume.run(ExecuteProduceConsume.java:147) [org.eclipse.jetty.util:9.3.7.v20160115]   at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:654) [org.eclipse.jetty.util:9.3.7.v20160115]   at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:572) [org.eclipse.jetty.util:9.3.7.v20160115]   at java.lang.Thread.run(Thread.java:745) [na:1.8.0_40]   Suppressed: java.lang.IllegalArgumentException: Can not instantiate value of type [simple type, class org.sonatype.goodies.common.Time] from Floating-point number (100.0); no one-double/Double-arg constructor/factory method   at [Source: N/A; line: -1, column: -1] (through reference chain: org.sonatype.nexus.repository.httpclient.Config[""""connection""""]->org.sonatype.nexus.httpclient.config.ConnectionConfiguration[""""timeout""""])    at com.fasterxml.jackson.databind.ObjectMapper._convert(ObjectMapper.java:3512) [na:na]    at com.fasterxml.jackson.databind.ObjectMapper.convertValue(ObjectMapper.java:3431) [na:na]    at org.sonatype.nexus.repository.config.ConfigurationFacetImpl.convert(ConfigurationFacetImpl.java:72) [na:na]    at org.sonatype.nexus.repository.config.ConfigurationFacetImpl.readSection(ConfigurationFacetImpl.java:81) [na:na]    at org.sonatype.nexus.repository.config.ConfigurationFacetImpl.validateSection(ConfigurationFacetImpl.java:118) [na:na]    at org.sonatype.nexus.repository.httpclient.HttpClientFacetImpl.doValidate(HttpClientFacetImpl.java:84) [na:na]    at org.sonatype.nexus.repository.FacetSupport.validate(FacetSupport.java:112) [na:na]    at org.sonatype.nexus.common.stateguard.MethodInvocationAction.run(MethodInvocationAction.java:39) [na:na]    at org.sonatype.nexus.common.stateguard.StateGuard$GuardImpl.run(StateGuard.java:270) [na:na]    at org.sonatype.nexus.common.stateguard.GuardedInterceptor.invoke(GuardedInterceptor.java:53) [na:na]    at org.sonatype.nexus.repository.manager.RepositoryImpl.validate(RepositoryImpl.java:160) [na:na]    ... 92 common frames omitted   Caused by: com.fasterxml.jackson.databind.JsonMappingException: Can not instantiate value of type [simple type, class org.sonatype.goodies.common.Time] from Floating-point number (100.0); no one-double/Double-arg constructor/factory method   at [Source: N/A; line: -1, column: -1] (through reference chain: org.sonatype.nexus.repository.httpclient.Config[""""connection""""]->org.sonatype.nexus.httpclient.config.ConnectionConfiguration[""""timeout""""])    at com.fasterxml.jackson.databind.JsonMappingException.from(JsonMappingException.java:216)    at com.fasterxml.jackson.databind.DeserializationContext.mappingException(DeserializationContext.java:894)    at com.fasterxml.jackson.databind.deser.std.StdValueInstantiator.createFromDouble(StdValueInstantiator.java:335)    at com.fasterxml.jackson.databind.deser.BeanDeserializerBase.deserializeFromDouble(BeanDeserializerBase.java:1222)    at com.fasterxml.jackson.databind.deser.BeanDeserializer._deserializeOther(BeanDeserializer.java:148)    at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:135)    at com.fasterxml.jackson.databind.deser.SettableBeanProperty.deserialize(SettableBeanProperty.java:490)    at com.fasterxml.jackson.databind.deser.impl.MethodProperty.deserializeAndSet(MethodProperty.java:95)    at com.fasterxml.jackson.databind.deser.BeanDeserializer.vanillaDeserialize(BeanDeserializer.java:260)    at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:125)    at com.fasterxml.jackson.databind.deser.SettableBeanProperty.deserialize(SettableBeanProperty.java:490)    at com.fasterxml.jackson.databind.deser.impl.FieldProperty.deserializeAndSet(FieldProperty.java:101)    at com.fasterxml.jackson.databind.deser.BeanDeserializer.vanillaDeserialize(BeanDeserializer.java:260)    at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:125)    at com.fasterxml.jackson.databind.ObjectMapper._convert(ObjectMapper.java:3507)    ... 102 common frames omitted  {quote}"""
"NEXUS-9991","Bug","UI",0.5,"ui spinbutton form controls should not react to mouse scroll wheel movement","""When a spinbutton field has focus and the cursor is over the field, moving the scroll wheel - or doing the trackpad equivalent - changes the spinbutton field value. No other field type exhibits this behavior.    For consistency with other field types, scrolling within a spinbutton field should not change the value, but should scroll the containing panel / page.  """
"NEXUS-9995","Bug","Scheduled Tasks|UI",0.5,"scheduled task form values cannot be blanked out when a blank value is valid","""While testing the Remove Snapshots From Maven Repository task, I had it saved with a value in the """"Grace Period after release (days)"""" field.  When I tried to erase this value and save, the value restored.  This field is not required (is optional) so there is no reason the value should not be able to be erased.    On analysis is was speculated this behavior would affect all tasks however this is the first task where there is a number value that can be nulled out in this way.  In fact, I tried to find a number example against the entire site but could not find one (there are string examples but string is much easier to be empty).    This behavior does not affect NX2.  This task is new to Homeslice so I did not check older NX3 as I don't believe it'd be anywhere.  But further fields (tasks but maybe any fields) created in this way will likely be affected.    The workaround is to delete the task and recreate it, however, I am leaving major as that workaround is pretty annoying."""
"NEXUS-10017","Bug","NPM",0.5,"Unable to delete npmjs proxy repo","""Customer reported that they when they tried to delete the npmjs proxy repo, Nexus stopped responding and CPU/Memory shot up. Nexus had to be restarted, but the repository is not removed.    I have reproduced this same issue on a clean install of 2.12.1.    Steps to Reproduce:  1) Ensure that you have proxy to https://registry.npmjs.org and is part of npm group. npm client should be configured to point use the npm group.    2) Run an npm search, something like """"npm s engine.io"""". This can take some time if run for the first time.      3) Delete the npmjs repository. Within a minute the Nexus UI will stop responding and CPU for the java process should go up to 100%. You will see following in the logs.  """
"NEXUS-10021","Bug","Configuration",1,"Authentication-less Email Server config does not work","""When configuring the Email Server in Nexus 3.0.0-m7 without username or password, the """"Verify email server"""" action produces a stacktrace in the Nexus log. It appears that Nexus sets a property to use auth, but no credentials are available other than empty strings.    Nexus 3 should support an Email Server configuration without authentication.    Log from """"Verify email server""""      """
"NEXUS-10019","Bug","Repository|UI",0.5,"Deletion of asset from single asset component causes failure in UI","""If you have a component with a single asset (as all npm components do) and navigate through Components -> Repo -> Component -> Asset, and then delete the asset using the provided button, the UI attempts to reload the parent component. Problem here is that components are removed when their last asset is deleted, which leads to an error message being shown in the UI and the view not updating.  I saw this with NPM but likely it's a problem with any format anytime the last asset is deleted.  http://screencast.com/t/Lfz7oaFIFgiC"""
"NEXUS-10030","Bug","NuGet",5,"Nuget 3.4 breaking semver change","""As of Nuget 3.4/Visual Studio 2015, NuGet now uses a much stricter policy for semantic versioning. c.f. http://docs.nuget.org/Create/Versioning#Normalized_Version_Numbers    In order for Nexus to behave correctly, it will need to address how it sorts version numbers, and how it decides packages are pre-release or release.    Unfortunately, there are some popular package on nuget.org that don't abide by this strictness - NLog, for instance, has gotten into the habit of labelling (in ODATA) versions like 4.4.0-beta3 as _release_ versions.    As of NuGet 3.4, the (new) _Normalized Version_ ODATA field is the definitive version for uniqueness purposes, as well as the definitive indicator as to whether a package is pre-release or not. Visual Studio will actually prune packages with pre-release semvers out of the search results it gets from Nexus.    Unfortunately, for now, Nexus defers to the metadata, not the semver. As a result:    1. Create a Nexus proxy to nuget.org  2. Open Visual Studio 2015  3. Make the Nexus proxy the only nuget source  4. In VS/NuGet, search for 'nlog'. Currently, NLog 4.2.3 is the latest release version, according to semver. It should appear in the search results.  5. Now search for 'nlog', with the 'pre-release versions' option checked. Currently, this will bring down the badly-tagged NLog 4.4.0-beta3. Nexus now considers this the latest  6. Perform the first search again, looking for release-only versions of 'nlog'  => NLog has now completely disappeared from the VS search results. Nexus is returning 4.4.0-beta3 as the latest release version (as per the metadata), but VS prunes it out (as per its pre-release style semver)"""
"NEXUS-10032","Bug","NPM",2,"Errors/warns on delete of proxy while it's being used","""In NEXUS-10017, adverse behavior was reported when you deleted a npm proxy repository in NX2.  In NX3, this behavior did not exist however, I noticed an error and a warn that might be worth persuing to make sure other adverse behavior wasn't occurring.    Steps to Reproduce:  1) Have a npmgroup containing npmproxy to https://registry.npmjs.org (I also had npm hosted tho I am skeptical that matters).  2) Run an npm search, something like """"npm s engine.io"""". This can take some time if run for the first time as it indexes.  3) While index is processing, delete the npmjs repository.  Notice the below error/warn in log.    """
"NEXUS-10042","Bug","Support Tools",3,"IOException Pipe not connected prevents generating support zip on Windows","""I found I cannot generate a support.zip file from the UI including everything checked in Windows.  This does not occur in MacOSX.  I checked with [~mprescott] who was also able to see this, so not just my env.  See below for long stack trace with several errors.  On screen appears """"Cannot get property 'file' on null object"""".    This does not affect m7.  I did not check NX2 at this time.  Debug was off during this test.    """
"NEXUS-10041","Bug","Security",1,"nx-userschangepw not included in nx-all","""While creating NEXUS-10040, I found that users could not update their own passwords via profile and instead got the error below.  However, this is not because it is broken (like NEXUS-10040 where you can't save or at all) but because nx-userschangepw permission is not included in nx-all.  This surprised me, since nx-all sounds like it should be everything AND because default admin role subsequently does not have the permission to change password (via profile, they still can via security-users).    I did not check older NX3 at this time however I recall this being different in the past.  I also did not check NX2, however, I also recall this working without hijinx.  Debug was off during this test."""
"NEXUS-10040","Bug","UI",1,"Users cannot update their profiles","""Does not appear a user can update their profile (NOT including password change).  Specifically the save button is disabled no matter what change you make.  This is with admin access.  Workaround is to have admin update from Security->User.  This is regression from NX2 however because of the workaround, I am making minor for now.    I did not check older NX3 at this time.  Debug was off for this test."""
"NEXUS-10049","Bug","OSGI",0.5,"First time starting nexus via Docker has karaf log warn","""Starting nexus for the first time via docker generates the below warn.  No adverse behavior is noted so far but keeping for record and to avoid log spam.        This file is new to 3.0.0.  Did not check NX2 at this time."""
"NEXUS-10044","Bug","Repository",1,"StackOverflowError when a group repository has itself as a member","""# Start with a stock Nexus 3 setup.  # Create a new maven 2 group repository, add the """"maven public"""" group to it, save  # Go the the """"maven public"""" group repository configuration, add the new group you just created to it, save  # Go to """"browse/components/maven public""""    Result is a stack overflow.      """
"NEXUS-10052","Bug","Bower",0.5,"Bower does not work with context path","""Noticed that when using a context path in Nexus when you put that path into your .bowerrc the resultant interactions error with errors like below.  Only workaround seems to be not to use a context path.  I am not sure how critical context path is for people so leaving major for now.    On sudo bower --allow-root install jquery  {quote}  bower not-cached    nexus+http://localhost:8081/nexus/repository/bower-group/jquery#*  bower resolve       nexus+http://localhost:8081/nexus/repository/bower-group/jquery#*  bower error         http://localhost:8081/repository/repository/bower-group/versions.json (HTTP 404)    Stack trace:  Error: http://localhost:8081/repository/repository/bower-group/versions.json (HTTP 404)      at Request._callback (/usr/local/lib/node_modules/bower-nexus3-resolver/src/index.js:212:20)      at Request.self.callback (/usr/local/lib/node_modules/bower-nexus3-resolver/node_modules/request/request.js:198:22)      at Request.emit (events.js:110:17)      at Request.<anonymous> (/usr/local/lib/node_modules/bower-nexus3-resolver/node_modules/request/request.js:1035:10)      at Request.emit (events.js:129:20)      at IncomingMessage.<anonymous> (/usr/local/lib/node_modules/bower-nexus3-resolver/node_modules/request/request.js:962:12)      at IncomingMessage.emit (events.js:129:20)      at _stream_readable.js:908:16      at process._tickCallback (node.js:355:11)    Console trace:  Error      at StandardRenderer.error (/usr/local/lib/node_modules/bower/lib/renderers/StandardRenderer.js:83:37)      at Logger.<anonymous> (/usr/local/lib/node_modules/bower/lib/bin/bower.js:110:26)      at Logger.emit (events.js:107:17)      at Logger.emit (/usr/local/lib/node_modules/bower/lib/node_modules/bower-logger/lib/Logger.js:29:39)      at /usr/local/lib/node_modules/bower/lib/commands/index.js:48:20      at _rejected (/usr/local/lib/node_modules/bower/lib/node_modules/q/q.js:844:24)      at /usr/local/lib/node_modules/bower/lib/node_modules/q/q.js:870:30      at Promise.when (/usr/local/lib/node_modules/bower/lib/node_modules/q/q.js:1122:31)      at Promise.promise.promiseDispatch (/usr/local/lib/node_modules/bower/lib/node_modules/q/q.js:788:41)      at /usr/local/lib/node_modules/bower/lib/node_modules/q/q.js:604:44  System info:  Bower version: 1.7.7  Node version: 0.12.9  OS: Darwin 15.4.0 x64  {quote}    Setup was with a single bower group containing a bower proxy and context path /nexus/.    Bower is new to 3.0.0 so no backcheck (or NX2 check) can be done."""
"NEXUS-10059","Bug","Proxy Repository",2,"404 response from Nexus 2 proxying Nexus 3 due to auto-routing","""Topology is as follows:    RSO -> Nexus 3 -> Nexus 2 -> Maven    Output of the build command:    https://gist.github.com/djsauble/ed607c27e48356750d0b1a55d37c6cec    I checked, and the Nexus 3 instance does have the missing JAR, so that proxy appears to be set up correctly.    Support ZIPs from both the Nexus 3 and Nexus 2 instances are attached."""
"NEXUS-10057","Bug","Documentation",0.5,"Documentation image off","""To me in both pdf and website, the image http://books.sonatype.com/nexus-book/3.0/reference/figs/web/users-create.png appears off.  Specifically, the bottom seems """"shifted"""" (see attached - arrow added by me).    If this seems familiar, I noticed it previously in NEXUS-9906 but seems to have been deployed like that.  Since I think this can be tweaked better, I am filing.    For ref this shows in http://books.sonatype.com/nexus-book/3.0/reference/security.html"""
"NEXUS-10056","Bug","Documentation",0.5,"Double image not accepted as leadin header","""Noticed the attached in http://books.sonatype.com/nexus-book/3.0/reference/using.html specifically that the usual text image lead to describe the sections seems to be failing for 2 sections/images at once.    I included the working work above it (Help) in the attachment for comparison.    This affects both the html site and the pdf."""
"NEXUS-10066","Bug","Bootstrap",1,"Startup Java version check is fragile, blocks startup in cases where it shouldn't","""An end user has has this Java:        Using this, they cannot start Nexus 3:        This seems wrong to me. I think it's find to log a warning for an unsupported version, but we shouldn't flat out prevent startup.  """
"NEXUS-10069","Bug","NPM",2,"npm install against a group repository with nested group member fails with 500 status","""""""npm install <package>"""" from a nested group repo fails with a 500 response from Nexus.    This is easily to setup and reproduce.    npmjs (proxy) and npm-internal (hosted) -> nmp-all (group) -> npm-top-group (group)    npm registry setting is pointing to npm-top-group    Acceptance Criteria:  * All metadata should be merged, respecting the order of the repositories, first in the tree should win  * A user should be able to install a package from a nested group    NOTES:  * Check Maven to see if this issue also occurs here            """
"NEXUS-10087","Improvement","Maven",1,"Valid Maven POM is misidentified as HTML by content verification","""On a fresh Nexus instance create a proxy repository called """"RSO"""" for https://repository.sonatype.org/content/repositories/sonatype-internal/ and make sure content verification is enabled (it should be on by default)    Now try to access http://127.0.0.1:8081/repository/RSO/com/sonatype/insight/ci/insight-ci-parent/2.14.4/insight-ci-parent-2.14.4.pom you will receive a 404 with the following message:  {quote}  Detected content type \[text/html], but expected \[application/xml, text/xml, application/x-xml]: com/sonatype/insight/ci/insight-ci-parent/2.14.4/insight-ci-parent-2.14.4.pom.xml  {quote}    Turning off content verification allows this POM to be downloaded, but we should investigate why it misidentified the content in this case."""
"NEXUS-10102","Bug","Support Tools",0.5,"generating support zip with configuration option requires external internet access","""Generating support zip with configuration requires access to “eclipse.org”    Nexus is tryiing to contact http://198.41.30.198/ which is the main Eclipse web site.    With external internet access blocked, Support zip generation (with configuration)  fails with the following:      h3. Expected    - when generating a support zip, generation must not fail if external network access is not available  - do NOT attempt any external network access when generating support zip"""
"NEXUS-10110","Bug","Maven|Scheduled Tasks",2,"Publish Maven Indexes task does not always fetch remote index to make it searchable","""I configured a proxy repo called nx2-proxy-hosted in nx3 proxying a hosted release repo that is publishing indexes in Nexus 2. While I can directly confirm using curl that the nx 2 repo is publishing a Maven index, Nexus 3 does not want to seem to get it when the Publish Indexes task is run in Nexus 3        Notice the Nexus 3 logs says it tried to get the index properties file, but there was no http traffic recorded even though org.apache.http logger  was set to DEBUG and I had Nexus 3 using charles proxy monitoring traffic.  """
"NEXUS-10115","Bug","Docker|Proxy Repository",0.5,"Docker proxy repository ConnectionPoolTimeoutException Timeout waiting for connection from pool","""After nexus3 has been running for a few days, the docker proxy repositories start timing out.  We have nginx in front of nexus3 and see the following message:           Looking at the nexus log file there is a timeout trying to get a connection from the pool.  I would guess at some point connections are not being returned to the pool:          Restarting the nexus3 service temporarily resolves the issue.  As a work around, we schedule a daily restart.    We are running OSS 3.0.0-03, but saw the same issue in m7."""
"NEXUS-10131","Bug","Migration",0.5,"“Stop Monitoring” button should not be displayed when no repositories are being synced","""During migration, we show a “Stop Monitoring” button so people can tell the system to stop looking for changes in repositories that are being migrated. If no repositories are migrated, this button is not needed (in fact, it currently prevents you from finalizing the migration).    We need an additional check to ensure that the “Stop Monitoring” button is not displayed when no repositories are migrated (and to display the “Finish” button instead)."""
"NEXUS-10149","Bug","NPM",1,"npm login returns 404 for npm proxy repositories","""npm login commands work with NPM group repos and hosted repos.    npm login commands for proxy repositories return 404.    npm login should work with Nexus NPM proxy repositories.    Our book does not make this distinction and there is no reason I know of that you would not want npm login to work with an npm proxy repository.    """
"NEXUS-10147","Bug","Docker",1,"add ability to dump invalid JSON payloads submitted by docker on parse errors","""Nexus may fail parsing docker client JSON payloads. When this happens we see an exception that refers to a token, but we have no easy way inside Nexus to get the complete invalid payload.        Acceptance  - print the full JSON payload in the nexus.log if there is a parse error  - -ideally print the line/character number in the JSON payload where the error is detected- parse exception already does this  - make it configurable to print or not print the payload ( in case the payload could contain sensitive data )"""
"NEXUS-10144","Improvement","NuGet",3,"improve robustness of NuGet case insensitive package ID matching","""Background:  NEXUS-8941 implements a fix for Nexus handling Nuget package IDs in a case-sensitive manner, but because it doesn't have the benefit of upgrade, it's implemented by modifying queries.    Acceptance Criteria:   Once upgrade is in place, pull out the query-modifying and use (e.g.) DB-level case-insensitive collation.     Developer's Notes:  Note that because of an Orient bug we can't completely rely on case-insensitive semantics working, so there is still the need for some query-modifying, just that we can limit it to particular situations in a more targeted way now. For now working on the basis that we should try to remove as much of the cruft as possible."""
"NEXUS-10157","Bug","Docker|Logging",1,"Excessive WARN when pulling from docker group","""I noticed a bunch of warns like this when testing docker 1.11.1.  It appeared there was one for every layer I pulled that wasn't in the repository when I pulled from a docker group.  For reference, some images can have 5-7+ layers.  Pulling from proxy generated no such warn.  There was no warn for layers that already existed so hypothetically this would be a diminishing concern over time (tho you could be utilizing new layers everyday, not sure how it works in practice).        This seems excessive to do on the WARN level when there is no (as far as I can tell) adverse behavior.  Filing for triage discussion.    I did not check older NX3 or older docker at this time."""
"NEXUS-10154","Bug","Database",3,"OrientDb allocates massive disk cache on large systems","""OrientDB uses an automatic tuning algorithm to determine the upper size of its native memory disk cache. This algorithm assumes that serving Orient is the primary function of the box, and on larger system can end up allocating gigantic caches (on a system with a 1TB drive and 32Gb memory, Orient set an upper cache size of 29Gb).    A pmap will show a large number of 'anon' segments:    {{00007f67dc000000  65508K rw---   [ anon ]  00007f67dfff9000     28K -----   [ anon ]  00007f67e0000000  65508K rw---   [ anon ]  00007f67e3ff9000     28K -----   [ anon ]  00007f67e4000000  65508K rw---   [ anon ]  00007f67e7ff9000     28K -----   [ anon ]  00007f67e8000000  65508K rw---   [ anon ]  00007f67ebff9000     28K -----   [ anon ]  00007f67ec000000  65504K rw---   [ anon ]  00007f67efff8000     32K -----   [ anon ]  }}    [~mcculls] points out that a system property can be used to set an explicit cache size (in Mb):    storage.diskCache.bufferSize=4096    We should consider:  * Setting an appropriate maximum  * Writing an algorithm that will replace Orient's tuning calculation, given that we're using Orient in an embedded mode  * Documenting this property as something clients might tune on large installations"""
"NEXUS-10150","Bug","Documentation|Migration",2,"Migration - Can't migrate empty group","""Currently, NX prevents migration of groups without all of their members, but it should be legal to migrate a group that has no members whatsoever. Currently this causes migration to hang."""
"NEXUS-10162","Story","Documentation|Migration",5,"migrating NXRM2 to NXRM3 automatically enables legacy content URLs","""According to the requirements in ----NEXUS-9976---- a migrated 3.x installation should automatically support the old legacy URL patterns. For v2 content URLs to work, however, a system property must be defined org.sonatype.nexus.repository.httpbridge.internal.HttpBridgeModule.legacy=true, and this isn't happening automatically.    *Acceptance*   * 2x-3x upgrade should automatically enable the v2 content URLs   * implementing this as a capability that gets injected and activated in Nexus 3 on migration start would be great! - otherwise if a property is used, inject it into nexus.properties under the work directory. Support still needs to have a way to tell this is enabled ( currently we just look in nexus-default.properties or nexus.properties ) and the end user still needs to have an easy way to tell as well ( presence of property in nexus.properties or capability in UI )   * Minimize upgrade impact to users that have already migrated and made decisions about turning this feature on or off    *Notes*   * There's value in having this as a capability   * While you're in there, make a mental note if you spot any obvious signs that a given NXRM3 instance (or individual repos) were migrated from NXRM2"""
"NEXUS-10164","Story","Maven|Upgrade",5,"add support proxying maven.oracle.com in nexus 3","""*Acceptance*     * Nexus 3 maven2 proxy repo configuration should have an option for supporting circular redirects (as NX2 does)   * This setting should be migrated from NX2 during maven2 proxy repo migration.   * This feature should be documented in the book.     I configured my maven-oracle repo after migration to have the right credentials but I am not sure how to configure the rest of the setup so it continues to work as it did in 2.x.    See    [http://maven.oracle.com]   and [https://support.sonatype.com/hc/en-us/articles/213465728-How-to-configure-a-proxy-repository-to-maven-oracle-com]   for more info.    At the very least it should throw some sort of warning during the migration if this circula redirect is configured for a repo."""
"NEXUS-10163","Bug","Migration",1,"HTTP authentication lost in migration","""I migrated my sonatype-grid-releases as well as my maven-oracle proxy repo across. Both had HTTP authentication defined (and required) and that was no longer configured in 3.x after the migration.     This essentially breaks those repositories, but there was no error message in the migration process at all. """
"NEXUS-10166","Bug","Docker",1,"RedHat docker 1.8.2 push HTTP PUT uploads tar content instead of gzip and triggers JsonParseException 400","""These commands can trigger Nexus to return a HTTP 400 response while reading already stored docker blob data.    docker import rhel7.tar   docker tag nexusrepo:port/foo   docker push nexusrepo:port/foo    To review, Docker Client 1.8.2 is submitting a JSON payload as part of PATCH requests that Nexus 3.0.0 stores into blobs - at the end of all the chunked uploads, the docker client tries to end the upload with a HTTP PUT request. The PUT request of zero (0) content fails when the blob data is read from disk on the Nexus side.    Nexus 3.0.0 is working correctly with docker client 1.9 using the same commands. Also Nexus 3 m7 and m6 was working with docker client 1.8.2 with the same commands. Nexus 3.0.0 was upgraded from a Nexus 3 M7 data directory. Redhat (OpenShift owner) is requiring the 1.8.2 version of docker as part of the OpenShift platform.    Docker requests fail with this pattern:    {quote}  127.0.0.1 - bakersi [29/Apr/2016:13:46:03 +0100] """"PATCH /repository/debug/v2/sdfsdfsdf/blobs/uploads/995080e6-f979-4c0d-8e43-93a1f0979362 HTTP/1.1"""" 202 0 12166  127.0.0.1 - bakersi [29/Apr/2016:13:46:04 +0100] """"PUT /repository/debug/v2/sdfsdfsdf/blobs/uploads/995080e6-f979-4c0d-8e43-93a1f0979362?digest=sha256%3A2500e7958c9e79466f7ed72a4f4ad917f532fef9c34a2d4d74aa0f9f61cef3ca HTTP/1.1"""" 400 192 564  {quote}    Notice it is the PUT that is trying to complete the upload and sending 0 content which fails.    A closer look at the stack trace tells us that Nexus fails when it tries to parse the content already stored inside uploaded blobs. So in some way nexus should try to report more precisely the actual problem or prevent getting into this state in the first place.          h3. Workaround    At least one of:    - upgrade to a newer version of docker  - [install the patch on Nexus 3.0.0-03|https://support.sonatype.com/hc/en-us/articles/218729178]  - upgrade to a newer release version of Nexus that contains the fix  """
"NEXUS-10174","Bug","Staging|staging-maven-plugin",2,"The nexus-staging-maven-plugin treats a read timeout as a rule failure, and drops repositories","""The nexus-staging-maven-plugin treats a timeout as a staging rule failure, and (by default) automatically drops the repository.     This is a bug, it means a slow Lifecycle scan will result in losing a staging repository.    For reference, the default timeout for the nexus-staging-maven-plugin is 5 minutes.  This can be configured via the stagingProgressTimeoutMinutes parameter.    """
"NEXUS-10172","Bug","Proxy Repository",2,"Invalid MIME-Type identification ","""Hi,     I have a Nexus 3 with a Maven proxy to Maven Central. I try to download the artefact org.apache.jmeter:ApacheJMeter_parent:2.11:pom and it refuses with the attached log.   We can verify that the files served by maven central is ok (Content and Content-type header) :  http://repo1.maven.org:80/maven2/org/apache/jmeter/ApacheJMeter_parent/2.11/ApacheJMeter_parent-2.11.pom  but the identification by Tika of the file is incorrect.   Our current workaround is to disable the """"Strict Content Type Validation"""".    Thanks in advance,    Regards,    Etienne Carrière"""
"NEXUS-10209","Story","Documentation",3,"product license mangement","""After doing the Paid/OSS Bundle work, we noticed that our experience was a bit funny :). We'd like to address that through the following improvements for a user's experience.   Acceptance Criteria:  * If a user license becomes invalid or expired in Nexus Repository Manager Pro  ** Send all users to a lightweight UI  ** Lightweight UI should only allow login/logout and the ability to install a license  ** All APIs should quit working (Maven, Docker, etc...)  * If a user installs a valid license Repository Manager Pro will start functioning again without a restart  * If a user's license is about to expire (30 days) we should provide a warning message in the UI to all Users (including anonymous) that shows the license is about to expire   NOTE:  * Ability to remove a user license in NX3 was removed. If they can figure out how, it will revert down to OSS. Changed original AC to match this updated (intentional) behavior."""
"NEXUS-10225","Bug","Security",0.5,"non-admin users may be unable to see or edit IQ Server Application in staging profile edit screen","""A non-admin user who is allowed to crate staging profiles is unable to see or edit _IQ Server Application_ in staging profile edit screen , after the staging profile has been created.    You can see IQ Server Application when creating a staging profile , but not after when once it has been set and saved and you go back into that staging profile.    The default admin user is able to see and amend this value.    The odd thing is, if you login as admin user, logout and then login as the original user, then you can see the _IQ Server Application_ setting in staging profile edit screen.    See attached screenshots.    """
"NEXUS-10231","Bug","RubyGems",0.5,"requests to rubygems repositories /api/v1/dependencies should not 302 redirect","""rubygems repositories have an endpoint /api/v1/dependencies    clients like bundler hit this endpoint to test if the repository supports the API. They expect response code 200 and 0 content if supported.    Nexus responds with a 302 redirect to /api/v1/dependencies/ . The clients follow this and this causes nexus to try and render an html content listing of all the dependencies cached in the local repository. Since rubygems dependencies are a flat structure, this can result is a large response that takes considerable time to render.     By the time Nexus is trying to write the HTML content back to the client, the client may have broken the connection ( Broken pipe ), while Nexus has had a significant performance impact.    In some cases (depending on bundler version) the failing requests can cause Bundler to fall back to retrieving all versions of all dependencies. This in turn puts an additional burden on Nexus performance.    The confluence of the performance impact may eventually lead to an OOM in Nexus. The root cause seems to start from nexus initially returning a 302 redirect.     Expected  - Nexus should return 200 and 0 content for requests to /api/v1/dependencies and not a 302 redirect to a content listing, just like the official registry does:    https://rubygems.org/api/v1/dependencies      """
"NEXUS-10238","Bug","PyPI|Search",0.5,"PyPI: Search custom only finds results on lower case","""While testing the pypi implementation, I found that searching on custom fields only found results (of either case) if I searched using lower case.  For example, """"apple"""" will find """"Apple"""", """"apple"""" and """"APPLE"""" but """"Apple"""" will not find """"Apple"""".  This was decided out of scope for PyPI and a general search issue.  I do not recall I've seen in any other format however.  In fact, NEXUS-8879 speaks to the reverse.  This is especially confusing because as far as I can tell all the PyPI classifiers start with capital letters.  This renders this search custom field useless unless you know this workaround or are lazy about case."""
"NEXUS-10234","Bug","Maven|Transport",1,"Maven httpclient may receive SocketException Broken pipe instead of expected status code on deploy","""Using the standard {{mvn deploy:deploy-file}} to a Nexus 3 maven repository, **when a server section with matching id in ~/.m2/settings.xml is not configured properly**, then Maven throws a broken pipe exception instead of reporting the 401 unauthorized from Nexus. This causes a retry death spiral and changes the behaviour of how Maven would normally react.    Using the same scenario with Nexus 2 causes Maven to report the 401 as expected and stop immediately.    {noformat:title=Nexus 3}  [DEBUG] Configuring mojo org.apache.maven.plugins:maven-deploy-plugin:2.8.2:deploy-file from plugin realm ClassRealm[plugin>org.apache.maven.plugins:maven-deploy-plugin:2.8.2, parent: sun.misc.Launcher$AppClassLoader@45ee12a7]  [DEBUG] Configuring mojo 'org.apache.maven.plugins:maven-deploy-plugin:2.8.2:deploy-file' with basic configurator -->  [DEBUG]   (f) artifactId = project  [DEBUG]   (f) file = /app/clm-testing/jenkins/hudson-2.2.1.war  [DEBUG]   (f) generatePom = true  [DEBUG]   (f) groupId = com.somecompany  [DEBUG]   (s) localRepository =       id: local        url: file:///Volumes/OSX/m2r/     layout: default  snapshots: [enabled => true, update => always]   releases: [enabled => true, update => always]    [DEBUG]   (f) offline = false  [DEBUG]   (f) packaging = war  [DEBUG]   (f) project = MavenProject: org.apache.maven:standalone-pom:1 @   [DEBUG]   (f) repositoryId = local-nexu  [DEBUG]   (f) repositoryLayout = default  [DEBUG]   (f) retryFailedDeploymentCount = 1  [DEBUG]   (f) uniqueVersion = true  [DEBUG]   (f) updateReleaseInfo = false  [DEBUG]   (f) url = http://localhost:9081/repository/maven-releases/  [DEBUG]   (f) version = 1.0.0  [DEBUG] -- end configuration --  [DEBUG] Using transporter WagonTransporter with priority -1.0 for http://localhost:9081/repository/maven-releases/  [DEBUG] Using connector BasicRepositoryConnector with priority 0.0 for http://localhost:9081/repository/maven-releases/ via 127.0.0.1:8888  Uploading: http://localhost:9081/repository/maven-releases/com/somecompany/project/1.0.0/project-1.0.0.war  May 16, 2016 10:14:55 AM org.apache.maven.wagon.providers.http.httpclient.impl.execchain.RetryExec execute  INFO: I/O exception (java.net.SocketException) caught when processing request to {}->http://127.0.0.1:8888->http://localhost:9081: Broken pipe  May 16, 2016 10:14:55 AM org.apache.maven.wagon.providers.http.httpclient.impl.execchain.RetryExec execute  INFO: Retrying request to {}->http://127.0.0.1:8888->http://localhost:9081  May 16, 2016 10:14:55 AM org.apache.maven.wagon.providers.http.httpclient.impl.execchain.RetryExec execute  INFO: I/O exception (java.net.SocketException) caught when processing request to {}->http://127.0.0.1:8888->http://localhost:9081: Broken pipe  May 16, 2016 10:14:55 AM org.apache.maven.wagon.providers.http.httpclient.impl.execchain.RetryExec execute  INFO: Retrying request to {}->http://127.0.0.1:8888->http://localhost:9081  May 16, 2016 10:14:55 AM org.apache.maven.wagon.providers.http.httpclient.impl.execchain.RetryExec execute  INFO: I/O exception (java.net.SocketException) caught when processing request to {}->http://127.0.0.1:8888->http://localhost:9081: Broken pipe  May 16, 2016 10:14:55 AM org.apache.maven.wagon.providers.http.httpclient.impl.execchain.RetryExec execute  INFO: Retrying request to {}->http://127.0.0.1:8888->http://localhost:9081  Uploading: http://localhost:9081/repository/maven-releases/com/somecompany/project/1.0.0/project-1.0.0.pom  [INFO] ------------------------------------------------------------------------  [INFO] BUILD FAILURE  [INFO] ------------------------------------------------------------------------  [INFO] Total time: 0.628 s  [INFO] Finished at: 2016-05-16T10:14:55-03:00  [INFO] Final Memory: 12M/309M  [INFO] ------------------------------------------------------------------------  [ERROR] Failed to execute goal org.apache.maven.plugins:maven-deploy-plugin:2.8.2:deploy-file (default-cli) on project standalone-pom: Failed to deploy artifacts: Could not transfer artifact com.somecompany:project:war:1.0.0 from/to local-nexu (http://localhost:9081/repository/maven-releases/): Broken pipe -> [Help 1]  org.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.apache.maven.plugins:maven-deploy-plugin:2.8.2:deploy-file (default-cli) on project standalone-pom: Failed to deploy artifacts: Could not transfer artifact com.somecompany:project:war:1.0.0 from/to local-nexu (http://localhost:9081/repository/maven-releases/): Broken pipe   at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:216)   at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:153)   at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:145)   at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:116)   at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:80)   at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:51)   at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:128)   at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:307)   at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:193)   at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:106)   at org.apache.maven.cli.MavenCli.execute(MavenCli.java:862)   at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:286)   at org.apache.maven.cli.MavenCli.main(MavenCli.java:197)   at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)   at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)   at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)   at java.lang.reflect.Method.invoke(Method.java:498)   at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:289)   at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:229)   at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:415)   at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:356)  Caused by: org.apache.maven.plugin.MojoExecutionException: Failed to deploy artifacts: Could not transfer artifact com.somecompany:project:war:1.0.0 from/to local-nexu (http://localhost:9081/repository/maven-releases/): Broken pipe   at org.apache.maven.plugin.deploy.DeployFileMojo.execute(DeployFileMojo.java:284)   at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:134)   at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:208)   ... 20 more  Caused by: org.apache.maven.artifact.deployer.ArtifactDeploymentException: Failed to deploy artifacts: Could not transfer artifact com.somecompany:project:war:1.0.0 from/to local-nexu (http://localhost:9081/repository/maven-releases/): Broken pipe   at org.apache.maven.artifact.deployer.DefaultArtifactDeployer.deploy(DefaultArtifactDeployer.java:143)   at org.apache.maven.plugin.deploy.AbstractDeployMojo.deploy(AbstractDeployMojo.java:171)   at org.apache.maven.plugin.deploy.DeployFileMojo.execute(DeployFileMojo.java:280)   ... 22 more  Caused by: org.eclipse.aether.deployment.DeploymentException: Failed to deploy artifacts: Could not transfer artifact com.somecompany:project:war:1.0.0 from/to local-nexu (http://localhost:9081/repository/maven-releases/): Broken pipe   at org.eclipse.aether.internal.impl.DefaultDeployer.deploy(DefaultDeployer.java:317)   at org.eclipse.aether.internal.impl.DefaultDeployer.deploy(DefaultDeployer.java:245)   at org.eclipse.aether.internal.impl.DefaultRepositorySystem.deploy(DefaultRepositorySystem.java:413)   at org.apache.maven.artifact.deployer.DefaultArtifactDeployer.deploy(DefaultArtifactDeployer.java:139)   ... 24 more  Caused by: org.eclipse.aether.transfer.ArtifactTransferException: Could not transfer artifact com.somecompany:project:war:1.0.0 from/to local-nexu (http://localhost:9081/repository/maven-releases/): Broken pipe   at org.eclipse.aether.connector.basic.ArtifactTransportListener.transferFailed(ArtifactTransportListener.java:43)   at org.eclipse.aether.connector.basic.BasicRepositoryConnector$TaskRunner.run(BasicRepositoryConnector.java:355)   at org.eclipse.aether.connector.basic.BasicRepositoryConnector.put(BasicRepositoryConnector.java:274)   at org.eclipse.aether.internal.impl.DefaultDeployer.deploy(DefaultDeployer.java:311)   ... 27 more  Caused by: org.apache.maven.wagon.TransferFailedException: Broken pipe   at org.apache.maven.wagon.providers.http.AbstractHttpClientWagon.put(AbstractHttpClientWagon.java:646)   at org.apache.maven.wagon.providers.http.AbstractHttpClientWagon.put(AbstractHttpClientWagon.java:541)   at org.apache.maven.wagon.providers.http.AbstractHttpClientWagon.put(AbstractHttpClientWagon.java:523)   at org.apache.maven.wagon.providers.http.AbstractHttpClientWagon.put(AbstractHttpClientWagon.java:517)   at org.apache.maven.wagon.providers.http.AbstractHttpClientWagon.put(AbstractHttpClientWagon.java:497)   at org.eclipse.aether.transport.wagon.WagonTransporter$PutTaskRunner.run(WagonTransporter.java:644)   at org.eclipse.aether.transport.wagon.WagonTransporter.execute(WagonTransporter.java:427)   at org.eclipse.aether.transport.wagon.WagonTransporter.put(WagonTransporter.java:410)   at org.eclipse.aether.connector.basic.BasicRepositoryConnector$PutTaskRunner.runTask(BasicRepositoryConnector.java:510)   at org.eclipse.aether.connector.basic.BasicRepositoryConnector$TaskRunner.run(BasicRepositoryConnector.java:350)   ... 29 more  Caused by: java.net.SocketException: Broken pipe   at java.net.SocketOutputStream.socketWrite0(Native Method)   at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:109)   at java.net.SocketOutputStream.write(SocketOutputStream.java:153)   at org.apache.maven.wagon.providers.http.httpclient.impl.io.SessionOutputBufferImpl.streamWrite(SessionOutputBufferImpl.java:123)   at org.apache.maven.wagon.providers.http.httpclient.impl.io.SessionOutputBufferImpl.flushBuffer(SessionOutputBufferImpl.java:135)   at org.apache.maven.wagon.providers.http.httpclient.impl.io.SessionOutputBufferImpl.write(SessionOutputBufferImpl.java:164)   at org.apache.maven.wagon.providers.http.httpclient.impl.io.ContentLengthOutputStream.write(ContentLengthOutputStream.java:115)   at org.apache.maven.wagon.providers.http.AbstractHttpClientWagon$RequestEntityImplementation.writeTo(AbstractHttpClientWagon.java:205)   at org.apache.maven.wagon.providers.http.httpclient.impl.DefaultBHttpClientConnection.sendRequestEntity(DefaultBHttpClientConnection.java:155)   at org.apache.maven.wagon.providers.http.httpclient.impl.conn.CPoolProxy.sendRequestEntity(CPoolProxy.java:149)   at org.apache.maven.wagon.providers.http.httpclient.protocol.HttpRequestExecutor.doSendRequest(HttpRequestExecutor.java:236)   at org.apache.maven.wagon.providers.http.httpclient.protocol.HttpRequestExecutor.execute(HttpRequestExecutor.java:121)   at org.apache.maven.wagon.providers.http.httpclient.impl.execchain.MainClientExec.execute(MainClientExec.java:254)   at org.apache.maven.wagon.providers.http.httpclient.impl.execchain.ProtocolExec.execute(ProtocolExec.java:195)   at org.apache.maven.wagon.providers.http.httpclient.impl.execchain.RetryExec.execute(RetryExec.java:86)   at org.apache.maven.wagon.providers.http.httpclient.impl.execchain.RedirectExec.execute(RedirectExec.java:108)   at org.apache.maven.wagon.providers.http.httpclient.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:184)   at org.apache.maven.wagon.providers.http.httpclient.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:82)   at org.apache.maven.wagon.providers.http.AbstractHttpClientWagon.execute(AbstractHttpClientWagon.java:832)   at org.apache.maven.wagon.providers.http.AbstractHttpClientWagon.put(AbstractHttpClientWagon.java:592)   ... 38 more  [ERROR]   [ERROR]         h3. Expected    Nexus should report the 401 and fail immediately instead of getting a broken pipe - act like Nexus 2.x does."""
"NEXUS-10233","Bug","Routing",1,"Central automatic routing results discarded because Prefix file size exceeds maximum allowed","""Some people had problems with accessing artifacts, that had a transitive dependency to Maven Central using a standard proxy repository. I was digging into it and I found out, that the routing file of Maven Central became too big and therefore Nexus refuses to load it and therefore it stays with an old version of the prefix file. Error message on the routing tab is:     Remote strategy prefix-file on M2Repository(id=central) detected invalid input, results discarded: Prefix file size exceeds maximum allowed size (100000), refusing to load it.    --Therefore https://repository.jboss.org/nexus/content/repositories/central/org/wildfly/extras/creaper/creaper-core/0.9.6/creaper-core-0.9.6.jar?describe=1 is not able to find the file despite it is in Maven Central.--    {quote}  **We have no evidence this blocks retrieval of remote artifacts - however the issue may result in a slight decrease in performance determining if remote artifacts exist in central**  {quote}    h4. Workaround until upgrading:    Add inside nexus.properties this line:    *org.sonatype.nexus.proxy.maven.routing.Config.prefixFileMaxSize=500000*    Then restart Nexus."""
"NEXUS-10243","Bug","Repository",1,"Content type exception uploading tar files - identified as application-gtar instead of application/tar","""When uploading a tar file, Nexus throws an {{InvalidContentException}} complaining that it detected content type {{application/x-gtar}}, but expected {{application/x-tar}}. Internally Nexus uses the Apache Tika library for determining content type and first we do a detection by file extension, and then we do a detection by file contents, and throw an exception if they don't match. For Tar files Tika will return {{application/x-tar}} for name and {{application-x/gtar}} for contents. This is because most modern tar implementation will default to the 'gnu' format (i.e. a gtar), but most users still call it a tar.         *Original Bug Report Description:*    While testing initial pypi implementation, we attempted to upload a tar file into our pypi hosted but were blocked by content validation. tar files were one of the listed file extensions that pypi supported.    From the pypi cli:    From the nexus.log:    After investigation, we found the same thing occurs when you try and push the tar into a raw hosted repository.    Once you have the tar file in the hosted repository, it proxies however you need to turn strict content validation off for your proxy as well.    Since the team could not find any tar files that could be proxied from pypi.python.org and there is a workaround, as well as affects other repository types, we decided this was a non-blocker for now. We will watch for beta feedback and see if it hits anyone.  h3. Workaround    The workaround is to turn strict content validation off for the hosted pypi repository."""
"NEXUS-10242","Story","Logging",2,"Capture stdout and stderr to logfile","""Nexus 3 has no default log that captures stdout/stderr. This means that the most reliable way to get a thread dump from a hung instance (kill -3) will not work.    This is a regression from Nexus 2, and has serious implications for support. Other methods of getting thread dumps such as jstack require that a JDK is available, and even when these tools are available they are not as reliable as sending a SIGQUIT.    *Acceptance*     Output written to stdout and stderror are written to the standard logs"""
"NEXUS-10255","Bug","NPM",2,"npm package version-specific requests respond '404 not found' instead of version-specific JSON metadata","""We are having an issue proxying npm artifacts in our nexus3 repo from the official npm repostiory. Some artifacts are being proxied but others are failing. It seems that any artifact that is requested with a specific version identifier is failing. For example you can see below the 304 were successful because there was no version at the end of the url, whereas the 404 failures were all on urls with a version at the end of the url. Is this a bug or a configuration issue? I attached the full npm-debug log.    [INFO] npm http 304 https://internal.nexus.company.com:8450/repository/npmjs/grunt-contrib-less  [INFO] npm http 304 https://internal.nexus.company.com:8450/repository/npmjs/grunt-contrib-watch  [INFO] npm http 304 https://internal.nexus.company.com:8450/repository/npmjs/grunt-karma  [INFO] npm http 304 https://internal.nexus.company.com:8450/repository/npmjs/grunt-contrib-uglify  [INFO] npm http 404 https://internal.nexus.company.com:8450/repository/npmjs/grunt-bump/0.0.6  [INFO] npm ERR! registry error parsing json  [INFO] npm http 404 https://internal.nexus.company.com:8450/repository/npmjs/karma-phantomjs-launcher/0.1.4  [INFO] npm ERR! registry error parsing json  [INFO] npm http 404 https://internal.nexus.company.com:8450/repository/npmjs/karma-junit-reporter/0.2.1  [INFO] npm ERR! registry error parsing json  [INFO] npm http 404 https://internal.nexus.company.com:8450/repository/npmjs/karma/0.10.10  [INFO] npm ERR! registry error parsing json  [INFO] npm http 304 https://internal.nexus.company.com:8450/repository/npmjs/grunt-html2js  [INFO] npm http 404 https://internal.nexus.company.com:8450/repository/npmjs/karma-chrome-launcher/0.1.2  [INFO] npm ERR! registry error parsing json  [INFO] npm http 404 https://internal.nexus.company.com:8450/repository/npmjs/karma-coffee-preprocessor/0.1.3  [INFO] npm ERR! registry error parsing json  [INFO] npm http 404 https://internal.nexus.company.com:8450/repository/npmjs/karma-firefox-launcher/0.1.3"""
"NEXUS-10256","Bug","LDAP|Security",3,"extremely poor performance in user role/privilege resolution for LDAP users","""When an LDAP mapped user uses Nexus we are repeated looping through all of their LDAP groups. This is done for every single privilege check.  The comparison done is very inefficient, and an exception is thrown for each group not found mapped to a nexus role.    Here's an example, there were 970 of these just for this one group in 11 seconds. All I did was click around the UI a bit while logged in as an LDAP user mapped to nx-admin. This is repeated for every group my test user is a member of.        Acceptance Criteria:  * Examine how to reduce the exception count as a bare minimum  * Some minimal tuning to identify what the deeper issue is  * Solve low hanging fruit, gain information on larger issues  ** Get together to produce follow up issues/stories based on deeper understanding    NOTE:  * We will need to test this against a large LDAP instance to verify the fixes if we make any"""
"NEXUS-10279","Bug","Maven",3,"Long delay after large maven artifact is uploaded, results in failure due to jetty idle timeout","""I'm seeing a long delay uploading large Maven artifacts.   The entire artifact is uploaded, and then the maven build just sits there for a long time waiting for an HTTP response.    A thread dump taken tat this time shows that Nexus is computing the checksum of the artifact.  Is it possible we've regressed and lost the fix for NEXUS-4194?    """
"NEXUS-10278","Bug","Database|NuGet",2,"pushing NuGet packages larger than 2GB fails","""Push of a very large NuGet package fails.  This one is about 2.5Gb:    {quote}  $ ls -l  total 5734448  -rw-r--r--   1 rseddon  staff  2935807073 May 26 14:13 NUnit.2.6.3.nupkg  {quote}    This fails due to a number format error trying to convert the string to an integer:      """
"NEXUS-10276","Bug","Migration|UI",2,"Upgrade cannot abort in between stages","""While testing various migration items, it seemed weird to me that you *can't* abort when you've finished a substep (and can progress to the next step) but that you *can* abort when you proceed to the next step.  For example, if you're in preperation and it's done, you can't abort but if you proceed to synchronizing you can.    I think this is weird to me, because you're not aborting the step, you're aborting migration.  So if you prepare then decide you want to do this later, I think it makes sense to be able to without clicking next.  NOTE: Clicking away preserves the state so does not abort.  I'm assuming shutting down the server would however might be """"messy"""".  Am filing, at least for triage, after discussion with [~dsauble].  I mentioned this in HC as well (migrate room) and didn't get an immediate explain or contradiction.    Let me know if not clear, I didn't feel like screen or vid would explain so didn't do it.  I could do a screenshare or do a vid with sound."""
"NEXUS-10294","Bug","Docker",3,"Docker client <= 1.9.1 cannot pull images which are push by a docker client >= 1.10.0","""An image has been pushed to Nexus 3.0 by a Docker client which version was 1.10.0 or later. Now I cannot pull this image with a Docker client which version is <= 1.9.1.  I get following error:      I can successfully pull images which has been pushed with an 1.9.1 Docker client.    I tried without success the following:  * to disable V1 support for the group repository  * configure nginx to apply headers to all GET requests in order to enforce V1 or V2 manifests:    {{add_header Docker-Distribution-Api-Version registry/2.0 always;}}    {{add_header Accept application/vnd.docker.distribution.manifest.v2+json;}}    {{proxy_set_header  Accept application/vnd.docker.distribution.manifest.v2+json;}}    With version 1.10.0 of Docker the format of the manifest has changed. I'm using an Nginx configuration as described in chapter [Example: Reverse Proxy SSL Termination at Base Path| https://books.sonatype.com/nexus-book/3.0/reference/install.html#_example_reverse_proxy_ssl_termination_at_base_path]."""
"NEXUS-10291","Bug","Bower",3,"* dependency not resolved by nexus proxy whereas resolved by bower repo","""add a star dependencies in bower,json.  e.g.       try to to install dependencies with bower install  get error      Work around is to replace * by master.  e.g.       """
"NEXUS-10300","Bug","Documentation",0.5,"invalid json in bower authentication documentation","""missing comma in bower authentication documentation    at the end of the section 11.6 in this page    https://books.sonatype.com/nexus-book/3.0/reference/bower.html#bower-download    valid json is     """
"NEXUS-10317","Bug","Transport",1,"Set the CONNECT user-agent header value as Nexus user agent","""Regression of NEXUS-7575 from Nexus 2.    In Nexus 3, the User-Agent value is set on CONNECT to the HTTPClient value instead of the Nexus user agent. This matters because some orgs look at the value and filter requests based on it.     Nexus 3 CONNECT example - it is set - but incorrectly:          Nexus 2 CONNECT example:        h3. Expected  - all outbound HTTP requests should have the Nexus User-Agent value NOT some other value ( unless doing this would violate a repository format protocol )      """
"NEXUS-10336","Bug","Docker",3,"docker pull fails for certain images from docker hub","""Configure a standard docker proxy repository (named docker-proxy) to docker hub. Enable V1 support.    Using Docker 1.8.2 client/daemon, execute this command    docker pull rabbitmq:3-management    This works fetching from the official repo.    This does not work against Nexus:    docker pull 192.168.2.97:9540/rabbitmq:3-management    Where 192.168.2.97 is the Nexus IP and 9540 is the https port for docker-proxy.    Installing the patch at https://support.sonatype.com/hc/en-us/articles/218729178-Nexus-Repository-Manager-3-0-0-03-Docker-Rollup-Patch does not seem to help.    """
"NEXUS-10349","Bug","Bower",3,"Can't find packages registered to hosted repository with 'bower search ...'","""I've succesfully registered a private package to a hosted repository but I can't find this package via 'bower search ...'    Here is my .bowerrc file:      """
"NEXUS-10371","Bug","Security|UI",1,"Page warns of lack of access despite handling it","""I granted a user a role with the nx-repository-admin-*-*-* privilege and noticed when I accessed repository (in pro) that I got a warning about healthcheck.  Results do appear and the healthcheck column is hidden/missing, so it seems this warning is not necessary.    Error also appears in nexus.log:      Filing for triage discussion as there may be a reason this occurs (like we want users to know there are things they can't see?).  If this is intentional, that error level seems high to me.    I did not backcheck older NX3, mostly because 3.1 will be the first version we support PRO and OSS is not affected.  I didn't check NX2 either."""
"NEXUS-10370","Bug","Browse Storage|UI",1,"RubyGems assets have horizontal scroll that remains regardless of browser width","""Just noticed that my rubygems asset had a horizontal scroll, so I made my browser bigger and it remained.  I fullsized my browser and it still remained.  I scrolled right to see what I wasn't seeing and it shows the right border.  Apparently the only way to get this displayed is to scroll right not browser size...I think this is a bug.    I did not back check older NX3.  I noticed that with docker assets this does not happen so made the title format specific for now.  If I see any other component types this is affecting I'll update.  I am surprised that this is not format generic, but there we have it."""
"NEXUS-10390","Bug","Transport",1,"Nexus 3 Basic realm name does not equal Nexus 2 realm name","""*For repository content* the Basic auth realm name of nexus 2 when accessing content is """"Sonatype Nexus Repository Manager"""".    The Basic auth realm name of nexus 3.0.0 is """"Sonatype Nexus"""".    We have seen at least one instance of breakage when changing realm names:     https://issues.sonatype.org/browse/OSSRH-19926    When a user migrates from Nexus 2 to Nexus 3, this realm name change could cause builds using IVY based deployments ( SBT, ANT ) to start failing. Fixing this on the client side could require a huge set of ivysettings.xml changes in source control or build jobs. ivysettings.xml fils can contain sections with credentials such as         While 'realm' [is an optional configuration attribute|http://ant.apache.org/ivy/history/latest-milestone/settings/credentials.html] - even if it is left out, then credentials will not be found that match the realm name and authentication fails with 401 like it does when the realm name is specified but does not match exactly the realm name sent in the Nexus WWW-Authenticate header.    Should the Nexus 3 realm equal the Nexus 2 realm name?"""
"NEXUS-10405","Bug","Bower|UI",1,"Bower hosted does not use 404 framework","""Hitting a non-existant mapping.json in a bower hosted repository returns a blank page.  However, page debug shows """"Failed to load resource: the server responded with a status of 404 (Not Found)"""" so the suspicion is that it's just not utilizing the 404 page we have in general place.    Example (with bower-hosted repository newly setup): http://localhost:8081/repository/bower-hosted/test2/mapping.json    I did not back check older NX3 versions.  This bug does not affect NX2 as it this format is not implemented there."""
