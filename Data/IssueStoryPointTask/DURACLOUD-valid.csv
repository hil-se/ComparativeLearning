"issuekey","type","components","storypoint","title","description_text"
"DURACLOUD-555","Story","Storage",2,"ACL: Enable multi-map content/space properties","""This feature is to enable multi-map header values throughout the application for content and space properties. The capability should be enabled for the entire stack: storageproviders, to REST, to StoreClient, to Duradmin."""
"DURACLOUD-554","Story","Storage",2,"ACL: Add ACLStorageProvider","""This feature is to add a new StorageProvider wrapper implementation to facilitate filtering the spaces listed in a getSpaces() request. The primary objectives are to: - provide a way to only return spaces that are either 'open' or are accessible to the calling user - improve performance so that each request for the space listing does not require querying the properties of each space from the underlying storage provider.  Below are some implementation suggestions:  1. in StorageProviderFactoryImpl.getStorageProvider()         * wrap storageProvider with a new ACLStorageProvider()  2. ACLStorageProvider         * overwrite: getSpaces()         * cache spaces and space acl properties """
"DURACLOUD-553","Story","Security",1,"ACL: Update app-config and security-user bean to include 'group' details","""This update is to modify app-config, SecurityUserBean, and security-users.xsd, as appropriate to support the inclusion of ACL 'groups' during instance initialization."""
"DURACLOUD-557","Story","UI",1,"ACL: Update duradmin UI to exclude tabs from USER role","""This update is to not display the """"Services"""" tab nor the reports tabs under """"Dashboard"""" if the user who is logged into duradmin only has ROLE_USER. Rather, only users with ROLE_ADMIN should be able to see the services and reports tabs."""
"DURACLOUD-560","Bug","Client",1,"UploadTool changes ACLs on upload","""This bug is that when running the UploadTool, the existing ACLs of a space are replaced by a single ACL of {user=w}."""
"DURACLOUD-561","Story","Storage",1,"Deprecate space-access methods","""This improvement is to deprecate the setSpaceAccess and getSpaceAccess methods on the StorageProvider and ContentStore interfaces."""
"DURACLOUD-569","Story","Storage",1,"Create Messaging over setSpaceACLs()","""This improvement is to add messaging over the durastore calls to StorageProvider.setSpaceACLs(). The configuration for this is in: durastore/src/main/webapp/WEB-INF/config/aop-config.xml A new advisor (ala SpaceUpdateAdvice) will needed to be created as well."""
"DURACLOUD-566","Story","Storage",2,"Handle space properties cache loading on instance initialization","""Currently, the cache for space properties is loaded the first time a user attempts to access a storage provider. If this user is a non-admin user, and there are many spaces in the account, this action can take several minutes. This task is to transition to loading the cache when the instance is first initialized, rather than waiting for a user to access the instance, greatly lowering the likelihood that any user will have to wait while the cache is populated."""
"DURACLOUD-565","Story","UI",1,"Sort permissions display","""This task is to sort the listing of items in the Permissions section of the content item display in DurAdmin.  Groups should be displayed above users, and both sets should be sorted alphabetically (A-Z). The """"public"""" group, when added, should always be displayed at the top of the list."""
"DURACLOUD-575","Bug","Utility",1,"Synctool: not re-syncing content deleted from DuraCloud","""This issue is to fix the bug demonstrated in the following scenario: # run synctool pushing one or more files to a space ** observe success # delete one of the content items in DuraCloud newly pushed to the space # re-run the synctool ** observe deleted item is not re-uploaded  The strategy to fix this issue is to introduce a new flag which instructs the sync tool to perform a """"clean start"""" rather than a re-start, so that all files in all local directories are considered as part of the sync. This flag would essentially have the same effect as clearing the work directory prior to starting the sync tool. The flag should not be enabled by default."""
"DURACLOUD-579","Bug","UI",1,"Content image does not refresh after clicking ""Make space public"" button.","""To reproduce:  1. Make sure image service is running. 2. In duradmin browse to an image content item in a non-public space. 3. Click the make space public button. 4. Notice: the image is not visible.  5. Also note that the warning message  is not automatically removed as it should be.  Also note that when making a space non-public, the button for making it public does not reappear.  I think the panel should be refreshed and the image should be immediately available."""
"DURACLOUD-578","Bug","UI",1,"Links into the djatoka viewer are broken in duradmin","""Links into the djatoka viewer are broken in duradmin. For example the following url doesn't work:  http://174.129.12.28/adore-djatoka-p18080/viewer.html?rft_id=http%3A%2F%2Fdanny.duracloud.org%3A80%2Fdurastore%2Fimage-transformer-dest%2FSunset.png%3FstoreID%3D0  But this one does:   http://174.129.12.28/adore-djatoka-p18080/viewer.html?rft_id=https%3A%2F%2Fdanny.duracloud.org%2Fdurastore%2Fimage-transformer-dest%2FSunset.png%3FstoreID%3D0  The difference between the above urls:  replace the durastore url  protocol with https and remove the port and everything works.     """
"DURACLOUD-581","Bug","UI",1,"January 2012 completed reports are not showing up in duradmin dashboard.","""To reproduce, run a service to completion and then observe in the duradmin dashboard that it as well as another other service run after January 1st is not being displayed in the dashboard.  """
"DURACLOUD-587","Bug","UI",1,"When logged in as a non-admin,  the multi-space delete button should not be visible.","""To reproduce:  1. log in as a user 2. select a space or two using the checkboxes in the spaces list. 3. confirm that a delete button is visible."""
"DURACLOUD-586","Bug","UI",1,"When editing multiple space properties,  it is possible for users to attempt to update read only spaces.","""To reproduce this problem:  1. select a writeable spaceA and  read-only spaceB (using the checkboxes) 2. click edit properties 3. add a tag or name value pair and save.  4. duradmin displays the error dialog (unauthorized action error) """
"DURACLOUD-585","Story","Services",2,"Distinguish service-failures from failed-service-results for Non-Hadoop Services","""Same as https://jira.duraspace.org/browse/DURACLOUD-512 but for non-hadoop services that operate on lists of items."""
"DURACLOUD-594","Story","UI",5,"Move storage reports onto spaces tab","""This task is to break out the information in the storage reports and display it instead on the main Spaces tab. The space-specific charts should be included on the Space Detail page. The provider-specific charts should be displayed in the detail area that is currently shown as blank when selecting the Spaces tab. The top-level all-providers charts will no longer be displayed. Both the provider-specific and space-specific charts should still provide the option to view historical charts and data."""
"DURACLOUD-593","Story","UI",1,"DurAdmin: restrict access to Administration tab","""This task is to limit the Administration tab in DurAdmin to be viewable only by root users."""
"DURACLOUD-592","Story","UI",1,"DurAdmin updates","""Update the following items in DurAdmin:   - Change """"Space ID"""" and """"Content ID"""" to """"Space Name"""" and """"Content Name"""" respectively - In the footer of every DurAdmin instance page, ensure that DuraCloud has the """"c"""" capitalized. - In the footer of every DurAdmin instance page, the link to DuraCloud.org should come before DuraSpace.org - In the footer of every DurAdmin instance page, replace the current """"Help Desk"""" link with a """"Help Center"""" link which points to: https://wiki.duraspace.org/display/DURACLOUD/DuraCloud+Help+Center - The title of every DurAdmin instance page (that appears in the browser tab) should be DuraCloud: Login, DuraCloud: Spaces, etc. or something similar (not """"DurAdmin :: DurAdmin: Login"""" or """"DurAdmin: Spaces"""") - Change """"DuraCloud Administrator"""" to just """"DuraCloud"""" - Make the Dashboard tab available only to root users"""
"DURACLOUD-591","Story","UI",1,"Various DurAdmin updates","""Update the following items in DurAdmin:  - Remove the option to """"add one item"""", change the """"add many items"""" link to simply be """"add items"""" - Update the image on the copy button to appear consistent with the other buttons (currently appears to be lower quality) - In the Content Detail panel, make content size number understandable (at least include a unit - """"bytes"""") - In the Content Detail panel, set all buttons to be the same color (light gray perhaps)"""
"DURACLOUD-599","Bug","Storage|Utility",1,"When uploading with bulk upload tool, if  file is a jpg with hashmark in file name, the mime-type is not accurately identified.","""To reproduce:  1. Run the bulk uploader in duradmin. 2. Select a jpg with a # mark in the filename such as test#1.jpg. 3. Select a jpg with without a # mark in the filename such as test2.jpg. 4. Upload files. 5. Refresh space in duradmin 6. Verify that the mimetype for test2.jpg is image/jpeg (correct) 7. Verify test#1.jpg is application/octet-stream (less correct) """
"DURACLOUD-598","Bug","Storage|Utility",1,"when uploading jpg files with hashmark in file name, the mime-type is not accurately identified.","""To reproduce:  1. Run the bulk uploader in duradmin. 2. Select a jpg with a # mark in the filename such as test#1.jpg. 3. Select a jpg with without a # mark in the filename such as test2.jpg. 4. Upload files. 5. Refresh space in duradmin 6. Verify that the mimetype for test2.jpg is image/jpeg (correct) 7. Verify test#1.jpg is application/octet-stream (less correct) """
"DURACLOUD-604","Story","UI",1,"Provide visual feedback for slow loading thumbnails from the image server","""Image thumbnails are generated on the fly and then cached by the djatoka image server. The latency in thumbnail generation can sometimes leave the user wondering what happened to the image.   Providing a visual cue to show that something is happening, albeit slowly, would improve the experience."""
"DURACLOUD-603","Story","UI",1,"Make the image thumbnails in duradmin larger and improve the layout.","""When viewing an image in a public space with the image server service running, make the thumbnail larger and center the layout."""
"DURACLOUD-602","Bug","UI",1,"In the copy item dialog, there is no validation for missing destination space info.","""To reproduce:  1. as admin,  remove write access to all spaces within storageProviderA. 2. as user, login, select a content item, click copy, and select storageProviderA.  3. Verify that the destination space drop down is empty. 4. click ok.   5. verify that the call is made despite the invalid data.  Optimal solution:  add default list item to the space select (""""Select a destination space"""") and display invalid form message when this item is selected."""
"DURACLOUD-608","Bug","UI",1,"UI issues with prefix + refresh","""Part 1: Following these steps:  1. Select a space which has more than 1000 items 2. Enter a prefix into the """"type prefix"""" box, hit enter 3. Click the refresh button on the content item listing  Causes a series of error dialogs to pop up, indicating a NullPointerException while DurAdmin is attempting to count the space size. The stack trace reported in the dialog is captured in the attached file.  Part 2: Following the same steps as above, but selecting a space with less than 1000 items causes the """"Space Detail"""" area of the screen to blink continually"""
"DURACLOUD-615","Story","Security|UI",3,"Integrate with Shibboleth-based systems","""This task is to make it possible for Duradmin to integrate with existing Shibboleth-based authentication and authorization systems. This is needed in order to satisfy the requirements of Internet2 and DfR.  See discussions related to this issue here: https://wiki.duraspace.org/display/DFR/Shibboleth+Thread"""
"DURACLOUD-616","Story","Storage|UI",1,"Space and content checkboxes are hard to click on","""When trying to select a set of spaces to work on, I often select several spaces and then accidentally deselect them all accidentally by clicking a few pixels off of another checkbox.   The solution here is to add padding to the checkbox element so that it is not necessary to be so precise with the mouse position."""
"DURACLOUD-617","Story","Storage",1,"Eventual Consistency on Secondary StorageProviders: CreateSpace","""This improvement is to increase the probability that the space creation method will work on secondary providers. Currently, the S3StorageProvider has a wait cycle in the createSpace() method that retries adding the space-metadata file until the bucket has been created and registered. A similar wait cycle should be added to the createSpace() method (or rather appropriate 'setSpaceProperties' method) of: - RackspaceStorageProvider - AzureStorageProvider"""
"DURACLOUD-619","Bug","Storage",1,"Exception on Space Delete","""This task is to fix the bug that causes an exception to be thrown when deleting a space either in duradmin or via the REST api. With any storage-provider, when deleting a space in duradmin, a pop-up with the following message is displayed: failed to delete space!  In looking at the tomcat log, an error is also shown when using the REST api. In both cases, however, the space is actually deleted."""
"DURACLOUD-621","Story","UI",2,"Display bit integrity results on each space","""Services are being automated and users are no longer required to run the bit integrity service themselves, but they still need to know that their content is being verified. This task is to include on the UI, likely in the space details area, an indication of when the most recent successful bit integrity check was run over the content in that space.  In the event that the most recent bit integrity check resulted in an error, we (DuraCloud staff) will need the opportunity to investigate the issue and correct it if possible before the issue is displayed to the user (this may also be done in an automated fashion.) If it turns out that the error requires user intervention, then it would be nice to be able to have that be indicated in some way on the UI, calling out specifically which files need to be addressed."""
"DURACLOUD-620","Story","Services",5,"Duplicate on Change at Space-Level","""This improvement is to update the Duplicate on Change service to allow configuration at the space-level. Namely, the service should be able to run on a subset of the total spaces of an account. It would be ideal if this improvement also allowed the spaces over which Dup-on-Change is configured to copy from the primary to any of the secondary providers."""
"DURACLOUD-626","Story","Services",1,"Media Streamer: remove Viewer space","""Since services will no longer be run directly by users, there is no longer a need for the Media Streamer service to produce the contents of the Viewer space. Those generated files are not used as part of the service, they are only provided as examples for how a user might integrate the media streamer service with their own website.  This task is to: - Add a copy of the generated files (updated to be more generic) with some surrounding instructions to the DuraCloud documentation - Update the Media Streamer service to no longer generate these example files"""
"DURACLOUD-628","Story","Storage",1,"Add user-id to content messaging","""This improvement is to include the authenticated user-id of the user performing content actions over the durastore API. At the least, the user-id needs to be included on the ingest event message.  This is in support of the DfR: Object Creation Service."""
"DURACLOUD-629","Task","Services",1,"Update Media Streamer Service to not Require Sources","""This task is to remove the requirement of the media streamer service to have a source space."""
"DURACLOUD-630","Story","UI",2,"show content manifest head in space detail with link to full manifest","""The purpose of this feature is to guide the user to the content manifest for the space as well as enable them to peek at the recent activity.  The """"peek"""" might be equivalent to head -10 audit-log."""
"DURACLOUD-636","Story","Client",1,"Executor Client","""This task is to create a java client (similar to storeclient, serviceclient, and reportclient) to simplify interactions with the Executor REST API."""
"DURACLOUD-637","Story","Client",1,"Add manifest client","""This task is to create a Java client for calling the manifest REST methods in DuraBoss."""
"DURACLOUD-656","Bug","UI",1,"The checkbox used to select all items in the content items list should be cleared when selecting another space","""1. select a space. 2. select all content items. 3. select another space. 4. notice the """"select all"""" check box is still checked."""
"DURACLOUD-655","Bug","UI",1,"Deselecting all content items after having selected one or more does not cause the detail pane to show the space detail as it should.","""To reproduce:   1. select a content item using the checkbox. 2. deselect it. 3. notice the space detail pane is not being displayed."""
"DURACLOUD-653","Bug","UI",2,"Tag and Metadata deletes are not being serialized","""Tag and Metadata deletes are not being serialized. If one deletes multiple tags/key value pairs in rapid succession, you'll notice that some items that were deleted reappear upon refresh.   Solution:  use deferreds to serialize calls."""
"DURACLOUD-650","Bug","UI",1,"Newly uploaded content items do not show up on clicking the space.","""To reproduce:   1. Open a space. 2.  Upload content into a space. 3. Click on the space again in the space list. 4. Notice the newly uploaded content is not showing up."""
"DURACLOUD-665","Bug","UI",1,"Exceptions being swallowed by javascript  on space retrieval in Duradmin","""See line 1080 of spaces-manager.js  Notice only a 404 error is being handled.   """
"DURACLOUD-667","Story","UI",1,"Storage pie charts in duradmin/spaces should display file size and count totals","""Add """
"DURACLOUD-680","Bug","UI",1,"Buttons in Space and Content detail should wrap","""Currently, when viewing DurAdmin on a small screen or window, buttons in the Space Detail and Content Detail areas can be unavailable. Since there is no horizontal scroll bar, it's not obvious that those additional buttons even exist. Looking at the attached screen shot, it is not obvious that there are View and Delete buttons which do not show up on the screen.  This task is to allow these buttons to wrap, so that they will remain available even as the screen size diminishes."""
"DURACLOUD-678","Story","UI",1,"Do not display blank ""Size"" property for spaces","""The """"Size"""" property for spaces (the number of bytes stored in that space) is always available for spaces in Rackspace, because this information is provided, but is never available for spaces in Amazon and some other providers. This task is to remove the """"Size"""" property from the space display when it is empty."""
"DURACLOUD-674","Story","Storage",3,"Chronopolis REST Server Client","""This feature is to create a java client for the Chronopolis REST Server. https://github.com/msmorul/chron-notifier  Further details of the usage of the Chronopolis client can be found here: https://wiki.duraspace.org/display/CHRONO/DuraCloud+Chronopolis+Integration """
"DURACLOUD-688","Story","Report",1,"Bagit Manifest: Two Spaces","""This improvement is to make sure that the ManifestGenerator for Bagit manifests delimits the checksum from the path with two spaces instead of the current single space character."""
"DURACLOUD-685","Story","Report|Storage|UI",1,"Label Storage Graph Axes","""This improvement is to add labels to the two y-axes of the """"History"""" """"Byte and File Counts Over Time"""" storage graphs. Currently it is not exactly clear that the left-hand y-axis represents cumulative file size, and that the right-hand y-axis represents cumulative file counts."""
"DURACLOUD-695","Bug","UI",1,"Bulk Upload Applet Doesn't Work or Hangs on Multiple Browsers","""From the last All Staff Retreat, I know this is a """"known"""" issue. But, I wanted to track the scenarios that I've discovered thus far.  The Bulk Upload Applet responds in the following ways when loaded in the following environments: * Mac OSX (10.6.8) + Firefox 11.0 - Initially, saw a """"permanent"""" hang. I had to kill Firefox to continue. However, after restarting Firefox, on second attempt it loaded almost immediately. * Mac OSX + Chrome 18.0 - Temporary hang (1-2 mins), eventually loads properly. * Mac OSX + Safari 5.1.5 - Loads almost immediately. * Windows 7 + Chrome 18.0 - Loads in about 20-30 seconds * Windows 7 + Firefox 12.0 - Applet never seems to load & I always see a """"blank"""" pop-up window (just includes Duracloud header/footer)  UPDATE: Actually the issue was that the Java Plugin was disabled. See first comment below.  Just as a note, Internet Explorer & Opera also likely should be tested once DURACLOUD-694 issue is resolved."""
"DURACLOUD-694","Bug","UI",1,"DuraCloud 2.0 UI doesn't load when using Opera or Internet Explorer web browsers","""When accessing DuraCloud from Opera or IE, the UI doesn't load properly and is """"unusable"""" (i.e. you cannot do anything).  Both browsers provide the same result.  Here's a summary of what happens: 1. Visit http://[your-site].duracloud.org/ using the Opera or IE 2. Login -- this works fine 3. You are presented with a screen which shows no Spaces or content items. (I.e. it looks as though all your content has disappeared).  At this point, there's nothing you can do except logout.  This occurs on both Mac OSX and Windows 7 when using Opera, and on Windows 7 when using IE."""
"DURACLOUD-703","Bug","UI",1,"Delete space button available to user","""When logged in with """"user"""" role, space delete button is available/visible. After clicking to delete space, an error pop-up window appears that states """"space delete failed."""" Ideally, a person logged in with """"user"""" role would be unable to delete the space, but would have an easy way to delete ALL the contents stored within a space. See attached screenshot for error pop-up window."""
"DURACLOUD-702","Bug","UI",1,"UI: Space count causes bit integrity notice to be removed","""On spaces with a large number of content items, there is an ajax call made to perform the count of items in the background. This number is updated in the space properties as the count continues, and is eventually set to indicate the final number.   When a space has had a successful bit integrity run, a notice with a green background is displayed in the space properties, with a link to the results of the bit integrity run.  In situations where both of these occur (a large number of items, and a successful bit integrity run), the completion of the item count causes the space properties to be reloaded, which removes the notice about the bit integrity run. This task is to ensure that the bit integrity notice persists through the item count update."""
"DURACLOUD-708","Bug","UI",1,"500 on Image Content Selection","""This bug can be seen when quickly clicking between content items with image mimetypes ('image/*') within duradmin. A 500 error is presented to the user."""
"DURACLOUD-706","Story","UI",1,"UI: Remove image preview","""Currently the image preview section of the UI displays an icon (with mountains) when either the Image Server is not on, or when the space is not publicly viewable. This tends to prompt lots of user questions around why they cannot view an preview. This is especially an issue for multi-tenant accounts, where the user is not able to start the Image Server or make their space publicly viewable. This task is to remove the image preview area of the content item display."""
"DURACLOUD-712","Story","Client",2,"SyncTool: Better handle periods of time when the DuraCloud instance is unavailable","""Update the sync tool to be better able to handle periods of time where the instance has become unavailable. This is particularly important to allow the SyncTool to continue to run normally across DuraCloud instance upgrades.   A likely strategy is: When a transfer fails, check to see if the instance is available before doing a retry, if its not, then wait for ~5 min and try again. When the instance becomes available again, resume file transfers."""
"DURACLOUD-710","Bug","UI",1,"UI: Space counting issues","""This item covers two issues with the space count that occurs on the space properties of spaces  with more than 1000 items: 1. The count now often starts at 0+. The count used to consistently start at 1000+ or 1999+. 2. When the count completes, it very often restarts and performs the count a second time, always ending with the same result."""
"DURACLOUD-715","Task","Storage",1,"SDSC Auth Endpoint","""This improvement is to switch the authUrl found in SDSCStorageProvider from:   """"https://cloud.sdsc.edu/auth/v1.0  to:   https://duracloud.auth.cloud.sdsc.edu/auth/v1.0"""
"DURACLOUD-717","Bug","Utility",2,"Synctool - Java7: SSLProtocolException","""With Java7, the following exception is thrown when trying to use the Synctool in any standard configuration: Exception in thread """"main"""" java.lang.RuntimeException: Could not create connection to DuraStore due to Error retrieving content stores. handshake alert:  unrecognized_name  The issue and workaround are posted here: http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=7127374"""
"DURACLOUD-726","Bug","Exec",1,"Auditor not passing tests on Windows","""The Auditor project produces many errors and test failures when being built using """"mvn clean install"""" on Windows. This is due to the use of colon characters in created file names (which are date based), and file path separator issues."""
"DURACLOUD-728","Bug","UI",1,"Move DefaultFilter from duradmin to common.","""The motivation for this refactoring is to make the aforementioned useful class available to other web applications such as dfr-sync and mc."""
"DURACLOUD-735","Story","Utility",2,"Sync Tool: Exclude list","""This task is to allow for passing a list of files to the Sync Tool which should be ignored when performing a sync. The simple case is for the file to include one full path to a file per line. Any file in this list would not be pushed to DuraCloud. Directories in the list would be excluded as well, along with all files and subdirectories in each directory.  A more complex implementation would allow for using wildcards to indicate files that should not be included. The capabilities of rsync should be reviewed in order to determine the most convenient syntax for the exclusions."""
