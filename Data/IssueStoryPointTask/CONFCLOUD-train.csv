"issuekey","type","components","storypoint","title","description_text"
"CONFCLOUD-5599","Suggestion","Page - Export",1,"Export news (blog posts) to PDF","""{panel:bgColor=#e7f4fa}   *NOTE:* This suggestion is for *Confluence Cloud*. Using *Confluence Server*? [See the corresponding suggestion|http://jira.atlassian.com/browse/CONFSERVER-5599].   {panel}  We write daily market summaries using the Confluence news posts feature.  It would be very useful to be able to email these daily summaries (that include tables and attached graphs from Excel) to people outside of the company. """
"CONFCLOUD-14838","Bug","Administration - Look and Feel / Themes",3,"Themes from plugins is still referenced by Confluence after plugin is uninstalled","""{panel:bgColor=#e7f4fa}   *NOTE:* This bug report is for *Confluence Cloud*. Using *Confluence Server*? [See the corresponding bug report|http://jira.atlassian.com/browse/CONFSERVER-14838].   {panel}  Confluence still uses an uninstalled theme's layout (eg. the font will still be the old plugin's font) as its site layout although the plugin has been uninstalled.  Steps to replicate: # Install a theme plugin # Set the theme as the Site Theme # Uninstall the theme # Confluence theme selection page (http://ConfluenceURL/admin/choosetheme.action) will report that the site is using the default theme. Warnings will be populating the log file:   Customers who used the Classic Theme as a site layout might encounter this warning after they have upgraded to Confluence 2.10.  The work around is to set Confluence site theme to other installed theme."""
"CONFCLOUD-20224","Bug","Page - Export",2,"PDF export for Code Block content is resulting in blank space gap","""{panel:bgColor=#e7f4fa}   *NOTE:* This bug report is for *Confluence Cloud*. Using *Confluence Server*? [See the corresponding bug report|http://jira.atlassian.com/browse/CONFSERVER-20224].   {panel}  h3. Summary When exporting a page with large (multi-page) code block content, the pdf file would contain block space gap within the code block content  h3. Steps to Reproduce # Create a page and add a code block macro with enough content to span more than one page in the generated pdf # Insert content into the code block macro # Export page to PDF   h3. Expected Results # It should properly export the page to PDF without blank space gap  h3. Actual Results # PDF export for Code Block content is resulting in blank space gap.   """
"CONFCLOUD-22575","Suggestion","Integrations - JIRA",5,"Support customisation of fields displayed by JIRA macro when showing a single issue","""{panel:bgColor=#e7f4fa}   *NOTE:* This suggestion is for *Confluence Cloud*. Using *Confluence Server*? [See the corresponding suggestion|http://jira.atlassian.com/browse/CONFSERVER-22575].   {panel}  In a Confluence instance with an applink set up to JIRA I would like to be able to use the """"shortcut"""" version of the jira issue macro like this:    At the moment the columns attribute is ignored and the key/description/status is displayed (see attachment). I would prefer that only the specified columns are displayed, perhaps with a vertical or horizontal layout attribute."""
"CONFCLOUD-24540","Bug","Editor - Comment Editor",3,"Viewfile macro can't find attachment if the page title contain character after colon (:)","""{panel:bgColor=#e7f4fa}   *NOTE:* This bug report is for *Confluence Cloud*. Using *Confluence Server*? [See the corresponding bug report|http://jira.atlassian.com/browse/CONFSERVER-24540].   {panel}  h3. Summary of The Bug  When page title have any character after a colon( : )    office connector can't find the office files attached to the page. If colon is the last character on the page title, attached office files searchable by view office macro  h3. How to reproduce the bug  # Create a page (example: 'Office connector:') !Officepage.png|thumbnail! # Attached office file into the page !attached.png|thumbnail! # Try to view it using view office plugin !Works.png|thumbnail! # Change the page title to contain any character after colon (example: 'Office connector:test') !test.png|thumbnail! # Try to view it using view office plugin !broke.png|thumbnail! # Attached files can't be seen on """"File Name"""" fields (i) When viewed with _Developer Tools_, the {{attachmentsearch.action}} GET request returned HTTP 404 error code.  h3. Workarounds Option 1 - Rename the page to remove the ':'  Option 2 - Use the insert markup feature: # From the editor toolbar, expand the '+' menu. # Choose 'Markup'. # Insert the following markup (change accordingly):  # Save  h1. Work performed * Changes are backwards-compatible in the plugin, committed in https://bitbucket.org/atlassian/officeconnector issue/CONF-24540 . 2 backwards-compatibility issues were raised: CONFDEV-10156 and CONFDEV-10157. * Changes in confluence-core are still on issue/CONF-24540, and awaiting implementation of a few review comments before being committed. """
"CONFCLOUD-25278","Bug","Page - Export",2,"Page margin CSS in PDF Stylesheet can OOME and cause high load on Confluence during PDF export","""{panel:bgColor=#e7f4fa}   *NOTE:* This bug report is for *Confluence Cloud*. Using *Confluence Server*? [See the corresponding bug report|http://jira.atlassian.com/browse/CONFSERVER-25278].   {panel}  h5. Steps to reproduce: # Add the following CSS in your Space PDF Stylesheet:  # Export a Page to PDF and will ended up at System Error page with the following stacktrace:  # Export the Space to PDF and it will take forever and throw the following in the stacktrace:   h5. Findings It seems that this can only be reproduced if the value of the margin is bigger than 5in.  h5. Workaround Follow the instructions from the following KB article: http://confluence.atlassian.com/display/CONFKB/Exporting+Page+or+Space+to+PDF+Fails+and+Causes+High+Load+or+OutOfMemoryError"""
"CONFCLOUD-26016","Bug","Page - Export",2,"pdf export fails to retrieve image if the image on the page is a web image and url contains ""download/attachments""","""{panel:bgColor=#e7f4fa}   *NOTE:* This bug report is for *Confluence Cloud*. Using *Confluence Server*? [See the corresponding bug report|http://jira.atlassian.com/browse/CONFSERVER-26016].   {panel}  If you insert a web image to a page whose url contains the text {{download/attachments}} (such as this image {{http://confluence.atlassian.com/download/attachments/139467/confluence-3-0-profile-view.png?version=2&modificationDate=1243658607572}}), and then export that page as pdf, the image will not resolve, and you will get a warning in the logs    The pdf exports continue, but where the image should've been, is instead an empty space.  h4. Workaround: Add the problematic image as an attachment first, and then replace the web image with the attachment on the page before exporting."""
"CONFCLOUD-26780","Bug","Editor - Comment Editor|Page - Export",2,"Export to PDF removes non-Latin Unicode under viewfile macro","""{panel:bgColor=#e7f4fa}   *NOTE:* This bug report is for *Confluence Cloud*. Using *Confluence Server*? [See the corresponding bug report|http://jira.atlassian.com/browse/CONFSERVER-26780].   {panel}  *Problem Description* In exporting to PDF, some non latin unicode character like Russian character, Chinese character or Turkish character will not be exported properly to pdf (lost), if they are inside viewfile macro. Even though the font is already specified to for example verdana, and verdana.ttf is already uploaded in _Confluence Admin >> PDF Export Language Support_, the character inside viewfile macro is not exported.  *Steps to reproduce* # Include any non unicode character on office document (I use russian in this case) # You can use either word (doc and docx), excel (xls and xlsx), or powerpoint (ppt or pptx) format # Install the font as mentioned in [this documentation|https://confluence.atlassian.com/display/DOC/Creating+PDF+in+Another+Language] # Create a page # You can put some non latin character on the editor as well # Attach the document files # Use view file macro to display the attachment in the page # Export to PDF and notice that the nonlatin character in page is exported, but not the one inside viewfile macro"""
"CONFCLOUD-27259","Suggestion","Integrations - JIRA",3,"When using the Issuelinks field column in the JIRA macro, there are no hyperlinks like in the Issue Navigator in JIRA","""{panel:bgColor=#e7f4fa}   *NOTE:* This suggestion is for *Confluence Cloud*. Using *Confluence Server*? [See the corresponding suggestion|http://jira.atlassian.com/browse/CONFSERVER-27259].   {panel}  Customer requests that the Linked Issue field column, when added to the JIRA Macro in Confluence, contain hyperlinks like when you add the field in the Issue Navigator in JIRA.  """
"CONFCLOUD-28229","Suggestion","Editor - Comment Editor",3,"Use Ctrl-Shift-V to 'paste unformatted'","""{panel:bgColor=#e7f4fa}   *NOTE:* This suggestion is for *Confluence Cloud*. Using *Confluence Server*? [See the corresponding suggestion|http://jira.atlassian.com/browse/CONFSERVER-28229].   {panel}  The convention is that Ctrl-v pastes and Ctrl-Shift-V pastes unformatted text."""
"CONFCLOUD-28252","Bug","Page - Export",3,"Page break before and after Table of Contents macro are forced in PDF export","""{panel:bgColor=#e7f4fa}   *NOTE:* This bug report is for *Confluence Cloud*. Using *Confluence Server*? [See the corresponding bug report|http://jira.atlassian.com/browse/CONFSERVER-28252].   {panel}  When a Page is exported, a page break is forced before and after Table of Contents, resulting in an otherwise empty page. This behaviour is not related to PDF stylesheet settings, and occurs regardless of the place in the page where the macro is embedded (see example exports attached)."""
"CONFCLOUD-28543","Bug","Macros - Gadgets",5,"Activity stream not respecting parent page restrictions","""{panel:bgColor=#e7f4fa}   *NOTE:* This bug report is for *Confluence Cloud*. Using *Confluence Server*? [See the corresponding bug report|http://jira.atlassian.com/browse/CONFSERVER-28543].   {panel}  The Confluence Activity stream will display all pages that the user has access to according to the restrictions. However, if the user is limited in viewing a page due to inherited restrictions from a parent page, the page in question will still show up in the activity stream, and when following the link, the user will be notified that due to inherited restrictions, they will be unable to view the page.  The activity stream should not display pages that are restricted for viewing due to inherited restrictions, or child pages should copy over parent page restrictions."""
"CONFCLOUD-54447","Bug","Integrations - JIRA",0,"Export to PDF of Filter Results Macro includes a HTML link on generated file.","""I've created a page containing Filter Results Macro:    !https://jira.atlassian.com/secure/attachment/88762/Screen%20Shot%202013-03-21%20at%2012.56.56%20PM.png!    When trying to export the content to PDF, the file is generated, but without the desired content:    !https://jira.atlassian.com/secure/attachment/88763/Screen%20Shot%202013-03-21%20at%2012.57.17%20PM.png!"""
"CONFCLOUD-54239","Bug","Page - Export",2,"Space Admin export of pages to PDF containing Lucid charts gives error","""h4.Steps to reproduce    # Go to a space that contains pages with Lucid Charts  # Go to Browse > Space Operations  # Click on Export - PDF  # Select the Custom Export radio button  # Check one or more pages which contains Lucid Charts  # Click on Export button  # Download the PDF    h4.Issue    Instead of having the chart, each of them are replaced by:    *Error: Unable to retrieve macro content from Remotable Plugin 'Lucidchart': The validated object is null*    See attached file as the result.    *P.S.:* If you export a single page through its 'Tools > Export to PDF', it works fine."""
"CONFCLOUD-30079","Bug","Integrations - JIRA",0.5,"NullPointerException when attempting to render a JIRA issue where the resolution field has been hidden","""{panel:bgColor=#e7f4fa}   *NOTE:* This bug report is for *Confluence Cloud*. Using *Confluence Server*? [See the corresponding bug report|http://jira.atlassian.com/browse/CONFSERVER-30079].   {panel}  Steps to reproduce: * Create an issue in JIRA (e.g. FOO-1). * Change the field configuration of that issue to set """"Resolution"""" to """"Hide"""" (if using the default Field Configuration, this can be done at /secure/admin/ViewIssueFields.jspa). * Edit a page in Confluence and insert a JIRA issue macro referencing FOO-1. * Save or Preview the page.  *Expected result:* FOO-1 should be rendered by the macro as normal.  *Actual result:* The following error is displayed: {quote} Error rendering macro 'jira' : com.atlassian.confluence.macro.MacroExecutionException: java.lang.NullPointerException {quote}  Full stack trace from the logs:   If the Resolution field is set back to """"Show"""", you will also need to flush Confluence's caches to get the macro working as expected (i.e. """"Flush All"""" on /wiki/admin/cachestatistics.action).   h5. Workaround: Uninstall JIRA Macros Plugin v5.0 and then download v4.0.29 from [Marketplace|https://marketplace.atlassian.com/plugins/confluence.extra.jira/versions] and manually upload it into Confluence from the Plugin manager (Manage Add-Ons > Upload Add-On)."""
"CONFCLOUD-30077","Suggestion","Integrations - JIRA",0,"JIRA issue macro aggressively caches, new issues take a while to appear in the issues macro ","""{panel:bgColor=#e7f4fa}   *NOTE:* This suggestion is for *Confluence Cloud*. Using *Confluence Server*? [See the corresponding suggestion|http://jira.atlassian.com/browse/CONFSERVER-30077].   {panel}  The new JIRA Issue macro, accessible via Insert > JIRA Issue, does not allow the user the configure caching. Currently it's always on. The problem here is that with caching always enabled, the information shown in Confluence is not always up-to-date.  h4. Steps to reproduce # In JIRA, create a project with a key of TEST # Create one issue under TEST # On the Confluence editor, use Insert > JIRA Issue, and set the JQL to """"project=TEST"""". Save the macro and page. One issue is shown # Create another issue under TEST # Refresh the Confluence page. The second issue does not appear until the cache is expired, or if it's flushed manually via Confluence Admin > Cache Statistics  A workaround solution, You can remove the cache by following steps:  # Go to the page """"Confluence Admin >> Cache Statistics >> Advanced"""" # Search for the term """"JIRA Issues"""".  # Change the value from """"100"""" (default) to """"1""""  # Click the button """"Adjust Size"""" to enable the change.   h4. Other issues This is a related but separate issue from CONF-22845, which addresses the original JIRA Issues macro."""
"CONFCLOUD-30116","Suggestion","Integrations - JIRA",0,"Ability to configure the maximum number of issues displayed in the JIRA issues macro","""{panel:bgColor=#e7f4fa}   *NOTE:* This suggestion is for *Confluence Cloud*. Using *Confluence Server*? [See the corresponding suggestion|http://jira.atlassian.com/browse/CONFSERVER-30116].   {panel}  In earlier versions, the JIRA issue macro had a pagination feature. This feature was removed due to observed low feature usage, in addition with our strategic focus to simplify the Confluence user interface and to keep and complex JIRA operations in JIRA. My apologies for the may customers that were quickly impacted by this, we could have done a better job in communicating this and ensuring we had understood your needs with regards to this matter.   Since then we've received a lot of feedback to bring back pagination. Thank you for those of you who provided helpful comments below, and for those customers we have been able to speak to about this. With this in mind, we have concluded the following:  * It is very clear that the current issue limit we have is insufficient and does not meet most of your needs.  * It is important for you to be able to see _all_ the issues requested  * We still believe that the use case of navigating 100+ issues within inside Confluence is something that is extremely low and is something which should be done in JIRA.  * Some of you mentioned of the importance of seeing this also in PDF exports when you share the release notes or pages with customers.   With that in mind, what will we be doing to address this? 1. We will look at increasing the limit of the total number of visible issues 2. In addition, we will look at providing a parameter to configure this. *Note:* You will always be limited by the total amount of issues JIRA provides, but [this setting can be changed|https://confluence.atlassian.com/display/ONDEMANDKB/Changing+maxResults+Parameter+for+JIRA+REST+API]. 3. We will be looking at also implementing CONF-30114 (sorting) to assist with dealing with larger issue lists in Confluence.   Thank you all for your patience in this matter, we will update this issue as we make progress.   Sherif Mansour Confluence Product Manager  Previous description:  {panel} The new JIRA issues macro does not paginate. This feature request is to help us better understand why customers want this.  If you are going to comment on this ticket, please provide some understanding for why you want pagination. We removed this feature because we saw very low usage of it. Since then, we've had a few requests to bring it back.   One way we could solve the majority use case is to increase the default amount of search results displayed. We are a bit hesitant to bring this back as we want to understand what it is that we are missing. If you are embedding 50/100+ issues on a page and want pagination, you probably shouldn't be doing that in Confluence, but rather the JIRA issue navigator - that is why we tell you """"there are xxx more issues, open in JIRA"""".   Please help us understand why you want this and some examples where you really do have lots of issues on a page that you want your end-users to read (if that is the use case) {panel} """
"CONFCLOUD-30114","Suggestion","Integrations - JIRA",8,"Ability to sort issues in the JIRA issues macro table","""{panel:bgColor=#e7f4fa}   *NOTE:* This suggestion is for *Confluence Cloud*. Using *Confluence Server*? [See the corresponding suggestion|http://jira.atlassian.com/browse/CONFSERVER-30114].   {panel}  In the new release of the JIRA issues macro, it is not possible to short the columns inside a table.  This feature request is to sort columns from viewpage for the JIRA issues macro. """
"CONFCLOUD-51736","Suggestion","Add-ons - Confluence Questions",5,"When asking a question notify users of similar questions","""{panel:bgColor=#e7f4fa}   *NOTE:* This suggestion is for *Confluence Cloud*. Using *Confluence Server*? [See the corresponding suggestion|http://jira.atlassian.com/browse/CONFSERVER-51736].   {panel}  This is intended to reduce the number of duplicate questions on the system. """
"CONFCLOUD-51714","Suggestion","Add-ons - Confluence Questions",13,"Accept an answer","""{panel:bgColor=#e7f4fa}   *NOTE:* This suggestion is for *Confluence Cloud*. Using *Confluence Server*? [See the corresponding suggestion|http://jira.atlassian.com/browse/CONFSERVER-51714].   {panel}  As an employee, I want to mark an answer as the """"accepted"""" answer."""
"CONFCLOUD-51737","Suggestion","Add-ons - Confluence Questions",13,"link a CQ topic to a Hipchat room","""{panel:bgColor=#e7f4fa}   *NOTE:* This suggestion is for *Confluence Cloud*. Using *Confluence Server*? [See the corresponding suggestion|http://jira.atlassian.com/browse/CONFSERVER-51737].   {panel}  """
"CONFCLOUD-51705","Suggestion","Add-ons - Confluence Questions",8,"As a space admin, I want to display a list of questions on my page","""{panel:bgColor=#e7f4fa}   *NOTE:* This suggestion is for *Confluence Cloud*. Using *Confluence Server*? [See the corresponding suggestion|http://jira.atlassian.com/browse/CONFSERVER-51705].   {panel}  macro parameters include: * (must have) restrict to these topics (and / or) - e.g. (design AND faq) * (nice to have) sort by: newest (default), oldest, most popular * (nice to have) maximum number of questions to display * (nice to have) show only answered or unanswered questions * (nice to have) display just questions or questions + answers"""
"CONFCLOUD-30428","Suggestion","Integrations - JIRA",1,"JIRA Issues Macro filter behaviour has changed so that it no longer saves the filter, but rather hard-codes the results.","""{panel:bgColor=#e7f4fa}   *NOTE:* This suggestion is for *Confluence Cloud*. Using *Confluence Server*? [See the corresponding suggestion|http://jira.atlassian.com/browse/CONFSERVER-30428].   {panel}  h3. The problem Inserting a URL to a saved filter, eg {{http://localhost:9604/browse/TEST-3?filter=10000}} autocompletes to the JQL content of the filter - 'description ~ """"description""""' in my test case - so when filter 10000 changes, the JIRA Issues  will still be 'description ~ """"description""""'. This is not the same as previous behaviour, where the filter would remain in the macro and changes to the filter would be reflected in Confluence.  h3. Steps to Reproduce # Create and view a filter in JIRA # Copy the URL # Create a JIRA Issues Macro in Confluence 5.2.3 # Paste the URL into the macro #- Observe that the URL is immediately changed to the JQL of the filter. # Save the JIRA Issues Macro # Change the filter in JIRA so that the results are different # Reload the Confluence page #- Observe that the results do not reflect the changes to the filter"""
"CONFCLOUD-51754","Suggestion","Add-ons - Confluence Questions",8,"I want to be able to get a notification for every new question created regardless of topic","""{panel:bgColor=#e7f4fa}   *NOTE:* This suggestion is for *Confluence Cloud*. Using *Confluence Server*? [See the corresponding suggestion|http://jira.atlassian.com/browse/CONFSERVER-51754].   {panel}  - An option to get notifications for all questions that are created. - The tricky thing is where to place the button/checkbox for that. - Should not send duplicate emails if I am also watching the topic for that question"""
"CONFCLOUD-30874","Bug","Integrations - JIRA",0,"Re-searching the same JQL will not update the macro contents.","""{panel:bgColor=#e7f4fa}   *NOTE:* This bug report is for *Confluence Cloud*. Using *Confluence Server*? [See the corresponding bug report|http://jira.atlassian.com/browse/CONFSERVER-30874].   {panel}  I once had a JIRA Macro displaying all JIRA issues with a label """"MYLABEL"""" (JQL: labels = """"MYLABEL""""). This returned seven results.  I raised another ticket, and applied the label """"MYLABEL"""". This did not update the macro contents on view, but I believe that is expected.  I edited the page, and then the macro, and re-searched (the same search that was there). This second search returned eight results. I saved the macro and saved the page.  Upon viewing the page, the JIRA Macro still had seven results."""
"CONFCLOUD-51712","Suggestion","Add-ons - Confluence Questions",13,"Support anonymous users in CQ","""{panel:bgColor=#e7f4fa}   *NOTE:* This suggestion is for *Confluence Cloud*. Using *Confluence Server*? [See the corresponding suggestion|http://jira.atlassian.com/browse/CONFSERVER-51712].   {panel}  Add an """"anonymous use question"""" permission to the questions configuration screen."""
"CONFCLOUD-47675","Bug","Add-ons - Confluence Questions",5,"Don't scale the topic avatar up","""{panel:bgColor=#e7f4fa}   *NOTE:* This bug report is for *Confluence Cloud*. Using *Confluence Server*? [See the corresponding bug report|http://jira.atlassian.com/browse/CONFSERVER-47675].   {panel}  {quote} I select an 48x48 png image and get a scaled up version of this to select the range? If I do this I get a bad looking version of my good looking image with similar resolution. {quote}  We should scale down the avatar if it's too big but shouldn't scale up if it's too small."""
"CONFCLOUD-54294","Bug","Integrations - JIRA",0,"JIRA Issue macro shows empty results if JIRA fields are in different language","""If you have JIRA and Confluence linked up, and JIRA is in different language (eg. German). Confluence will not display any results until you key in the field names in English.    These are OK:  key;summary;labels;description;acceptance criteria    These only show data in the status column:  Schlüssel,Übersicht,Typ,erstellt,aktualisiert      Suggested solution: Key in the field names in English    h3. Steps to Reproduce  # Link Confluence and JIRA  # Create a page with a JIRA Issues Macro  # In the macro, enter Schlüssel,Übersicht,Typ,erstellt  #- You will see that only the status is displayed  # Change the fields above to English """"key;summary;labels;description;acceptance criteria""""  #- You will see that all columns display correctly."""
"CONFCLOUD-47613","Bug","Add-ons - Confluence Questions",5,"Unable to submit a question in IE.  I get an error stating that I must add at least one topic.","""{panel:bgColor=#e7f4fa}   *NOTE:* This bug report is for *Confluence Cloud*. Using *Confluence Server*? [See the corresponding bug report|http://jira.atlassian.com/browse/CONFSERVER-47613].   {panel}  We just installed the Confluence Questions beta after updating to Confluence 5.3.  It is immediately unusable.  When I go to Ask a Question, I enter the summary and description and then add some topic tags at the bottom. As soon as I hit the submit button, I get a red error indicating that I must add at least one topic.  I have tried adding one and also two topics to no avail."""
"CONFCLOUD-48045","Bug","Add-ons - Confluence Questions",5,"Question items appear on the popular stream for anonymous users even with restrictions in place","""{panel:bgColor=#e7f4fa}   *NOTE:* This bug report is for *Confluence Cloud*. Using *Confluence Server*? [See the corresponding bug report|http://jira.atlassian.com/browse/CONFSERVER-48045].   {panel}  Steps to reproduce:   # Create a question # Navigate to Administration > Confluence Questions Configuration and restrict access to questions to a group of users (say confluence-users) # Grant anonymous users """"use"""" permission # Logout and then navigate to Confluence dashboard  """
"CONFCLOUD-47813","Bug","Add-ons - Confluence Questions",3,"No visual feedback for topic icon upload","""{panel:bgColor=#e7f4fa}   *NOTE:* This bug report is for *Confluence Cloud*. Using *Confluence Server*? [See the corresponding bug report|http://jira.atlassian.com/browse/CONFSERVER-47813].   {panel}  We need a spinner/throbber/something to indicate that the topic logo is being uploaded.  https://support.atlassian.com/browse/CQS-60"""
"CONFCLOUD-47802","Bug","Add-ons - Confluence Questions",1,"CQ keyboard shortcuts interfere with regular Confluence shortcuts","""{panel:bgColor=#e7f4fa}   *NOTE:* This bug report is for *Confluence Cloud*. Using *Confluence Server*? [See the corresponding bug report|http://jira.atlassian.com/browse/CONFSERVER-47802].   {panel}  [~dloeng@atlassian.com] has had a quick look at this and fixed the immediate issue on PUG, but the theory is that changing the context of our keyboard shortcuts will stop the clash from occurring."""
"CONFCLOUD-51725","Suggestion","Add-ons - Confluence Questions",13,"As a question viewer I want to turn an answer into a comment","""{panel:bgColor=#e7f4fa}   *NOTE:* This suggestion is for *Confluence Cloud*. Using *Confluence Server*? [See the corresponding suggestion|http://jira.atlassian.com/browse/CONFSERVER-51725].   {panel}  some people are posting answers that really should comments. you should be allowed to turn answers into comments.  Note - there should probably be a """"turn answers into comments"""" permission in the system"""
"CONFCLOUD-31404","Bug","Space - Import / Export",3,"Orphaned entries in the OS_PROPERTYENTRY table cause failure in space import","""{panel:bgColor=#e7f4fa}   *NOTE:* This bug report is for *Confluence Cloud*. Using *Confluence Server*? [See the corresponding bug report|http://jira.atlassian.com/browse/CONFSERVER-31404].   {panel}  Orphaned entries should be removed from space export/OS_PROPERTYENTRY table otherwise space import would failed with the following error (for example): {code} Caused by: com.atlassian.confluence.importexport.ImportExportException: Unable to complete import: Error while importing backup: could not insert: [bucket.user.propertyset.BucketPropertySetItem#BucketPropertySetItem[entityId=119570525,entityName=confluence_ContentEntityObject,key=net.customware.confluence.plugin.toc:cached:1,type=6,boolean=false,string=<null>,text=<div>  com.atlassian.confluence.importexport.ImportExportException: Unable to complete import: Error while importing backup: could not insert: [bucket.user.propertyset.BucketPropertySetItem#BucketPropertySetItem[entityId=117440539,entityName=confluence_ContentEntityObject,key=isbookmark,type=5,boolean=false,string=<null>,text=<null>,int=0,double=0.0,long=0,date=<null>]] {code} Logs also show: {code}Caused by: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint """"os_propertyentry_pkey""""{code}  h5. Workaround: As a precaution measure, backup the database before making any changes.   # Run the following queries to identify the orphaned entries in Confluence database: {code:sql} SELECT * FROM OS_PROPERTYENTRY WHERE entity_key LIKE '%net.customware.confluence.plugin.toc%'; {code} {code:sql} SELECT     * FROM     OS_PROPERTYENTRY WHERE     OS_PROPERTYENTRY.entity_name='confluence_ContentEntityObject' AND OS_PROPERTYENTRY.entity_id NOT IN     (         SELECT             CONTENTID         FROM             CONTENT)             order by 2,3; {code} If the queries above returned a result, proceed with the following: # Shut down Confluence # The queries to delete the orphaned entries from the database: {code:sql} DELETE FROM OS_PROPERTYENTRY WHERE entity_key LIKE '%net.customware.confluence.plugin.toc%'; {code}  Note that this query is an example and refers to the _entity_key_ value referred to in the error mentioned earlier. Depending on the imported _os_propertyentry_ data, it may be required to remove entries with a different key. {code:sql} DELETE FROM     OS_PROPERTYENTRY WHERE     OS_PROPERTYENTRY.entity_name='confluence_ContentEntityObject' AND OS_PROPERTYENTRY.entity_id NOT IN     (         SELECT             CONTENTID         FROM             CONTENT); {code} # Start Confluence # Restore the space backup (make sure there is no identical space key exist before the restoration)  """
"CONFCLOUD-31488","Bug","Integrations - JIRA",3,"JIRA issues macro throws exceptions when applinks are not configured correctly","""{panel:bgColor=#e7f4fa}   *NOTE:* This bug report is for *Confluence Cloud*. Using *Confluence Server*? [See the corresponding bug report|http://jira.atlassian.com/browse/CONFSERVER-31488].   {panel}  Scenario 1: 1. Create applink to from Confluence to JIRA (2LO should be configured by default) 2. Insert JIM on a confluence page - see that it's rendered correctly 3. Disable the OAuth outgoing authentication from Confluence (Do not untick the """"Enable outgoing 2-Legged OAuth requests"""" option 4. View the JIM again - see that a MacroExecutionException is displayed  Scenario 2: 1. Create applink to from Confluence to JIRA (2LO should be configured by default) 2. Insert JIM on a confluence page - see that it's rendered correctly 3. Disabled """"Enable outgoing 2-Legged OAuth requests"""" from the JIRA incoming OAuth authentication 4. View the JIM again - see that a MacroExecutionException is displayed  Ideally we would display message to the end user indicating that there is an applink misconfiguration"""
"CONFCLOUD-47594","Bug","Add-ons - Confluence Questions",3,"Downvote emails are not really anonymous","""{panel:bgColor=#e7f4fa}   *NOTE:* This bug report is for *Confluence Cloud*. Using *Confluence Server*? [See the corresponding bug report|http://jira.atlassian.com/browse/CONFSERVER-47594].   {panel}  !https://s3.amazonaws.com/uploads.hipchat.com/10804/157979/7Op4DM7Y2te9XKq/%5BConfluence%5D+New+vote+for+an+answer+on+%22can+I+accept+a+question%3F%22+-+jhoarau%40atlassian.com+-+Atlassian+Mail+2013-11-06+14-26-18.png!"""
"CONFCLOUD-31534","Suggestion","Macros - JIRA Macros",3,"When Epic Link is chosen as a display field in the JIRA macro, it should show Epic Name.","""{panel:bgColor=#e7f4fa}   *NOTE:* This suggestion is for *Confluence Cloud*. Using *Confluence Server*? [See the corresponding suggestion|http://jira.atlassian.com/browse/CONFSERVER-31534].   {panel}  This was recently fixed in Jira, where in Issue Navigator issues now show their Epic's name rather than the Epic's Issue Key.  In Confluence, the Epic's Issue Key is still displayed when using the JIRA macro."""
"CONFCLOUD-31528","Bug","Space - Import / Export",1,"When Space XML Imports Fail, Partial Space Data is Left in the Database","""{panel:bgColor=#e7f4fa}   *NOTE:* This bug report is for *Confluence Cloud*. Using *Confluence Server*? [See the corresponding bug report|http://jira.atlassian.com/browse/CONFSERVER-31528].   {panel}  Space XML imports will sometimes fail due to a variety of reasons: * Confluence runs out of memory * The import process times out * Unique key constraint violations * A few other causes are described in https://confluence.atlassian.com/display/DOC/Troubleshooting+XML+backups+that+fail+on+restore  Oftentimes these partially imported spaces remain in the DB without any way to remove them via the UI, making a re-import attempt impossible (due to a duplicate Space Key or other constraint violation).  Can we investigate: - some way to rollback a failed XML space import (or determine whether imports will fail before it starts)? - possibilities for Confluence to automatically recognise half-imported Spaces and delete related data from the UI?  *Current workaround:* [How to Manually Delete a Space|https://confluence.atlassian.com/display/CONFKB/How+to+Manually+Delete+a+Space] (Cloud users will need to contact Atlassian Support and request removing the Space from Confluence database)"""
"CONFCLOUD-31708","Bug","Integrations - JIRA",5,"JIRA Issues Macro doesn't show resolution date","""{panel:bgColor=#e7f4fa}   *NOTE:* This bug report is for *Confluence Cloud*. Using *Confluence Server*? [See the corresponding bug report|http://jira.atlassian.com/browse/CONFSERVER-31708].   {panel}  Steps to replicate:  # Link together a JIRA 6.2-OD-03, Confluence 5.3-OD-12 instance (or just use OnDemand) and JIRA Macros v 5.2 is installed.  # Create an issue in JIRA and resolve it # Create a page in Confluence, # Add the JIRA Issues Macro and perform a JQL search for the issue in step 2. Under display options add the Resolved field. # Save the page  Result:  Resolutiondate (all one word for some reason) will be displayed, but it will be empty  Expected result:  Resolution date will appear in the resolutiondate field.  PS: This is affecting Confluence 5.3/5.3.4 and also JIRA issues macro version 5.1.1 and 5.1.3."""
"CONFCLOUD-54525","Bug","Integrations - JIRA",1,"Jira Issues macro displays java.lang.NullPointerException when included on Welcome Message","""h5. Steps to reproduce  # Go to Confluence Admin >> Global Templates  # Edit Default Welcome Message, and add a Jira Issues macro listing more than one issue (eg: status = Open) or a markup with:    # Preview will show the issues correctly.  # Save  # Go to the Welcome Page: the macro will not be rendered, instead shows this error:  {quote}  java.lang.NullPointerException  {quote}  # No error is reported on the logs (Jira or Confluence).    h5. Workaround  # Create a new page. For example, titled """"_Welcome"""" on a space with spacekey DS.  # Add the jiraissues macro in that page and save it  # Edit the Default Welcome Message and add a Include Page macro pointing to """"DS:_Welcome""""  # JIRA issues macro now should be rendered fine in the Dashboard Welcome page.    h5. Testing Notes  Follow the Steps to reproduce above, you can add more than 1 JIM markups to the Welcome page, the test will be passed if:  # No NPEs shown  # Refresh links work properly (only a JIM table is refreshed at one time)  # Table sorting works properly"""
"CONFCLOUD-31911","Bug","Page - Export",2,"Unable to do Space/Page PDF Export with Large Dimension Image Attached in a Page","""{panel:bgColor=#e7f4fa}   *NOTE:* This bug report is for *Confluence Cloud*. Using *Confluence Server*? [See the corresponding bug report|http://jira.atlassian.com/browse/CONFSERVER-31911].   {panel}  Space/Page PDF Export fail when having large image attached in a page with this error:   The sample image is on the attachment."""
"CONFCLOUD-47633","Bug","Add-ons - Confluence Questions",8,"Content type icon for Questions doesn't show up in user's profile activity stream","""{panel:bgColor=#e7f4fa}   *NOTE:* This bug report is for *Confluence Cloud*. Using *Confluence Server*? [See the corresponding bug report|http://jira.atlassian.com/browse/CONFSERVER-47633].   {panel}  """
"CONFCLOUD-31934","Bug","Integrations - JIRA",3,"Unable to create issues from Confluence when linked to EPICs","""{panel:bgColor=#e7f4fa}   *NOTE:* This bug report is for *Confluence Cloud*. Using *Confluence Server*? [See the corresponding bug report|http://jira.atlassian.com/browse/CONFSERVER-31934].   {panel}  Steps to reproduce:  - Highlight a text in a Confluence page and click on the popup to create JIRA issue. - Make sure the """"Link to epic"""" is available and tick it. - You will be faced with this error:  !conf-3.png!  In the logs, I observed the following stack :     Reasons: This is a known limitation where issues cannot be created with Epic links if the """"Epic Links"""" field is not enabled as a  field in a default screen in JIRA. Created with Epic links if the """"Epic Links"""" field is not enabled as a default field in JIRA. Workaround:  1. Not select an epic to link the issues to.  2. Add epic link as a field in default screen via secure/admin/ConfigureFieldScreen.jspa?id=1 with admin privileges. """
"CONFCLOUD-32234","Bug","Integrations - JIRA",3,"JIRA Issue Macro not Rendering HTML in custom fields ","""{panel:bgColor=#e7f4fa}   *NOTE:* This bug report is for *Confluence Cloud*. Using *Confluence Server*? [See the corresponding bug report|http://jira.atlassian.com/browse/CONFSERVER-32234].   {panel}  h5. Steps to reproduce:  # Create a custom field in JIRA that contains any HTML within the custom field. # In Confluence, include a JIRA Issue Macro in a page, and retrieve a list of issues that contains the custom field above. # HTML in those custom fields will not be rendered and it will show plain text exposing the HTML tags.  h5. Workaround  No workaround yet.  h5.Screen shot:  !htmlbroken.png|thumbnail! """
"CONFCLOUD-32457","Bug","Editor - Comment Editor",3,"Editor toolbar behaves incorrectly on quick edit","""{panel:bgColor=#e7f4fa}   *NOTE:* This bug report is for *Confluence Cloud*. Using *Confluence Server*? [See the corresponding bug report|http://jira.atlassian.com/browse/CONFSERVER-32457].   {panel}  There are strange behaviors with quickedit. Most of the issues revolve around using the editor toolbar in quick edit (not in full edit). These have been confirmed in 5.4.1. (as long as quick-edit is enabled) and possibly go back to 5.1  Using options like bold now adds additional blank lines after the content !bold.gif|width=100%!  When attempting to user the list toolbar buttons on quick-edit of a blank page I'm seeing the following in the logs, coming out of 'com.atlassian.plugins.tinymce:atlassian-rte-javascript-tinymce-extensions' 'jscripts/tiny_mce/plugins/lists/editor_plugin_src.js'. The button will not work again until the user clicks inside the body  !number.gif|width=100%!  """
"CONFCLOUD-32474","Bug","Editor - Comment Editor|Editor - TinyMCE 4",8,"The Confluence editor should strip markup and classes when it is pasted into the page","""{panel:bgColor=#e7f4fa}   *NOTE:* This bug report is for *Confluence Cloud*. Using *Confluence Server*? [See the corresponding bug report|http://jira.atlassian.com/browse/CONFSERVER-32474].   {panel}  Custom markup can cause problems with rendering content in Confluence. We should strip out anything that might potentially cause strange page rendering. We should have a whitelist of allowed styles etc."""
"CONFCLOUD-32525","Bug","Integrations - JIRA",8,"Pages/Blogs timeout if they contain too many JIRA Issues Macros ","""{panel:bgColor=#e7f4fa}   *NOTE:* This bug report is for *Confluence Cloud*. Using *Confluence Server*? [See the corresponding bug report|http://jira.atlassian.com/browse/CONFSERVER-32525].   {panel}  When a page/blog has too many JIRA Issues Macros, the page times out as Confluence tries to make JIRA calls for all the macros.  The correct behaviour should be to call JIRA asynchronously and timeout the individual macros, not the page.  The number of calls that JIRA can handle should also be considered. We should avoid overloading JIRA.  h3. Workaround:  Split out the JIRA Issues Macro onto separate pages.  Also avoid using functionality that avoids loading multiple pages at once, such as viewing the blogs posts of a space, as this will trigger many calls to JIRA simultaneously.  h3. Fix Upgrade to [JIRA Macros version 5.5.4|https://marketplace.atlassian.com/plugins/confluence.extra.jira]. This was bundled in Confluence 5.5.  h3. Important note: This fix makes use of JIRA request batching which is only available since JIRA *6.0.29*. For the older version of JIRA (5+), this fix has no effect."""
"CONFCLOUD-32762","Bug","Content - Attachments",3,"Image rotation of imported photographs is wrong","""{panel:bgColor=#e7f4fa}   *NOTE:* This bug report is for *Confluence Cloud*. Using *Confluence Server*? [See the corresponding bug report|http://jira.atlassian.com/browse/CONFSERVER-32762].   {panel}  This may or may not be a duplicate of [#CONF-17621], about EXIF rotation, marked as """"won't fix"""".  I understand from that issue that there is some debate about whether this is Confluence's issue or a browser issue.  Let me explain my experience.  # I take a picture with my iPhone, it displays it the correct way up # I email it to myself, Gmail displays it the correct way up # I accidentally import it into my Google Drive, it displays it the correct way up # I download it to my Mac, it display it the correct way up # I import it into Confluence, it displays it the wrong way round # I start writing this ticket, and have an idea or two... # I access it in Chrome using a file:// URI, it displays it the right way up # I boot a Windows 7 VM and ping it over there, it displays it the right way up (perhaps a file:// URI in IE6 would be the nail in the coffin?)   {panel:title=Atlassian Status as of February 14, 2017|borderStyle=solid|borderColor=#3C78B5| titleBGColor=#3C78B5| bgColor=#E7F4FA}  Hi All,  Thank you for your feedback on this issue thus far. This is certainly an issue which has done its round on the internet over the years for many browser and application vendors alike, with each pointing the finger at each other as to whether the application or browser should observe the EXIF rotation metadata.  The obvious solution is for all browsers to support the 'image-orientation' CSS, however after many years this is still only supported by Firefox. We have explored no less than 6 different solutions to this issue as each brings pros and cons in terms of performance, behaviour and complexity. As a result of this exercise, it has been decided that image rotation would be done server side based on the EXIF rotation metadata.  The actual implementation is somewhat different for Server and Cloud deployments, and thus the rollout/delivery may occur at different times, however is high up in the queue right now.  Confluence Product Management {panel}"""
"CONFCLOUD-33478","Bug","Page - Export|Page - Import",3,"System applinks remain in Confluence OnDemand export, can't be modified in UI upon import","""{panel:bgColor=#e7f4fa}   *NOTE:* This bug report is for *Confluence Cloud*. Using *Confluence Server*? [See the corresponding bug report|http://jira.atlassian.com/browse/CONFSERVER-33478].   {panel}  Appears applications links have changed somewhat- now these exist in JIRA and Confluence OnDemand exports as system application links and cannot be modified without additional work directly in the database  We should either unlock their configuration upon export or remove all application links """
"CONFCLOUD-33507","Bug","Page - Export",2,"When a page is exported to PDF, Issue Statistics macro is displayed as a link","""{panel:bgColor=#e7f4fa}   *NOTE:* This bug report is for *Confluence Cloud*. Using *Confluence Server*? [See the corresponding bug report|http://jira.atlassian.com/browse/CONFSERVER-33507].   {panel}  When a page is exported to PDF, its Issue Statistics macro is displayed as a link on the PDF.  Steps to reproduce: Add the Issue Statistics macro to a page (from my tests, the problem happens with all configurations, so select any) Save the page Export the page to PDF"""
"CONFCLOUD-54336","Bug","Page - Export",2,"Allow PDF Export TOC to be replicated via PDF Stylesheet","""When exporting a space via PDF, applying a custom style-sheet only allows you to create a table-of-contents style numbering for contents within a page.    When the same stylesheet is applied to the page titles and their hierarchy within a space, the sub-level entries are reset to zero:    PDF Export example:  !pdf_export_example.jpg|thumbnail!    Source Space example:  !css_source_example.jpg|thumbnail!    Custom style-sheet:      The expectation is ToC styling should be available to style-sheet customisation within Confluence."""
"CONFCLOUD-33611","Bug","Page - Export",2,"Space exports with Page Properties Report macro contain Error rendering macro 'detailssummary' where page properties should be","""{panel:bgColor=#e7f4fa}   *NOTE:* This bug report is for *Confluence Cloud*. Using *Confluence Server*? [See the corresponding bug report|http://jira.atlassian.com/browse/CONFSERVER-33611].   {panel}  If your space is using the Page Properties Macro and you export the space to PDF, there is a macro error in place of all positions where the Page Property Macro exists.  _Note:_ In the export progress screen, the error message will always name the last page in the export, even if doesn't use the macro.  Search Confluence using {{macroName: detailssummary*}} to identify the actual affected pages.  *Wokarounds:* * export individual pages to PDF. * Move pages with Page Properties Macro to a different Space to avoid receiving the error and then back to the same Project."""
"CONFCLOUD-51782","Suggestion","Add-ons - Confluence Questions",8,"Document the REST API by using Enunciate maven plugin","""{panel:bgColor=#e7f4fa}   *NOTE:* This suggestion is for *Confluence Cloud*. Using *Confluence Server*? [See the corresponding suggestion|http://jira.atlassian.com/browse/CONFSERVER-51782].   {panel}  """
"CONFCLOUD-33792","Bug","Macros - Task Report",3,"Empty task item crashes Task report Macro","""{panel:bgColor=#e7f4fa}   *NOTE:* This bug report is for *Confluence Cloud*. Using *Confluence Server*? [See the corresponding bug report|http://jira.atlassian.com/browse/CONFSERVER-33792].   {panel}  When a page contains a Checkbox without any Text written next to it the Task report Macro crashes the site it is embedded in. Here is the Stacktrace: """
"CONFCLOUD-33872","Bug","Page - Export",2,"Link broken in Space export to DOC format","""{panel:bgColor=#e7f4fa}   *NOTE:* This bug report is for *Confluence Cloud*. Using *Confluence Server*? [See the corresponding bug report|http://jira.atlassian.com/browse/CONFSERVER-33872].   {panel}  When exporting a space to doc format, links that inside the exported doc file broken.  For example, the link that inside the page supposed to be  http://confluence-pc:5410/confluence/display/PDF/page1  but showed as below instead !doc.png|thumbnail!  h3. Step to Replicate: # Create a new space with a few new pages. # At one of the page, insert a link macro and choose any pages that created recently(all pages are in the same space) # export the page to doc. """
"CONFCLOUD-33990","Bug","Page - Export",2,"Missing web image causes PDF space export to fail repeatedly","""{panel:bgColor=#e7f4fa}   *NOTE:* This bug report is for *Confluence Cloud*. Using *Confluence Server*? [See the corresponding bug report|http://jira.atlassian.com/browse/CONFSERVER-33990].   {panel}  Steps to replicate:  # Create a page, and on that page paste in an image on the internet that will not load. # Create a PDF space export of the space containing that page  Result:  Export will continue to run forever and the following error will be displayed in the logs:    Expected Result:  Either the export will fail, or it will produce an export that does not contain the image."""
"CONFCLOUD-34066","Bug","Editor - Comment Editor",1,"Bullet list keep extra space line after merged","""{panel:bgColor=#e7f4fa}   *NOTE:* This bug report is for *Confluence Cloud*. Using *Confluence Server*? [See the corresponding bug report|http://jira.atlassian.com/browse/CONFSERVER-34066].   {panel}  Step to reproduce:  # In add two bullet list in the page like !before.png!  # Remove the line contain the string """"line 2"""", and it keeps one extra empty line after merging two bullet list.  !after.png!  As a workaround solution, press the back space at the beginning of the second bullet list to remove the empty line."""
"CONFCLOUD-34177","Bug","Page - Export|Page - Import",2,"Space Import causes user to show as anonymous in Metadata","""{panel:bgColor=#e7f4fa}    *NOTE:* This bug report is for *Confluence Cloud*. Using *Confluence Server*? [See the corresponding bug report|http://jira.atlassian.com/browse/CONFSERVER-34177].    {panel}    Importing a space export, sometimes causes the creator and last modifier of a page to be displayed as anonymous, despite the data seems correct in the {{entities.xml}}. This does not happens for all pages or versions, only some of them.    h3. Workaround for Server solution  https://confluence.atlassian.com/display/CONFKB/Space+or+Site+XML+imported+Page+or+Blog+Creator+is+shown+as+Anonymous    h3. Workaround for Cloud solution  In Cloud, this might be due to the username being different (export vs import).     a) Update the username of the user having Anonymous to be the same as the username in the previous account  b) Delete the imported space  c) Try importing again"""
"CONFCLOUD-34246","Bug","Integrations - JIRA",8,"JIRA Issues Macro contributes to performance problems and outages in OnDemand","""{panel:bgColor=#e7f4fa}   *NOTE:* This bug report is for *Confluence Cloud*. Using *Confluence Server*? [See the corresponding bug report|http://jira.atlassian.com/browse/CONFSERVER-34246].   {panel}  JIRA Issues Macro contributes to performance problems and outages in for large cloud customers. This overloads Apache and JIRA, eventually causing [AOD-6539|https://jira.atlassian.com/browse/AOD-6539] in some cases."""
"CONFCLOUD-34275","Bug","Page - Export",1,"Could Not Export Pages to PDF When Containing Space-related Macros","""{panel:bgColor=#e7f4fa}   *NOTE:* This bug report is for *Confluence Cloud*. Using *Confluence Server*? [See the corresponding bug report|http://jira.atlassian.com/browse/CONFSERVER-34275].   {panel}  *Problem:*  A page that has any of the following:  * [space details macro|https://confluence.atlassian.com/display/DOC/Space+Details+Macro]  * [space attachments macro|https://confluence.atlassian.com/doc/space-attachments-macro-278693110.html]  * a list with JIRA links inside a table  * a large number of [JIRA Issue macros |https://confluence.atlassian.com/doc/jira-issues-macro-139380.html]  * Poll macro to include a poll for which you didn't vote for yet  will cause an exception when exporting to PDF with the cause and stack trace below.  *Steps to Reproduce:*  # Add a new page  # Add space details/space attachment macro  # Save  # Export to PDF  *Expected:*  PDF export complete and PDF is available for download  *Actual Result:*  Export starts but it fails with error:  !pdf-error.jpg|thumbnail!  Confluence logs shows:  *Notes:*  *[Export to word|https://confluence.atlassian.com/display/DOC/Exporting+to+a+Word+document]* works as expected.  *Workaround:*  * Export to word document  * Open word document, save as PDF format"""
"CONFCLOUD-34385","Bug","Page - Export",3,"Embedded images placed inside of a table are not displaying properly when page is exported to PDF","""{panel:bgColor=#e7f4fa}    *NOTE:* This bug report is for *Confluence Cloud*. Using *Confluence Server*? [See the corresponding bug report|http://jira.atlassian.com/browse/CONFSERVER-34385].    {panel}    h3. Summary  Images in tables that are not manually sized increase in size or are missing when exported to PDF.    h3. Steps to Reproduce  # Create a table in a Confluence Page  # Insert an image in one of the cells  # Export page to PDF    h3. Expected Results  The exported PDF matches what is displayed in the page when viewed    h3. Actual Results  The small image is displayed much larger than its actual size or the image is missing in the table.    h3. Workaround  Updated on Feb 21 2018: the original workaround is not available anymore in the current version of Confluence Cloud.  Minimizing the image can solve the issue in PDF, but this workaround will affect the view in wiki.  h3. Original Workaround  # Edit page with the image  # Click on image, resize to any size *use the _px_ value* . i.e. :  !Screen Shot 2015-04-17 at 3.03.42 AM.png|thumbnail!  # Press enter to apply the change to the image  # Click on image again, resize back to the desired size i.e. :  !Screen Shot 2015-04-17 at 3.03.59 AM.png|thumbnail!  # Press enter to apply the change and save page  # Export page to PDF"""
"CONFCLOUD-54346","Bug","Integrations - JIRA",5,"Automatic Issue Linking does not work for more than 20 issues","""# Create a table in Confluence with Requirements (more than 20).  # Select 1st requirement, click the coathanger pop-up to create JIRA issues, and select the option at the bottom to create all at once. My example only has 7.  !Screen Shot 2014-07-28 at 12.26.35.png|thumbnail!  # Continue with creation.   # Once created, if there are more than 20, it silently creates the issues and then does not insert them into the table.  # If there are fewer than 20, it will insert links into the table.  """
"CONFCLOUD-34406","Suggestion","Integrations - JIRA",3,"Support batching for old wiki markup in the old format {jira:ABC-xyz}","""{panel:bgColor=#e7f4fa}   *NOTE:* This suggestion is for *Confluence Cloud*. Using *Confluence Server*? [See the corresponding suggestion|http://jira.atlassian.com/browse/CONFSERVER-34406].   {panel}  In [CONF-32525|https://jira.atlassian.com/browse/CONF-32525] batching was introduced for pages with multiple JIRA Issues Macros. This batching did not extend to JIRA Issues Macros which were entered in wiki markup, eg:   Please support batching for wiki markup format as well.   h3. Resolution This issue has been resolved in JIRA Issues Macro version 5.6.3. Please download this version from the Marketplace (https://marketplace.atlassian.com/plugins/confluence.extra.jira/versions)"""
"CONFCLOUD-34529","Bug","Search - Indexing",3,"Unable to Search Office Open XML Files","""{panel:bgColor=#e7f4fa}   *NOTE:* This bug report is for *Confluence Cloud*. Using *Confluence Server*? [See the corresponding bug report|http://jira.atlassian.com/browse/CONFSERVER-34529].   {panel}  # Create 2 duplicate documents, 1 .doc and 1 .docx # Attach both in Confluence # Perform search of text that is in file, results only return .doc file. # Also both attachments do not appear in drop-down search window that comes up, you have to click the Search query to see it."""
"CONFCLOUD-34751","Bug","Space - Import / Export",3,"Importing an XML Export does not create inline tasks and comments correctly","""{panel:bgColor=#e7f4fa}    *NOTE:* This bug report is for *Confluence Cloud*. Using *Confluence Server*? [See the corresponding bug report|http://jira.atlassian.com/browse/CONFSERVER-34751].    {panel}    h5.Steps to Reproduce  # Create a new Space  # Export the Space as XML  # Delete the Space you just created  # Import the Space Export  # On a page, create the Task Report Macro, and point it at the imported space.    h5.Expected Result  The Task Report Macro should show the tasks that are incomplete, or complete (depending on the settings). Using this example, the report should show 4 incomplete tasks (from the default home page)    h5.Actual Result  The Task Report Macro doesn't show the tasks that are incomplete. Marking a task as complete and then incomplete doesn't show the task either.    The task does not appear in the database.     h5.Workaround   None so far."""
"CONFCLOUD-34793","Bug","Integrations - JIRA",5,"JIRA Issues Macro returns ""Data cannot be retrieved due to an unexpected error""","""{panel:bgColor=#e7f4fa}   *NOTE:* This bug report is for *Confluence Cloud*. Using *Confluence Server*? [See the corresponding bug report|http://jira.atlassian.com/browse/CONFSERVER-34793].   {panel}  h3. Note  This error message is the catch-all exception for the JIRA Issues Macro, so there are a number of possible causes for this. The below example is one way of triggering the problem. Another known cause is the response from JIRA taking too long and exceeding the timeouts in Confluence. If you suspect this is the case in your instance, please refer to [this KB article|https://confluence.atlassian.com/display/CONFKB/Timeouts+in+the+JIRA+Issues+Macro+or+Highlighting+Plugin] for more information.  If you run into this problem, please add the following packages to *Confluence Admin > Logging and Profiling* and set them to DEBUG level logging: * com.atlassian.confluence.extra.jira * com.atlassian.confluence.plugins.JIRA  Having done so, please create a ticket at http://support.atlassian.com/ and attach a Support Zip with this extra logging.   h3. Steps to reproduce  # Add many JIRA issue links on a Confluence page. Try 30. # Save the page  h3. Expected Results  The JIRA issue links display fine with summary, status, etc.  h3. Actual Results  Confluence displays an error message for each JIRA issue link:  bq. JIRA Issues Macro: Data cannot be retrieved due to an unexpected error  h3. More info  Confluence logs show:  """
"CONFCLOUD-47583","Bug","Add-ons - Confluence Questions",3,"Fail create the question will cause you loosing the Files attached in the ""insert image dialog""","""{panel:bgColor=#e7f4fa}   *NOTE:* This bug report is for *Confluence Cloud*. Using *Confluence Server*? [See the corresponding bug report|http://jira.atlassian.com/browse/CONFSERVER-47583].   {panel}   Steps: - Create a question, add some image on it. You can attach image on the question - Before you click button """"save"""", make sure you have no label. Click save. It will tell you that you need to select a topic Error: - Check the """"insert image dialog"""" again, you will see there are no file attached.  This issue is found on version confluence-questions-1.0.618 which doesn't have to rework of insert dialog yet."""
"CONFCLOUD-35279","Bug","Navigation - People Directory",5,"Missing people from People Directory on Confluence","""{panel:bgColor=#e7f4fa}   *NOTE:* This bug report is for *Confluence Cloud*. Using *Confluence Server*? [See the corresponding bug report|http://jira.atlassian.com/browse/CONFSERVER-35279].   {panel}  *Steps to Reproduce:* # Have JIRA + Confluence # Add user just to JIRA (jira-users) # Grant this user application access to Confluence. Let's say, update the same user and add him/her to Confluence (confluence-users)  *Expected Results:* # This user should show up in the People Directory on Confluence.  *Actual Results:* # This user is missing from People Directory on Confluence  *Workaround:* # Access this URL:   *Notes:* Documentation ([Searching the People Directory|https://confluence.atlassian.com/display/confcloud/Search+the+People+Directory]) states that bq. The people directory includes anybody who has logged into Confluence or *who has had a user account created for them in Confluence*."""
"CONFCLOUD-54530","Bug","Integrations - JIRA",3,"JIRA Issues Macro Automatically Expanding to Display Options","""When inserting JIRA Display Macro into Confluence Page, Display Options is now showing as completely expanded.    Used to be manually expanded but now it is doing it on its own.    !Screenshot 2014-10-19 12.16.49.png|thumbnail!"""
"CONFCLOUD-35608","Bug","Page - Export",2,"PDF Export Inserts Carriage Returns","""{panel:bgColor=#e7f4fa}   *NOTE:* This bug report is for *Confluence Cloud*. Using *Confluence Server*? [See the corresponding bug report|http://jira.atlassian.com/browse/CONFSERVER-35608].   {panel}  # Place text with regular carriage returns inside of a cell on Confluence. So far I have only been able to replicate this with the {{pre-formatted}} text. # Export page to PDF # Confluence will insert carriage returns into document when not planned # When I change font to even *Paragraph* font or *Heading 3* it no longer inserts carriage returns."""
"CONFCLOUD-35902","Bug","Page - Export",2,"It's not possible to use the HTML headings (<h1>, <h2>, <h3>...) for auto numbering titles of PDF files generated by Space Tools > PDF Export.","""{panel:bgColor=#e7f4fa}   *NOTE:* This bug report is for *Confluence Cloud*. Using *Confluence Server*? [See the corresponding bug report|http://jira.atlassian.com/browse/CONFSERVER-35902].   {panel}  The following CSS Stylesheet can be used in *Confluence Space Tools > Look and Feel > PDF Stylesheet* to generate an export in PDF from the entire space where each PDF page will have it's title numbered according the Space page level in the Space Page Tree.    For no apparent reason it does not work as expected. The pages are erroneously numbered.  Here's one example: The following Page Tree !ConfPageTree.png|thumbnail!  Generate the following numbering !PDF_Numberings.png|thumbnail!  I'm not sure if it's related with another problem, so I'm submitting this new bug. Thanks! """
"CONFCLOUD-35945","Bug","Page - Export",3,"Export to PDF, Centered Images are not included in .pdf file","""{panel:bgColor=#e7f4fa}   *NOTE:* This bug report is for *Confluence Cloud*. Using *Confluence Server*? [See the corresponding bug report|http://jira.atlassian.com/browse/CONFSERVER-35945].   {panel}  PDF Exports of wiki page with centered images don't include images.  *Steps to reproduce:* # Create a page and insert an image jpg, png etc... # Export the page to PDF. You should see that the image(s) did export. # Edit the page and align the image to the center. # Export the page to PDF again. *Expected result:* Image shows in the center. *Actual result:* Image is not displayed.  *Cause:* The alignment done using the image tags is not being exported:  This is the """"Storage Format"""" of a centered image that is not exported to PDF:  and this is the one of an image centered by using the workaround and is exported to PDF (without alignment)    *Workaround:* center-align the cursor +before+ including the image to the page. The image will be added in the center and will be displayed in PDF exports.    """
"CONFCLOUD-54061","Bug","Page - Export|Page - Import",3,"Space ID change during Site Import which caused attachment cannot be Imported seperately","""During the process of the migration we used to create the XML backup without attachment included then zip the attachments folder from the HOME_DIRECTORY for a direct restore to the destination instance when come to a huge attachments size.    However this is no longer workable as the space ID now will be changed during the site import process.    h3.Workaround  Site import can only be done with the backup with attachments included."""
"CONFCLOUD-36318","Bug","Page - Export",1,"Export custom XML exports content properties (os_propertyentry) for pages that are not included","""{panel:bgColor=#e7f4fa}   *NOTE:* This bug report is for *Confluence Cloud*. Using *Confluence Server*? [See the corresponding bug report|http://jira.atlassian.com/browse/CONFSERVER-36318].   {panel}  When you export a space to XML and use the """"Custom Export"""" option, then content properties of pages that are not exported (due to restrictions) will get exported.  When you import such an export file you will end up with entries in the os_propertyentry table that have no link to a corresponding page. These entries are unreachable from now on and will not get deleted when you delete the space. Consequentially every further import of the space will fail with a duplicate key exception.       h2. Steps to reproduce 1. Create a space 2. As user A (with 'restrict pages' permission) create a new page and use a plugin that uses content properties to store stuff (e.g. create a task list) 3. As user A restrict view and edit to user A 4. As user B (e.g. spaceadmin) export the space to XML with """"Custom Export"""" 5. You can find the content properties in the entities.xml, but no corresponding page object 6. Delete the space 7. Import the space export 8. Delete the space. You will still find the content properties in the os_propertyentry table. 9. Import the space again and get the error from above."""
"CONFCLOUD-36424","Suggestion","Core - APIs",3,"REST API to render content needs content id support","""{panel:bgColor=#e7f4fa}   *NOTE:* This suggestion is for *Confluence Cloud*. Using *Confluence Server*? [See the corresponding suggestion|http://jira.atlassian.com/browse/CONFSERVER-36424].   {panel}  See CONF-25086 which was marked as fixed, but was not complete.  Add a Content representation with embedded styles, similar to SOAP API.  """
"CONFCLOUD-60841","Suggestion","Core - Connect Platform|Ecosystem",2,"Add integration test for static content macros with rich text body","""Add integration test for static content macros with rich text body, particularly testing requests to the REST API with the provided macro hash, which was broken in AC-1505.  Test needs to include both macro.id and macro.hash options."""
"CONFCLOUD-36586","Bug","Site - Backup / Import",1,"Inaccurate XML Import documentation and text on Confluence Admin>>Backup and restore","""{panel:bgColor=#e7f4fa}   *NOTE:* This bug report is for *Confluence Cloud*. Using *Confluence Server*? [See the corresponding bug report|http://jira.atlassian.com/browse/CONFSERVER-36586].   {panel}  Our documentation says to check your instance to see whether it is compatible with a particular version of XML backup. The [documentation|https://confluence.atlassian.com/display/DOC/Restoring+a+Space] says: {quote} You may not be able to import spaces into earlier versions of Confluence, the Backup and Restore page in the later Confluence version will give you some indication of whether it is likely to be compatible. {quote}  So the doc sends you to the backup and Restore page, which reads, in Confluence 5.10.1: {quote} This site accepts full site imports from Confluence 4.0 and later, and space imports from Confluence 5.3 and later. {quote}  In fact, imports across major versions fail, and imports from Cloud fail except on the latest version.  The Cloud Backup Administration page is also inaccurate: {quote} Going to an Self-Hosted Instance You can export and then import your data into a Self-Hosted Confluence instance. Currently, Confluence 5.3 and newer versions are able to import OnDemand backups. {quote} In fact, the restore from Cloud to standalone will fail unless your server instance is on the latest version  The quote following is displayed on the _Export XML Options_ page. It explains that any space backup generated from Confluence Cloud can be imported into any Confluence standalone/self-hosted versions between the latest version and 5.3. In fact, Space backup import will fail with errors on Confluence versions prior to 5.7. {quote} Export the space to a zipped XML file. You can import the XML file into earlier Confluence versions from 5.3 to 5.9.0-OD-59-126, and into compatible later versions.  {quote}  Please let's provide accurate information in our docs and on the instances' admin pages. """
"CONFCLOUD-37356","Bug","Page - Export",2,"PDF Export does not properly handle line breaking rules in East Asian languages","""{panel:bgColor=#e7f4fa}   *NOTE:* This bug report is for *Confluence Cloud*. Using *Confluence Server*? [See the corresponding bug report|http://jira.atlassian.com/browse/CONFSERVER-37356].   {panel}  *Symptom* The line breaking rules in East Asian language specify how to wrap East Asian Language text such as Chinese, Japanese, Korean. However, Confluence PDF export does not follow the rule. Due to this, for example, the punctuation comes at the beginning of the line as attached Problem.jpg.  *Workaround* Export to Word and convert it to PDF"""
"CONFCLOUD-53984","Bug","Onboarding - nth user",2,"When logging into Confluence as a new user, Welcome Screen tutorial requires space creation","""h3. Summary    When a new user with Confluence admin permissions is added to the instance, the Welcome Page will require to user to create a space.      h3. Environment  Confluence 5.9.0    h3. Steps to Reproduce  # Create a new admin user  # Have user login, switch access to Confluence, if necessary from Application Switcher    h3. Expected Results  # Welcome Screen appears, with ability to skip the walkthrough entirely.    h3. Actual Results  # In actuality, there's no way to skip the walkthrough. Regular users can just walk through the tutorial, but admins have to create a space to complete it.    !space_required.png|thumbnail!      h3.Workaround  At this point, the only way through the tutorial is to complete it.      """
"CONFCLOUD-53790","Bug","Core - APIs|Documentation - All",1,"REST API documentation","""latest REST API documentation is """"broken""""    application/json samples are not expandable anymore  I'm using 5.7 to get the info, but would be nice, if latest could be fixed """
"CONFCLOUD-53675","Bug","Documentation - All",1,"Missing mandatory attribute ""title"" on create page REST API sample","""the expandable sample does not show the mandatory title attribute, neither does the explanation"""
"CONFCLOUD-37906","Bug","Page - Export",2,"PDF export fails when font-size is 0","""{panel:bgColor=#e7f4fa}   *NOTE:* This bug report is for *Confluence Cloud*. Using *Confluence Server*? [See the corresponding bug report|http://jira.atlassian.com/browse/CONFSERVER-37906].   {panel}  """
"CONFCLOUD-37904","Bug","Page - Export",2,"PDF export creating line break before and after an image","""{panel:bgColor=#e7f4fa}   *NOTE:* This bug report is for *Confluence Cloud*. Using *Confluence Server*? [See the corresponding bug report|http://jira.atlassian.com/browse/CONFSERVER-37904].   {panel}  PDF export creating line break before and after an image. !sample.png!  h4. Workaround Please add the following into the Global PDF Stylesheet: {code:borderStyle=solid}img.confluence-embedded-image {           display: inline-block !important;   }{code}"""
"CONFCLOUD-37912","Bug","Page - Export",2,"PDF space export failure always gives the last page name","""{panel:bgColor=#e7f4fa}   *NOTE:* This bug report is for *Confluence Cloud*. Using *Confluence Server*? [See the corresponding bug report|http://jira.atlassian.com/browse/CONFSERVER-37912].   {panel}  The page name in the error message,    is always the last page in the space you are exporting.  It is not necessarily the page causing trouble.  It would be very helpful if you correctly identified the bad page.  If you cannot identify the page correctly, remove the file name from the message.  You might add something like:   That is how I was able to find my bad page."""
"CONFCLOUD-53829","Bug","Editor - Comment Editor",3,"Editor loses focus when changing formatting","""This happens when I want to start a new line of text in my Confluence article as a heading. My steps are as follows:  * Start a new Confluence article  * Start a new line  * Go to the text style selection dropdown (the one that says """"Paragraph | Heading 1 | Heading 2, etc"""")  * Select Heading 1 (or 2 or whatever)  * Start typing my heading    Expected behavior:  The text I type will show up on my line as heading text    Actual behavior:  Nothing happens. (the text editor loses focus -  have to click on the editor again to start typing)    Workaround:  * Click back in my text.   * In the midst of whitespace, locate the (empty) line where I wanted the header  * Notice that the blinking cursor is the right height for a header  * Start typing  As you can see, my workaround is not ideal."""
"CONFCLOUD-37957","Bug","Page - Export",2,"Exporting PDF page returns Page Unavailable error","""{panel:bgColor=#e7f4fa}   *NOTE:* This bug report is for *Confluence Cloud*. Using *Confluence Server*? [See the corresponding bug report|http://jira.atlassian.com/browse/CONFSERVER-37957].   {panel}  h3. Summary When exporting large pages to PDF, there's a performance issue. When Confluence starts converting said page to PDF, the application becomes unavailable for the users and shows the error Page Unavailable.  h3. Expected Results The page would keep loading until the export is finished. Ideally it would show a progress bar.  h3. Actual Results The customer receives the error Page Unavailable, and is not able to get the PDF.   h3. Notes This issue is more likely to happen when the page includes macros, as for example the Roadmap macro.  h3.Workaround Might want to try to Space PDF export and only include the particular page in it  """
"CONFCLOUD-38089","Bug","Page - Export|Page - Import",2,"Unable to complete import: An invalid XML character (Unicode: 0xffff) was found in the CDATA section","""{panel:bgColor=#e7f4fa}    *NOTE:* This bug report is for *Confluence Cloud*. Using *Confluence Server*? [See the corresponding bug report|http://jira.atlassian.com/browse/CONFSERVER-38089].    {panel}    Trying to import an XML backup into Confluence, we might have the below issue:      Couldn't find the specific steps to reproduce it but certain XML backups have this issue. This has including been documented [here|https://confluence.atlassian.com/display/JIRA/Removing+invalid+characters+from+XML+backups].    This looks like a issue with the entities.xml file, and can be fixed by running the below command on Terminal:      h2. Notes  The attached space export file was manually modified to add the invalid {{\xFFFF}} character into {{entities.xml}}. Entering the character through the editor is not possible."""
"CONFCLOUD-38112","Bug","Page - Export",1,"Export to PDF fails with inputs fields","""{panel:bgColor=#e7f4fa}   *NOTE:* This bug report is for *Confluence Cloud*. Using *Confluence Server*? [See the corresponding bug report|http://jira.atlassian.com/browse/CONFSERVER-38112].   {panel}  Hi Confluence Team,  Some of our plugins use input fields when displaying the Macro, such as [Form Mail|https://marketplace.atlassian.com/plugins/com.adaptavist.confluence.formMailNG]. When exporting to PDF we're getting an exception with Flying Saucer:     This is happening in more than on browser.  *[Export to word|https://confluence.atlassian.com/display/DOC/Exporting+to+a+Word+document]* works as expected.  Workaround: * Export to word document * Open word document, save as PDF format"""
"CONFCLOUD-38135","Bug","Macros - Gadgets",3,"External JIRA Gadget does not display properly in Confluence","""{panel:bgColor=#e7f4fa}   *NOTE:* This bug report is for *Confluence Cloud*. Using *Confluence Server*? [See the corresponding bug report|http://jira.atlassian.com/browse/CONFSERVER-38135].   {panel}  When I select a gadget it shows error saying """"Please complete the configuration in the preview area first"""" and doesnt show anything in the preview pane to select."""
"CONFCLOUD-53525","Bug","Page - Export",2,"<tr></tr> tag causes PDF Export to fail ","""{{<tr></tr>}} tag causes PDF Export to fail    h3. Steps to Reproduce  # Customize Exports to PDF by adding the following codes in Global PDF Layout   {code}  <table style=""""position:absolute;bottom: 0"""">  <tr>  <td style=""""color:white; width: 220px;"""" class=""""contact"""">  Street  </td>  <td style=""""color:white;"""" class=""""contact"""">  Tel: +27 21 529 4750  </td>  </tr>  {code}  # Export Space to PDF   # Getting the following errors:  !export.png|thumbnail!        h5. Workaround   Remove {{<td></td>}} html tags within the Global PDF Layout  """
"CONFCLOUD-38951","Bug","Content - Inline Comments",3,"Inline Comments Missing After Space Export/Import Process","""{panel:bgColor=#e7f4fa}   *NOTE:* This bug report is for *Confluence Cloud*. Using *Confluence Server*? [See the corresponding bug report|http://jira.atlassian.com/browse/CONFSERVER-38951].   {panel}  h3. Summary In-line Comments and Resolved Comments are imported with a Space Export, but throw a 500 error when the REST call is made for rendering the Page. This has been replicated with space exports from Confluence Cloud and Confluence Server.  h3. Environment * Confluence Cloud * Confluence Server 5.7, 5.8.18 or 5.9.4. * The Space has Resolved in-line comments  h3. Steps to Reproduce # Go to a Space and a Page within that Space. Add two in-line comments and resolve one of them. # Do a full XML export of the Space # Import the Space export into a new instance (either same version or same major version) # Notice the import completes successfully, but the in-line and resolved comments are not displayed even though they are present in the {{entities.xml}} file and database.  h3. Expected Results In-line comments are displayed.  h3. Actual Results The in-line comments are imported into the database, however the {{user_key}} is not mapped correctly from the old instance to the new instance.   h3. Workaround {color:red}SQL manipulation in the database is not supported. Please make sure you have a database backup.{color}  # Shutdown Confluence # Run this query  {code:language=sql} select stringval from contentproperties where propertyname = 'status-lastmodifier' and stringval not in (select user_key from user_mapping) group by stringval;  Where #* {{<username>}} is the username of the User who originally resolved the in-line comment. #* {{<old user_key>}} is the value identified from the first SQL query. # Restart Confluence  In-line comments should now display  h3. Analysis In-line comments are generated by a REST call * http://confluence.mycompany.com/rest/inlinecomments/1.0/comments?containerId=<pageid>&_=1460592565065  And this returns a 500, which in the logs is {code:title=atlassian-confluence.log|language=none} 2016-04-14 10:44:11,224 ERROR [http-nio-8090-exec-8] [common.error.jersey.ThrowableExceptionMapper] toResponse Uncaught exception thrown by REST service: null  -- url: /rest/inlinecomments/1.0/comments | userName: jrichards java.lang.NullPointerException  at com.atlassian.confluence.plugins.inlinecomments.helper.InlineCommentUserHelper.getFullNameForUserKey(InlineCommentUserHelper.java:31)  at com.atlassian.confluence.plugins.inlinecomments.entities.InlineCommentBuilder.buildResolveData(InlineCommentBuilder.java:54)  at com.atlassian.confluence.plugins.inlinecomments.entities.InlineCommentBuilder.convertCommentToInlineComment(InlineCommentBuilder.java:111)  at com.atlassian.confluence.plugins.inlinecomments.entities.InlineCommentBuilder.build(InlineCommentBuilder.java:84)  at com.atlassian.confluence.plugins.inlinecomments.service.InlineCommentServiceImpl.getCommentThreads(InlineCommentServiceImpl.java:255)  at com.atlassian.confluence.plugins.inlinecomments.resources.InlineCommentResource.getInlineComments(InlineCommentResource.java:82)  at sun.reflect.GeneratedMethodAccessor1269.invoke(Unknown Source)  at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)  at java.lang.reflect.Method.invoke(Method.java:497)   In the Space export XML, the in-line comment is associated with the {{user_key}} but if the user is not in the new Confluence, or if they do exist but don't have that same user_key then there's no Full name.  # The above code needs to be more robust for checking nulls # The import needs to map in-line comments to username the same way Page ownership and other items are mapped"""
"CONFCLOUD-38993","Bug","Content - Inline Comments",3,"Space Export With Special Characters Increases String Length, causing the Space Import to Fail ","""{panel:bgColor=#e7f4fa}   *NOTE:* This bug report is for *Confluence Cloud*. Using *Confluence Server*? [See the corresponding bug report|http://jira.atlassian.com/browse/CONFSERVER-38993].   {panel}  h3. Summary Whenever a user inserts special characters as content in Confluence, and an inline comment is created from that content, the resulting Space Export will convert the special characters and the resulting string in the entities.xml import will be greater than the original string. If the original string was close to 255 characters, the 'converted' string will be greater than 255 characters and the import will fails with the following error:  {code} ERROR [Long running task: Importing data] [sf.hibernate.util.JDBCExceptionReporter] logExceptions Data truncation: Data too long for column 'STRINGVAL' at row 1{code}  or this one:  {code}Caused by: java.sql.BatchUpdateException: Batch entry 2 insert into CONTENTPROPERTIES (PROPERTYNAME, STRINGVAL, LONGVAL, DATEVAL, PROPERTYID) values ('inline-original-selection', 'typedef struct EthrLagGroupCbkEntryData{    EthrLagGroupLagLinkList ethrLagLinkList; /* List of LAG links */    EthrLagMemberSpeed ethrLagMemberSpeed;    EthrManualMacAddress ethrManualMacAddress;    ......    EthrLagSpared16 spareField1;    EthrLagSpared8...', NULL, NULL, XXXX) was aborted{code}  This error is dependant on the content you are making a comment from.   h3. Steps to Reproduce # Log in to Confluence and create a new page # Enter the following as text in the page  # highlight the content and wait for the inline comment icon to appear # create an inline comment # notice the string length for the inline comment is less than 255 characters # Perform a space export, selecting custom to include comments # Once the zip is created, open the entities.xml and search for the inline comment # Notice the new content is more than 255 characters  # This breaks the Space Import since the data column size for STRINGVAL is 255.   h3. Expected Results The space export does not add characters for special characters.  h3. Notes For the error to be replicated in an import, the original string has to be close to 255 characters. If the string is not close, the conversion will not affect the import as it will remain under 255.  h3.Workaround Edit the inlie comment to be shorter/remove the special characters. Alternatively, you can edit the entities.xml file and shorten the inline comment there to be less than 255 characters."""
"CONFCLOUD-38978","Bug","Space - Import / Export",1,"Unnecessary Warnings Thrown During Space Import that Contains Highlighted Linked Text","""{panel:bgColor=#e7f4fa}   *NOTE:* This bug report is for *Confluence Cloud*. Using *Confluence Server*? [See the corresponding bug report|http://jira.atlassian.com/browse/CONFSERVER-38978].   {panel}  h1. Steps To Reproduce # Create a new Confluence space (i.e. Example). # Create a new page (i.e. Sample Page). # Insert some contents, *highlight some texts* and *link* it to a Confluence page via '*+*' sign > *Link*. # Export the Confluence space (i.e. Example) to *XML* format. # Import the XML backup to a Confluence instance and check the _atlassian-confluence.log_ file.  (i) Please refer to [^StepsToReproduce.mp4] screen cast for visual information. You may use [^Example-Space.zip] to reproduce the problem.  h1. Expected Behaviour Space import complete without errors.  h1. Actual Behaviour Space import complete with the following warnings thrown in the _atlassian-confluence.log_ file.  (i) Note that the Confluence space import completes with the links working perfectly fine."""
"CONFCLOUD-61099","Suggestion","Ecosystem",3,"Use new library for Confluence page objects","""The {{atlassian-connect-plugin}} build against Confluence 5.9.1-SNAPSHOT has been failing for quite a while. One theory is that migrating to the new page objects library for Confluence would fix this.  See e.g. https://ecosystem-bamboo.internal.atlassian.com/browse/CONNECT-CCM-243."""
"CONFCLOUD-53991","Bug","Content - Inline Comments",5,"Unable to add Inline comment","""Have cloned from previous as appears to be the same issue.        h6. Steps to replicate  # Using cloud hosted version  # Create a new space  # Create a page  # Add a 'Jira Filter' to pull stories in from a project  # Set the options to show a table with default columns  # Save page  # Highlight text in macro  # Create Comment    h6. Observed Behavior  I see the below error:    (Screenshot attatched)    h6. Expected Behavior  The user should be able to add a comment.      """
"CONFCLOUD-53637","Bug","Navigation - Dashboard",2,"Any bogus path ending with / renders the dashboard","""Found by [~dwalker@atlassian.com], when he hit an invalid URL and was shown the dashboard instead of a 404 page."""
"CONFCLOUD-39893","Bug","Search - Core",3,"[Backend] Font not found warning messages when indexing PDF","""{panel:bgColor=#e7f4fa}   *NOTE:* This bug report is for *Confluence Cloud*. Using *Confluence Server*? [See the corresponding bug report|http://jira.atlassian.com/browse/CONFSERVER-39893].   {panel}  Confluence is throwing warning messages regarding font not found when performing the index of the instance:  This warning happens to other fonts as well, not limited to only Times new roman.   I could locate this bug report for the pdf font box: https://issues.apache.org/jira/browse/PDFBOX-2110  Seems to be fixed in pdfbox 2.0.0 version. Confluence 5.8.10 is currently using pdfbox 1.8.10.  Workaround: None at this time.  Possible fix: Upgrade to pdfbox 2.0.0."""
"CONFCLOUD-40283","Bug","Editor - Comment Editor",3,"Setting posting date for a blog doesn't work","""{panel:bgColor=#e7f4fa}   *NOTE:* This bug report is for *Confluence Cloud*. Using *Confluence Server*? [See the corresponding bug report|http://jira.atlassian.com/browse/CONFSERVER-40283].   {panel}  * """"Create blog"""" in the UI (createblogpost.action) * Edit the """"Posting Date"""" field at the bottom of the page, changing it from today (2015-12-18) to two days ago (2015-12-16) * Publish * Date in all of the following shows as today, not as the posting date I entered: ** address bar ** breadcrumbs ** rest/api/content/<id> : *** version.when *** history.createdDate """
"CONFCLOUD-40782","Bug","Core - Workbox",5,"Disabling the Confluence Mobile Plugin also disables the Workbox - Host Plugin in Confluence 5.9.X","""{panel:bgColor=#e7f4fa}   *NOTE:* This bug report is for *Confluence Cloud*. Using *Confluence Server*? [See the corresponding bug report|http://jira.atlassian.com/browse/CONFSERVER-40782].   {panel}  h3. Summary  Disabling the *Confluence Mobile Plugin* also disables the *Workbox - Host Plugin* in *Confluence 5.9.X*. The same behavior is not present in Confluence 5.8.X. h3. Steps to Reproduce  # Go to Manage Add-ons in a Confluence 5.9.x instance  # Find the 'Confluence Mobile Plugin'  # Disable the plugin  # Refresh the page  # Find the 'Workbox - Host Plugin' and notice it is also disabled  h3. Expected Results  * The 2 add-ons should not be dependent on each other.   h3. Actual Results  The below exception is thrown in the Confluence logs:  h3. NOTES / Workaround:  Additional side effect:  - Disabling - Confluence Mobile Plugin  -- Causes - Workbox - Host Plugin to become disable  - Disabling - Workbox - Host Plugin  -- Causes - Confluence Mobile Rest to become disabled  - Disabling: Confluence Mobile Rest  -- Causes - Workbox - Confluence Provider Plugin To become disabled  You must have the add-ons enable in the following order to re-enable ([Relates to This Article about enabling the Workbox Plugin |https://confluence.atlassian.com/display/CONFKB/Unable+to+Enable+Workbox's+Notifications+and+Tasks+-+Host+Plugin+Due+to+NoClassDefFoundError]):  - Confluence Mobile Plugin  - Workbox - Common Plugin (If disable / did not chain disable in testing)  - Workbox - Confluence Provider Plugin  - Workbox - Host Plugin  - Confluence Mobile Rest  Restart Confluence, flushing caches as described here (For Cloud this will require filing a support request at [https://support.atlassian.com|https://support.atlassian.com/])  - {{[https://confluence.atlassian.com/display/CONFKB/Plugins+are+disabled+at+startup+and+various+timeout+errors+appear+in+the+logs+after+startup]}}    - Manually Trigger a content-index at this point, or the spaces will not be visable  - Note that if you take the SQL route in the document above, only remove the following 2 {{bandanavalue}}'s unless there are other system plugins you also want to re-enable: """
"CONFCLOUD-40860","Bug","Macros - Other Macros",5,"Page Index macro in large space is bringing down Confluence","""{panel:bgColor=#e7f4fa}   *NOTE:* This bug report is for *Confluence Cloud*. Using *Confluence Server*? [See the corresponding bug report|http://jira.atlassian.com/browse/CONFSERVER-40860].   {panel}  h3. Summary  Page Index macro in large space is bringing down Confluence h3. Environment  * 6.0.0-OD-2016.08.1-0001, server 5.8.18 h3. Steps to Reproduce   # Create a page in a large space (with > 2800 pages)  # Insert _page index macro_  # It would take long to be generated.  h3. Expected Results  Confluence generates the index on the page the macro is inserted with no issues.  h3. Actual Results  Confluence keeps going down with this error:  and   h3. Notes Error still happens even after the _pool size_ has been increased.  h4. Workaround 1 (for Confluence Server)  This is the Confluence Index Macro, which can be enabled/disabled via:  # !https://s3.amazonaws.com/uploads.hipchat.com/10804/2041359/oZYNLidcDNI3S8o/Dashboard%20-%20Confluence%202015-05-13%2013-43-47.png! > *Add-ons*  # Choose *System* from the drop-down  # Expand *Advanced Macros*  # Expand the *modules* on the right side  # Locate the *index* macro and *Disable* it  !disable_index_module.png|thumbnail!  # Restart Confluence to release the existing threads  h4. Workaround 2   # Search for: {{macroName:index}} and you will see all pages containing this macro.  ** Note that your content indexing may need to be rebuilt for this search to work.  # Delete the macro from the pages in the search results  # Restart Confluence to release the existing threads  If you prefer to search via the database for a list of pages, you can use this query:  (!) This workaround is for *Confluence Server*. For Confluence Cloud, please contact Support to get a list of pages using this Macro. You could then remove the macro from those pages."""
"CONFCLOUD-41138","Bug","Page - Export|Page - Import",2,"Confluence to detect newline in word document","""{panel:bgColor=#e7f4fa}   *NOTE:* This bug report is for *Confluence Cloud*. Using *Confluence Server*? [See the corresponding bug report|http://jira.atlassian.com/browse/CONFSERVER-41138].   {panel}  In Word, Shift+Enter and Enter is different. Shift+Enter is a newline while Enter is new paragraph. When the line does contain hyphen, there is high chance that the line will be strike.  h3. Steps to reproduce: # in word, add few lines # in the same line as hypen is used, use newline (shift+enter). Example is attached: [^dashie.docx]  # then, import the word document to Confluence  h3. Expected Behaviour Confluence to detect the newline  h3. Actual Behaviour Newline is not detected, thus the line is striked  !AfterImportedIntoConfluence.png|thumbnail!  """
"CONFCLOUD-41214","Bug","Page - Export",2,"Export to Word fails when the page contains JIRA Issues Macro (table) with the Priority field","""{panel:bgColor=#e7f4fa}   *NOTE:* This bug report is for *Confluence Cloud*. Using *Confluence Server*? [See the corresponding bug report|http://jira.atlassian.com/browse/CONFSERVER-41214].   {panel}  i've tried to export a page to a Word document about 8 times now over a few weeks. It fails every single time with the msg """"Site is down, grab a snack"""" etc. Export to pdf is just fine so I assume the site isn't down :)  Please help!"""
"CONFCLOUD-53543","Bug","Editor - Comment Editor|Page - Export",3,"Issue statistics macro displays HTML when exported to PDF","""h3. Summary  When a user exports a page in Confluence that uses the Issue statistics macro, the resulting PDF displays HTML instead of the rendered macro.    h3. Environment  Cloud    h3. Steps to Reproduce  # Create a new page  # Add the Issue statistics macro  # Configure the macro  # Export the page as PDF    h3. Expected Results  The PDF should render the macro as it does on the page    h3. Actual Results  HTML is rendered instead of the macro itself         h3.Workaround  No workaround"""
"CONFCLOUD-41328","Bug","Page - Export",2,"Images in merged table cells are not exported to PDF correctly","""{panel:bgColor=#e7f4fa}   *NOTE:* This bug report is for *Confluence Cloud*. Using *Confluence Server*? [See the corresponding bug report|http://jira.atlassian.com/browse/CONFSERVER-41328].   {panel}  h3. Summary Images in merged table cells are not exported to PDF correctly - the images appear to be constricted by the original cell size rather than the merged cell size in the PDF document.  h3. Environment * Confluence Cloud (1000.2.0) and also 6.0.0-OD-2016.01.1-0003  h3. Steps to Reproduce # Create a table with multiple columns and rows # Merge two cells on a single row together and insert an image # Insert some text into the other columns in the table # Ensure the image you inserted earlier is almost as wide as the table (not just one of the columns) # Save the page and note that the image  # Click on the *...* icon and select *Export to PDF*  h3. Expected Results The image will take up an amount of space corresponding to it's width on the original document.   h3. Actual Results The Image takes up space only as wide as a single column.   [^Export Test - current version.pdf]    h3.Workaround no workaround at this stage"""
"CONFCLOUD-60574","Bug","Ecosystem",1,"Roadmap macro image download URLs are not in an authorized API scope","""When attempting to download an image as generated by the Confluence roadmap macro using a JWT authentication header a HTTP 403 is returned:  Example URL:  https://jens-k15t.atlassian.net/wiki/plugins/servlet/roadmap/image/1376263/1/e2b9050629f4b34ebb98e4a0df151732.png  Response: {code:title=HTTP 403 Forbidden} <html> <head><title>Apache Tomcat/7.0.68 - Error report</title>     <style>         ...     </style> </head> <body><h1>HTTP Status 403 - Request not in an authorized API scope</h1> <HR size=""""1"""" noshade=""""noshade""""> <p><b>type</b> Status report</p> <p><b>message</b> <u>Request not in an authorized API scope</u></p> <p><b>description</b> <u>Access to the specified resource has been forbidden.</u></p> <HR size=""""1"""" noshade=""""noshade""""> <h3>Apache Tomcat/7.0.68</h3></body> </html> {code}"""
"CONFCLOUD-60427","Bug","Ecosystem",3,"Default space logo download URLs are not in an authorized API scope","""When attempting to download the default space logo using a JWT authentication header a HTTP 403 is returned:  Example URL:  https://jens-k15t.atlassian.net/wiki/images/logo/default-space-logo-256.png  Response: {code:title=HTTP 403 Forbidden} <html> <head><title>Apache Tomcat/7.0.68 - Error report</title>     <style>         ...     </style> </head> <body><h1>HTTP Status 403 - Request not in an authorized API scope</h1> <HR size=""""1"""" noshade=""""noshade""""> <p><b>type</b> Status report</p> <p><b>message</b> <u>Request not in an authorized API scope</u></p> <p><b>description</b> <u>Access to the specified resource has been forbidden.</u></p> <HR size=""""1"""" noshade=""""noshade""""> <h3>Apache Tomcat/7.0.68</h3></body> </html> {code}  This probably also affects other images located at '/images/...'."""
"CONFCLOUD-53887","Bug","Administration - Look and Feel / Themes|Core - Frontend Platform",5,"Can not load theme icon","""Referencing my comment here: https://ecosystem.atlassian.net/wiki/display/CONF/refinedWiki+Original+Theme+to+Connect?focusedCommentId=245563414#comment-245563414     !Screen Shot 2016-05-09 at 11.10.28.png|thumbnail!     When installing our theme addon on refined2.atlassian.net the theme icon doesn't load. The following stack trace is given when accessing the image directly      """
"CONFCLOUD-48832","Bug","Add-ons - Team Calendar|Ecosystem",3,"Users receive email notifications for calendars they don't watch","""{panel:bgColor=#e7f4fa}    *NOTE:* This bug report is for *Confluence Cloud*. Using *Confluence Server*? [See the corresponding bug report|http://jira.atlassian.com/browse/CONFSERVER-48832].    {panel}    One of our calendars, which isn't embedded in any page, has been sending email notifications to users who are not watching the calendar. Not all users are affected. There appears to be no way to unsubscribe them from receiving these notifications.    * The users' lists of watched items doesn't contain this calendar  * When the users access the Calendars page and select this calendar's drop down menu from the elipsis, they find that they are not watching this calendar (status reads """"Watch"""" and not """"Stop Watching"""" or """"Watched"""")    I used this query to see if the calendar is embedded anywhere returned no results:    embeddedSubCalendarId:CALENDARID    This seems to be a known issue, as reported here: https://jira.atlassian.com/browse/TEAMCAL-3709    Is there any fix for this?     *Workaround*:    # Manually access an URL for Calendars that are tied to the user profile:   # The user will be able to see a list of Calendars, including the ones that the same should not be watching.  # Search for the Calendar and finally, click on *Unwatch*.     The user should no longer receive notifications from this Calendar after doing that."""
"CONFCLOUD-42684","Bug","Integrations - Office Connector",3,"Office Connector logging is no longer working","""{panel:bgColor=#e7f4fa}   *NOTE:* This bug report is for *Confluence Cloud*. Using *Confluence Server*? [See the corresponding bug report|http://jira.atlassian.com/browse/CONFSERVER-42684].   {panel}  Since version 3.4.3 of the Office Connector, logging for the plugin is no longer working. h3. Steps to Reproduce  # Start up a version of Confluence that bundles OfficeConnector 3.4.3 or above (5.9.x), or install this version into Confluence 5.8.x  # Set debug logging on these two classes:  -- {{com.benryan}}  -- {{com.atlassian.confluence.extra.officeconnector}}  # Upload an excel, word and ppt document and wait for the indexing to kick off (~1 minute)  # You should see DEBUG lines in the atlassian-confluence.log, however there is none. There is no logging at other levels either.  I suspect this began after implementing the Office Connector [canary process|https://confluence.atlassian.com/display/CONFKB/JVM+crashes+during+Import+from+Word+in+Confluence], however it could also have been due to the dependency changes required for plugins4.  Logging for the canary process and some parts of the Office Connector  (eg below) go to the catalina.out, but is not formatted in the usual way (eg the timestamp). This is because it uses an SLF4J SimpleLogger, which is by design - it runs in an entirely separate JVM and is stripped down to pure essentials. It appears as though the dependencies from this module are bleeding into the main JVM and breaking logging for the whole plugin. """
"CONFCLOUD-60292","Bug","Ecosystem",1,"Gallery macro image download URLs are not in an authorized API scope","""When attempting to download an image as generated by the Confluence *gallery* macro using a JWT authentication header a HTTP 403 is returned:  Example URL:  https://jens-k15t.atlassian.net/wiki/download/thumbnails/4554757/octocat.png?api=v2&modificationDate=1464622036087&version=1  Response: {code:title=HTTP 403 Forbidden} <html> <head><title>Apache Tomcat/7.0.68 - Error report</title>     <style>         ...     </style> </head> <body><h1>HTTP Status 403 - Request not in an authorized API scope</h1> <HR size=""""1"""" noshade=""""noshade""""> <p><b>type</b> Status report</p> <p><b>message</b> <u>Request not in an authorized API scope</u></p> <p><b>description</b> <u>Access to the specified resource has been forbidden.</u></p> <HR size=""""1"""" noshade=""""noshade""""> <h3>Apache Tomcat/7.0.68</h3></body> </html> {code}"""
"CONFCLOUD-60267","Bug","Ecosystem",1,"Unknown macro placeholder image download URL is not in an authorized API scope","""When attempting to download the placeholder image for an unknown macro using a JWT authentication header a HTTP 403 is returned:  Example URL: https://jens-k15t.atlassian.net/wiki/plugins/servlet/confluence/placeholder/unknown-macro?locale=en_GB&name=expando&version=2  Response: {code:title=HTTP 403 Forbidden} <html> <head>     <title>Apache Tomcat/7.0.68 - Error report</title>     <style>     </style> </head> <body>     <h1>HTTP Status 403 - Request not in an authorized API scope</h1>     <hr size=""""1"""" noshade>     <p><b>type</b> Status report</p>     <p><b>message</b> <u>Request not in an authorized API scope</u></p>     <p><b>description</b> <u>Access to the specified resource has been forbidden.</u></p>     <hr size=""""1"""" noshade>     <h3>Apache Tomcat/7.0.68</h3> </body> </html> {code}"""
"CONFCLOUD-60685","Suggestion","Ecosystem",1,"K15t Spike and Decide on Possible Solutions","""This story is to triage the other stories in this epic, create decision page to agree on problem and solution with all stake holders: Connect Team [~slancashire] [~mjensen]  Decision Page: https://pug.jira-dev.com/wiki/display/CE/How+to+allow+connect+add-on+access+web+resources+of+Confluence+or+other+add-on?flashId=641591085"""
"CONFCLOUD-53649","Bug","Page - Export|Page - Import",3,"Word importer displays error The macro '|\' is unknown","""h3. Summary  When the customer attemtps to import a word document, the importer fails with the error 'The macro '|\' is unknown'    h3. Environment  Cloud      h3. Steps to Reproduce  # Start import with customers word document      h3. Expected Results  Word document should be imported and a new page should be created      h3. Actual Results  Confluence displays the following error  {no format}  2016-06-29 13:59:38.213881500 com.atlassian.confluence.api.service.exceptions.InternalServerException: com.atlassian.confluence.content.render.xhtml.migration.exceptions.UnknownMacroMigrationException: The macro '|\' is unknown.  {no format}    h3. Notes  Full stack trace can be seen in the attached txt file  """
"CONFCLOUD-53601","Bug","Page - Export",2,"PDF Page export cannot be downloaded when page title contains # character","""h3. Summary  When trying to export a page as PDF using the *Export to PDF* feature on a page which has a '#' character in its title, clicking on the link to download the export redirects to a 403 error page.    h3. Environment  (Optional - If Applicable)  * Confluence 1000.161.0       h3. Steps to Reproduce  # Use the *Export to PDF* option on a page with a '#' in the page title  # Click on the link provided to download your export.      h3. Expected Results  You can download the PDF generated successfully like with any other pages.    h3. Actual Results  You are redirected to a 403 page with the following message: _Access to the specified resource has been forbidden_     h3. Notes  This may happen with other special characters    h3.Workaround  Use the custom export from *Space Tools* > *Content Tools* > *Export* (choose PDF option) > *Custom Export*. Then select the pages you wish to export."""
"CONFCLOUD-53932","Bug","Page - Export",2,"Cannot curl the page pdf action endpoint to directly download the pdf","""h3. Summary  Up until Confluence version 1000.150.0 exporting a page to PDF by clicking the 3 dots menu and selecting """"_Export to PDF_"""" option would create the PDF and present the option to download it within the same page (without refreshing the page or loading another page).  However, from Confluence version 1000.161.0 forward the export page to PDF is considered to be a long running task, thus when a page export to PDF is selected it loads the """"long running tasks"""" page before presenting the download link.    h3. Environment  Confluence Cloud    h3. Steps to Reproduce  # Go to a page click the 3 dots menu  # Select the """"_Export to PDF_"""" option    h3. Expected Results  A direct download of the PDF.  !1000.150.0.mp4!    h3. Actual Results  The long running tasks page is loaded and only then the export is processed and it produces a link instead of the direct download file.  !1000.161.0.mp4!    h3. Notes  This breaks Bob Swift's CLI, specifically the example 123 on [this examples pages|https://bobswift.atlassian.net/wiki/display/CSOAP/Examples].  Also, if you used cURL to automate PDF exports download this no longer works as cURL returns the HTML of the long running tasks page.    h3.Workaround  Click the Download here link in the Long Running Tasks screen.    Or if you use automation you can make use of the [longtask method|https://docs.atlassian.com/confluence/REST/latest/#longtask] of Confluence's REST API to get the link to download the file."""
"CONFCLOUD-53751","Bug","Site - Backup / Import",3,"Drafts are multiplied after several importings","""Steps to reproduce:   * Create some drafts   * export site   * Import via Import Site several times (with same export file)   * Drafts got multiplied copies    Note this happens on Cloud instance via Import site only"""
"CONFCLOUD-60568","Bug","Core - Connect Platform|Ecosystem",2,"Cannot expand details of last updater when calling content REST API","""This expand does not work even if the returned JSON suggests that it should work: {code:title=GET .../rest/api/content/<pageId>?expand=history.lastUpdated.by.details} {     """"id"""": """"18972673"""",     """"type"""": """"page"""",     """"status"""": """"current"""",     """"title"""": """"dummy macro"""",     """"history"""": {         """"lastUpdated"""": {             """"by"""": {                 """"type"""": """"known"""",                 """"username"""": """"admin"""",                 """"userKey"""": """"ff80808154711efd0154711f21360001"""",                 """"profilePicture"""": {                     """"path"""": """"/wiki/images/icons/profilepics/default.png"""",                     """"width"""": 48,                     """"height"""": 48,                     """"isDefault"""": true                 },                 """"displayName"""": """"Jens Rutschmann"""",                 """"_links"""": {                     """"self"""": """"https://jens-k15t.atlassian.net/wiki/rest/experimental/user?key=ff80808154711efd0154711f21360001""""                 },                 """"_expandable"""": {                     """"details"""": """"""""                 }             },             ...         },         ...     },     ... } {code}  Because of this we need to do separate calls for each page we're exporting."""
"CONFCLOUD-44194","Bug","Editor - Collaborative editing",5,"Random blank lines inserted around panels","""{panel:bgColor=#e7f4fa}   *NOTE:* This bug report is for *Confluence Cloud*. Using *Confluence Server*? [See the corresponding bug report|http://jira.atlassian.com/browse/CONFSERVER-44194].   {panel}  This page shows two places where extra white space has been added, making it hard to layout a page the way you want: # Blank space above the """"info"""" and """"panel"""" macros in the side-columns. # Blank space above and below the """"excerpt"""" macro in the info box (despite having """"inline"""" mode selected)."""
"CONFCLOUD-52974","Bug","Space - Import / Export",2,"HTML export causes duplicate Atlassian logo in the footer","""h3. Summary  HTML export causes duplicate Atlassian logo in the footer    h3. Steps to Reproduce  # Space Tools > Content Tools > Export > html    h3. Expected Results  Single Atlassian logo as what can be observered in the page  h3. Actual Results  Duplicate Atlassian logo as attached screenshot     h3.Workaround  No workarounds at the moment"""
"CONFCLOUD-44094","Bug","Editor - Collaborative editing",3,"""Update published page"" dialog overlaps the Update button on Windows browsers","""{panel:bgColor=#e7f4fa}   *NOTE:* This bug report is for *Confluence Cloud*. Using *Confluence Server*? [See the corresponding bug report|http://jira.atlassian.com/browse/CONFSERVER-44094].   {panel}  h3. Summary When Collaborative Editing is on and you're editing a page the """"_Update published page_"""" dialog overlaps the Update button itself making it hard to click the Update button to save the changes.  h3. Environment Confluence Cloud This could only be reproducible on all browsers running on Windows 7 (IE11, Chrome and Firefox)  h3. Steps to Reproduce # Have Collaborative Editing enabled # Access a page and click the Edit button # Hover the mouse over the Update button  h3. Expected Results The dialog is completely above the button  h3. Actual Results The dialog overlaps the Update button    h3.Workaround No workaround on Windows"""
"CONFCLOUD-60208","Bug","Core - Connect Platform|Ecosystem",3,"Urls to images attached to pages with '/' character in title are invalid when converting storage to view","""When generating the download urls for images in export_view, the '/' characters in page titles don't seem to be escaped correctly. Even when manually escaping this character, the image cannot be downloaded using the resulting url.  Steps to reproduce: # Create a page called 'a/b' # Attach an image called 'test.jpg' to it. # Call the storage to view conversion service (fix the page ID):{code:title=POST jens-k15t.atlassian.net/wiki/rest/api/contentbody/convert/export_view} {     """"value"""" : """"<p><ac:image ac:height=\""""250\""""><ri:attachment ri:filename=\""""test.jpg\"""" /></ac:image></p>"""",     """"representation"""" : """"storage"""",    """"content"""":{""""id"""":""""22413329""""} }  <p>     <span class=""""confluence-embedded-file-wrapper confluence-embedded-manual-size"""">         <img class=""""confluence-embedded-image"""" height=""""250"""" src=""""https://jens-k15t.atlassian.net/wiki/download/attachments/embedded-page/INT/a/b/test.jpg?api=v2"""">     </span> </p> {code} # The image can not be loaded using this url, check out the part with the filename: {{.../embedded-page/INT/a/b/test.jpg}}"""
"CONFCLOUD-52914","Bug","Editor - Comment Editor|Editor - TinyMCE 4",1,"Cutting and pasting a line in bulleted list adds extra bullet","""h3. Summary    Whenever you cut a line from a bulleted list and add it back to the list, an extra bullet is added to the list    h3. Environment    * Confluence 1000.340.0    h3. Steps to Reproduce  # Add 3 bulleted lines of text  # Select the last line and cut it (ctrl + x or cmd + x)  # After the first bulleted line, add a new line and paste the line you previously cut    h3. Expected Results    The cut line is pasted with only one bullet    h3. Actual Results    The cut line is pasted with an extra bullet    h3. Notes    Attached .MOV file showing issue    h3.Workaround    None"""
"CONFCLOUD-53097","Bug","Page - Export",2,"Long running Word exports are not downloadable in Cloud","""h3. Summary  All HTTP requests in Cloud have a 60 second timeout. When a Word export runs longer than that, the task keeps running on the background but the generated export file does not returned to the customer. Confluence throws the """"Page Unavailable"""" error to customer.    If another Word export is triggered, Confluence tries to generate it again. Because there is a 30 second retry done automatically by the smart-status timeout page from the client browser that will trigger a new word export automatically.   This loop of generating new word exports can render Cloud sites unusable on certain situations.    h3. Environment  * Confluence Cloud    h3. Steps to Reproduce  # Create a Confluence Cloud page with more than 350 JIRA Issue macro  # Export page to Word    h3. Expected Results  Word file is downloadable at the end of the process.    h3. Actual Results  """"Page Unavailable"""" page is showing.    h3. Workaround  No workaround"""
"CONFCLOUD-53225","Bug","Core - Frontend Platform",8,"Tables do not render correctly when using the content rest API","""When using the content rest API to render content with a table, the table header is not the correct colour and the headers are centre aligned (instead of left aligned)."""
"CONFCLOUD-53010","Bug","Core - Frontend Platform",3,"Tasks lists are not rendered correctly when using the content rest API","""When using the content rest API to render content, if the content contains a task list, then the task list checkboxes are not shown in the output and tasks cannot be marked as completed."""
"CONFCLOUD-52953","Bug","Core - Frontend Platform",3,"Mentions are not rendered correctly when using the content rest API","""When using the content rest API, if the content contains an """"@-mention"""" of a user, then the mention is not rendered correctly"""
"CONFCLOUD-52804","Bug","Core - Frontend Platform",5,"Content rest API rendering non-breaking spaces has a weird character","""If a page contains non-breaking spaces (&nbsp) in its content, then the rest API is returning the non-breaking space as an odd character ()."""
"CONFCLOUD-52785","Bug","Core - Frontend Platform",5,"Expand macro not working when using content rest API","""When using the content rest API to read the content of a page, if a page has an expand macro, the expand macro won't open/close when rendered on a page."""
"CONFCLOUD-52718","Bug","Core - Frontend Platform",8,"Code macro not rendering correctly when using content rest API","""When rendering content using the content rest API, if the page contains a Code Block macro, the code block does not rendering correctly. The colours, line numbers and expand/collapse behaviour are not applied."""
"CONFCLOUD-53228","Bug","Core - Frontend Platform",5,"Images are returned with a relative path from the content API","""When using the rest API to retrieve content from Confluence, if the content contains images, the image path is specified with a relative URL. e.g:    <img ... src=""""/wiki/download/attachments/32772/Cassie.jpg?version=1&amp;modificationDate=1475542723490&amp;api=v2"""" ... />    This means the image cannot be rendered inside a Connect add-on."""
"CONFCLOUD-44930","Bug","Editor - Collaborative editing",3,"BR elements between inline macros","""{panel:bgColor=#e7f4fa}   *NOTE:* This bug report is for *Confluence Cloud*. Using *Confluence Server*? [See the corresponding bug report|http://jira.atlassian.com/browse/CONFSERVER-44930].   {panel}  Steps to reproduce:  * create empty page * insert excerpt macro using { notation then write something inside then hit the down arrow * insert second excerpt macro using { notation then write something inside then hit the down arrow * insert third excerpt macro using { notation and write something inside * check that all three macros have the """"inline"""" display option selected (by clicking on the macro placeholder to show the property panel) * update the page to go back into the page view mode * result shared-drafts turned on: spans are on three different lines * result shared-drafts turned off: spans are on the same line"""
"CONFCLOUD-45659","Bug","Editor - Comment Editor",1,"Extra paragraph added when a paragraph is selected and a symbol inserted in collab editor","""{panel:bgColor=#e7f4fa}   *NOTE:* This bug report is for *Confluence Cloud*. Using *Confluence Server*? [See the corresponding bug report|http://jira.atlassian.com/browse/CONFSERVER-45659].   {panel}  Steps to reproduce:  * Create a page with two paragraphs. Publish. * Edit the page. Select the first paragraph. * Click on insert > symbol * Insert a symbol * Notice another blank paragraph got added after the paragraph you selected.  """
"CONFCLOUD-45095","Bug","Editor - Collaborative editing",1,"Deleting an attachment, page, or plugin outside the editor does not update the editor format","""{panel:bgColor=#e7f4fa}   *NOTE:* This bug report is for *Confluence Cloud*. Using *Confluence Server*? [See the corresponding bug report|http://jira.atlassian.com/browse/CONFSERVER-45095].   {panel}  This happens when a page or attachment is added or deleted while there is an open editing session on a page that either links to the deleted/added page or uses the attachment.  *Steps to reproduce*  * Create a page and insert an image into it. Publish it. * Click edit to start a new draft. * Go to the attachments screen of the page and delete the attached image * Go back to the page and press edit  *Actual behaviour*  * The editor still shows the attachment  *Expected behaviour*  * The editor should show """"Unknown attachment""""  This happens because the editor format of the page changes even though the page does not get edited. However, Synchrony still has the old editor format.  This is also true for links and macros. For example, deleting a page that was linked to from another page results in this same behavior, as well as deleting a plug-in while one of its macros is used on a page. The page in edit mode still looks like the macro is present even though in view mode it shows up as """"Unknown macro.""""  *Workaround*  The workaround is to publish the page if this happens. Publishing the page forces Synchrony to get the new editor format. The editor format will now say correctly """"Unknown attachment"""" or """"Unknown macro"""" or will point to a non-existent link. The real solution in that case is to remove that part of the page or replace it with the new attachment or link."""
"CONFCLOUD-53396","Bug","Site - Backup / Import",2,"Unable to generate Confluence Backup using backup manager","""h3. Summary    Confluence backup is not working when Backup Manager is used and include attachments option is checked. Could not generate backup file and when completed shows an error """"Woah, Something went wrong! /n Unexpected error during export has occurred""""  h3. How to Replicate   # Go to Backup Manager in confluence   # Choose Backup and with attachments checked   # Wait for the backup to complete with Error """"Woah! Something went wrong!'    h3. Expected Results    Backup Successful  h3. Actual Results    Backup finish with error  {quote}  """"Woah, Something went wrong! /n Unexpected error during export has occurred""""  {quote}     h3. Workaround    Run backup without attachment Intermittently works (unless you have Gliffy add-on installed). No workaround for full backup with attachment"""
"CONFCLOUD-60654","Suggestion","Ecosystem",2,"Replace vm template with soy for CssMetaData classes","""After demo, we like to replace vm template with soy template for performance gain."""
"CONFCLOUD-53499","Bug","Site - Backup / Import",2,"Confluence backup hangs when using IE11","""h3. Summary    Confluence backup hangs when using IE11    h3. Environment    * IE11      h3. Steps to Reproduce  # Access a Confluence instance using IE11  # Go to backup manager and click on Create Backup    h3. Expected Results    A .zip file should be generated and displayed at the page    h3. Actual Results    Creating backup keeps spinning as if the .ZIP file wasn't ready yet but, it's possible   to see in clog that backup proccess was completed.   Also, when you access the Backup Manager page using another browser it's possible to see that the .zip file   was created and is available for download.  The below exception is thrown in the browser logs:  \     h3. Notes  Tested the same proccess with Mozzila and Chrome, with this browser creating backup worked fine.  Tried to refresh Create Backup page in IE11 without success.  h3.Workaround  Create backup using Mozzila ou Chrome"""
"CONFCLOUD-52756","Bug","Space - Import / Export",2,"PDF custom export ignores if a child page is selected or not if the parent page is selected. ","""h3. Summary    When you export a space to PDF export using Custom Export, it ignores if a child page is selected or not if the parent page is selected.  h3. Environment    Confluence Cloud Version: 1000.518.1  h3. Steps to Reproduce   # Export a Space, select *PDF*   # Select *Custom Export*   # Select a parent page and deselect the child pages under it.    h3. Expected Results    It should only export the selected page.  h3. Actual Results    It is exporting the child pages of the selected parent page even if you deselect the child pages during the export."""
"CONFCLOUD-60483","Bug","Core - Connect Platform|Ecosystem",3,"Image styles are not included in batches referenced when converting content using the REST API","""We currently need to explicitly add this file to our download list because it is not included in referenced CSS URIs in the conversion result.   The styles in this files are not included in the CSS batches and we need to them for correct image positioning, especially for inline images.  Please note that we currently need to download it from the Confluence server instead of the CDN because we can't guess the respective CDN url, if there is any."""
"CONFCLOUD-53199","Bug","Space - Import / Export",2,"Unable to select file to import space using IE11","""h3. Summary  Clicking the """"_Select file to import_"""" button on Confluence using Internet Explorer 11 does not open the file picker.  h3. Environment  Confluence Cloud  Internet Explorer 11    h3. Steps to Reproduce  # Navigate to Confluence Administration > Import Spaces  # Click the """"_Select file to import_"""" button    h3. Expected Results  A file picker window should open for you to pick the file to import.  h3. Actual Results  Nothing happens.       h3.Workaround  Use Firefox or Chrome."""
