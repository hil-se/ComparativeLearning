"issuekey","type","components","storypoint","title","description_text"
"STL-629","Improvement","Documentation",2,"Migrate docs to hyperledger.org from legacy URL","""[~amundson] has new URL and process in mind."""
"STL-670","Improvement","REST API|sawtooth CLI|XO Family",0,"Change default REST API port to 8008","""Currently the Sawtooth REST API defaults to `localhost:8080`, which is common enough that it is likely to conflict with many web services developers may be running. This default should be changed to `localhost:8008`, which is less likely to cause collisions, is still a common HTTP port, and happens to be exactly twice the validator's default port.    This task includes changing _every_ default in sawtooth-core which expects to find the REST API at `localhost:8080`. This will include many CLIs and possible some other components as well."""
"STL-807","New Feature","Validator Journal|Validator Txn Execution",3,"Add unschedule_incomplete_batches() to Scheduler","""In order to create blocks when the consensus module deems a node to have """"won the block"""", the scheduler needs to discard any unprocessed batches.  Otherwise, the remaining batches' processing time may extend past the window of opportunity for claiming the block.    Add a {{scheduler.unschedule_incomplete_batches()}} function, which takes any uncompleted transactions and removes them from the schedule.    The flow should be:     """
"STL-858","Bug","sawtooth CLI",1,"Wait option on sawtooth batch submit CLI fails","""batch submit works fine for this batch but adding the --wait option throws a stack trace.         sawtooth batch submit -f poet-settings.batch --url http://rest-api:8080 --wait    batches: 1,  batch/sec: 53.31448691385644    Traceback (most recent call last):(      File """"/project/sawtooth-core/cli/sawtooth_cli/main.py"""", line 160, in main_wrapper        main()      File """"/project/sawtooth-core/cli/sawtooth_cli/main.py"""", line 144, in main        do_batch(args)      File """"/project/sawtooth-core/cli/sawtooth_cli/batch.py"""", line 152, in do_batch        do_batch_submit(args)      File """"/project/sawtooth-core/cli/sawtooth_cli/batch.py"""", line 275, in do_batch_submit        if all(s.status == 'COMMITTED' for s in statuses):      File """"/project/sawtooth-core/cli/sawtooth_cli/batch.py"""", line 275, in <genexpr>        if all(s.status == 'COMMITTED' for s in statuses):    AttributeError: 'dict' object has no attribute 'status'"""
"STL-905","Improvement","PoET",2,"Relax PoET registration freshness requirement","""Validator registration requires a nonce referencing the latest block.    That is overly restrictive. The freshness goal is to make it unlikely that a validator was revoked from the EPID group at the time of registration.    Something on the order of 10 blocks should still be more than sufficient.    The current harm from the 1 block requirement is that it's very likely that a validator's signup will fail in proportion to the load on the network. i.e. the signup transaction can't be guaranteed to commit within 1 block of the validator creating the registration transaction.         Update code and Spec."""
"STL-970","New Feature","sawtooth CLI",3,"Implement command to prune the block store from a given block.","""Example: {{sawadm prune <block-id>}}"""
"STL-969","New Feature","Validator Networking",1,"Add metric for rate of rejected batches due to back pressure","""* batches rejected per node (count)   * batches rejected per node (gauge)"""
"STL-968","New Feature","Validator Journal|Validator Networking",3,"Remove batches from block before broadcast after publishing","""Remove batches from block (excluding injected batches) before broadcast after publishing"""
"STL-967","Improvement","Documentation",2,"Add logging guidelines to Contributor's Guide","""Should also include reaching consensus on these guidelines"""
"STL-994","Improvement","Validator Journal",1,"Log full batch and transaction ids instead of truncating","""Example of a bad message that truncates the batch id:    Jan  9 11:11:13 ec2-184-72-66-148.compute-1.amazonaws.com [psimlr7-node7]    DEBUG                     Thread-54                        chain Invalid batch f6fae4cf encountered during verification of block 52bdda9387194b6e71e25a07bfe1a8f59154a07ef959dc1531ce7ecef4d81f031799d610b227c4c0b610e952a379b4ee2f37acd5a436be1b61abf0562b53a2f9 (block_num:55, state:5aee65406b9ac2f442fb710bbd58f9148489359f8378b90c6d670768828e5beb, previous_block_id:83de41121c8801ec4bfd5228ece9c9cb2ed0c63fb871aae721ad7554fe747121615f09a9ce2344701945bb47b4f541453d9fc38c9475b4194b43ffc89e708925)"""
"STL-1013","New Feature","Validator Txn Execution",2,"Add QUEUE_FULL response type to transaction processor messages","""This should add a new message protos and add support to the validator for handling this type of message."""
"STL-1037","Improvement","Validator Txn Execution",1,"Log at error level when an INTERNAL_ERROR is returned from a transaction processor ","""The executor should log whenever a transaction processor sends a TpProcessResponse with status INTERNAL_ERROR. This should be logged at the ERROR level. Additional information about the transaction should also be logged for diagnosis."""
"STL-1036","Improvement","Validator Txn Execution",1,"Add in-process transactions metric","""Add a metric to the executor to track the number of transactions that have been sent to a transaction processor and are awaiting a transaction response. This should be incremented whenever a new transaction process request is submitted and decremented whenever a response is received."""
"STL-1076","Bug","Documentation|XO Family",2,"XO Family specification missing delete operation; clarify name fields; fix range","""Defect in version 1.0.1    The XO Transaction family specification should include the transaction action `delete`    The `name` field of the transactions and the state element should indicate that is the name of the game and that is how the record is keyed. The implication being that all game names must be unique     The range of values for a `space` should be [1,9] inclusive."""
"STL-1119","Bug","sawtooth CLI",1,"sawtooth-rest-api CLI has old URL in --help text ","""{{}}Wrong:         -B BIND, --bind BIND identify host and port for API to run on default: http://localhost:8080)    Should be:         ... (default: http://localhost:8008)"""
"STL-1122","Bug","sawtooth-core",1,"Wrong default URL (8800) in example validator config file","""The file sawtooth-core/validator/packaging/validator.toml.example has the wrong default URL. Currently:     {{     bind = [}}  {{     """"network:tcp://127.0.0.1:8800"""",}}  {{     """"component:tcp://127.0.0.1:4004""""}}  {{     ]}}    Should be:     {{     bind = [}}  {{     """"network:tcp://127.0.0.1:8008"""",}}  {{     """"component:tcp://127.0.0.1:4004""""}}  {{     ]}}"""
"STL-1165","Bug","Documentation",3,"App Dev Docs for Transaction Processors is out of date","""The Transaction Processor tutorials for both Python and Javascript (unsure about Java), use the 0.8 API for instantiating the TransactionHandler. They erroneously include encoding, which is no longer used, and for JS, list family versions as a string. It should be an array.    [https://sawtooth.hyperledger.org/docs/core/releases/latest/_autogen/sdk_TP_tutorial_js.html#the-xohandler-class]  [https://sawtooth.hyperledger.org/docs/core/releases/latest/_autogen/sdk_TP_tutorial_python.html#the-xotransactionhandler-class]    Might be worth give the rest of the document a once over for other 0.8 syntax as well."""
"STL-1243","Improvement","Documentation",1,"Improve consistency of SDK Documentation cover page","""On the SDK API cover page (link below) the python sections are labeled """"processor package"""" and """"sawtooth_signing"""" package, and each has lots of sub-bullets, while the other SDK sections are labeled """"Transaction Processor"""" and """"Signing"""" and have no sub-bullets.    Recommendation is to name sections consistently - it is difficult to tell what the different formats mean, e.g. whether the Python SDK is different from the other two in some important way.    [https://sawtooth.hyperledger.org/docs/core/releases/1.0/sdks.html]     """
"STL-1303","Bug","Documentation",3,"Missing information: Setting on-chain permissions for a transaction family","""Restore the 1.0.4 information in """"Configuring the List of Transaction Families"""":   [https://sawtooth.hyperledger.org/docs/core/releases/latest/app_developers_guide/docker.html#configuring-the-list-of-transaction-families]    The SysAdmin guide probably needs an expanded version of this information.     """
"STL-1306","Improvement","Documentation",2,"Document the process for generating the Curve ZMQ key pair","""Add details on how to generate a new key pair for the Curve ZMQ to ensure network encryption."""
"STL-1352","Improvement","Documentation",3,"Fix Journal section: Redo intro, delete obsolete content","""This includes deleting the Journal chapter itself.  The remaining (valid) sections will be reorganized and possibly retitled (covered in a separate story)."""
"STL-1351","Improvement","Documentation",5,"SUPERSEDED: Document consensus API - new arch doc & engine steps","""Describe the new consensus API and consensus engines.   * Write a new Consensus Interface section for the Architecture Guide   * Update the consensus-related steps in the Application Developer's Guide and System Administrator's Guide.     Source information:   * Hyperledger blog post: [https://www.hyperledger.org/blog/2018/05/24/one-year-later-interoperability-standardization-shine-at-consensus]    * Adam Ludvik's presentation, """"Sawtooth Consensus engines"""" (for AMS hackathon 2018)   * Consensus RFC: [https://github.com/hyperledger/sawtooth-rfcs/pull/4] """
"STL-1350","Improvement","Documentation",1,"Correct ""Transactions and Batches"" diagram","""Update with the current contents of protos/batch.proto and protos/transaction.proto."""
"STL-1362","Improvement","Documentation",1,"Update ""Sawtooth Architecture"" picture with consensus changes","""The consensus changes (consensus engine and proxy) affect this Sawtooth architecture picture: https://sawtooth.hyperledger.org/docs/core/nightly/master/_images/arch-sawtooth-overview.svg"""
"STL-1364","Improvement","Documentation",1,"Fix title of ""Genesis Operation""","""Change to """"The Genesis Process"""" (the word """"operation"""" is confusing)."""
"STL-1415","Improvement","Documentation",1,"Compare SGX and non-SGX procedures in Sys Admin Guide","""Work with sysadmin and Sawtooth experts to determine which steps in the SGX procedure are valid for a non-SGX Sawtooth node."""
"STL-1414","Improvement","Documentation",5,"Gather changes for Sys Admin Guide update","""Work with sysadmin experts to identify errors, out-of-date information, and areas of confusion in the current System Administrator's Guide."""
"STL-1436","Improvement","Documentation",1,"Determine how to handle SGX procedure in Sys Admin Guide","""Research the existence (or lack) of a consensus engine for PoET SGX and update or remove the SGX procedure accordingly."""
"STL-1435","Improvement","Documentation",1,"Add new consensus steps to SGX + non-SGX procedures","""* Download and install consensus engine(s)   * Configure consensus in validator config file (new bind options)   * Start consensus engine with other Sawtooth components     """
"STL-1434","Improvement","Documentation",3,"Update config steps for non-SGX proc in Sys Admin Guide","""Determine the necessary config steps (based on the ref info config section) and add them to the SGX and non-SGX procedures.    Rework the existing """"Configuring Sawtooth"""" section to clarify that it's reference information; move it to the end of the chapter."""
"STL-1433","Improvement","Documentation",1,"Clarify Apache setup proc in 'Using a Proxy Server [for] REST API'","""Edit content to clarify information.         Note: The technical updates are covered in STL-1447:   * Change paths from `/tmp` to a less temporary location.   * For password-file-creation step, explain how the password is hashed.   * For `openssl` step, add a link to `letsencrypt.org`.   * Change Apache and Sawtooth component startup steps to use `systemctl`.     """
"STL-1443","Improvement","Documentation",5,"Correct + reorg non-SGX install/config proc in Sys Admin Guide","""Collect the existing (separate) sections into one procedure.    Reorganize into the correct order.    Add missing steps: Generating keys, configuring services, etc. (Other JIRAs cover the missing steps for Sawtooth config and new consensus engine info.)"""
"STL-1459","Improvement","Documentation",1,"Update config steps for SGX proc in Sys Admin Guide","""Make changes discovered in STL-1434."""
"STL-1530","Bug","PoET|Poet2",1,"poet-sgx use the version 2 of remote attestation protocol which is not supported anymore by Intel","""In the poet-sgx consensus, during the remote attestation protocol, the requests for get_signature_revocation_lists and post_verify_attestation are made for the v2 of the attestation protocol, which is not supported anymore. A simple fix is to change the path by v3 in order to use the correct version."""
"STL-1553","Improvement","Documentation",2,"Add consensus engine info to Sysadmin + App Dev Guides","""Provide admin-specific information about the consensus interface for the System Administrator's Guide, with links to the dynamic consensus overview in the Introduction (and other consensus-related information as appropriate).  This info should summarize how to choose and configure a consensus engine.    For the App Dev Guide, add links to this information.    ------------------------    PREVIOUS CONTENT    Provide appdev-specific information about the consensus interface for the Application Developer's Guide, with links to the consensus interface topic in the Architecture Guide.  For the App Dev Guide, this info should summarize how to choose and configure a consensus engine.    ------------------------    ORIGINAL CONTENT    Describe new consensus interface (API, consensus engines-, SDKs-) based on the RFC, presentations, and other info sources.    This information is needed for the PBFT documentation: must briefly define/explain the Sawtooth consensus interface in once place, so that the consensus engine steps in the procedures can link to this information.    Consider using the current """"Dynamic Consensus Algorithm"""" section in the Sawtooth introduction, and replacing the intro's section with a shorter summary.    Also document consensus fallback mechanism for existing chains on networks upgraded from 1.0. Implementing PR: [https://github.com/hyperledger/sawtooth-core/pull/2056]"""
"STL-1607","Improvement","Documentation",2,"Write initial Which Consensus? topic","""Create a single topic that consolidates and summarizes consensus information (requirements, settings, tips, etc.) for devmode, PoET, PBFT, and Raft. Ideally, this topic should explain the pros/cons and best-practice tips for when to use each type of consensus.    This high-level topic may require several rounds of reviews and rewrites to fine-tune the information. This story covers the initial version and first round of reviews."""
"STL-1606","Improvement","Documentation",1,"Add consensus endpoint to Ubuntu NW proc in App Dev Guide","""The Prerequisites section in """"Using Ubuntu for a Sawtooth Test Network"""" needs to include the ``consensus`` bind setting and mention the default (5050).    [https://sawtooth.hyperledger.org/docs/core/nightly/master/app_developers_guide/ubuntu_test_network.html#prerequisites]"""
"STL-1630","Bug","Documentation",1,"Doc: Double-quote each key in sawtooth.consensus.pbft.members","""Add new info to the App Dev and Sys Admin Guides: Each key in sawtooth.consensus.pbft.members must be surrounded with double quotes. If the setting is changed on the command line (with sawset proposal create), you must use single quotes around the entire string to protect the double quotes from the shell.    Note: This issue was discovered during Chime testing."""
"STL-1629","Improvement","Documentation",1,"SysAdmin Guide: Add ownership + permission info to config file topics","""The topics that describe how to copy or download the example config file templates should provide the required/recommended ownership and perm info: Owner root, group sawtooth, and permissions 640.    Note: The need for this info was discovered during Chime testing.          """
"STL-1631","Bug","Documentation",1,"INVALID: Add Identity TP info/steps to App Dev Guide network procs","""The Identity transaction processor is needed in the example network procedures in the App Dev Guide. Clarify info in all network procedures (Docker, Kubernetes, and Ubuntu). In the Ubuntu proc, add the steps to start, stop, and configure the Identity TP.    Note: The problem was discovered during Chime testing.     """
"STL-1659","Improvement","Documentation",1,"Delete App Dev AWS procedure from Chime & master docs","""The AWS Sawtooth version is currently 1.1.4.  There are no (known) plans to update it to Chime/1.2. Remove """"Using AWS for a Single Sawtooth Node""""  from the 1.2 and master docs.   * [https://sawtooth.hyperledger.org/docs/core/nightly/1-2/app_developers_guide/aws.html]   * [https://sawtooth.hyperledger.org/docs/core/nightly/master/app_developers_guide/aws.html]         Note: The Bumper/1.1 docs will continue to include the 1.1 version of the AWS procedure """"Using AWS with Sawtooth"""".   * Release 1.1.5: [https://sawtooth.hyperledger.org/docs/core/releases/1.1.5/app_developers_guide/aws.html]   * Nightly 1.1 doc build: [https://sawtooth.hyperledger.org/docs/core/nightly/1-1/app_developers_guide/aws.html]"""
"STL-1665","Improvement","Documentation",1,"Docs: Fix genesis block key info & notes","""Correct info on key needed to change settings - it's not necessarily the validator key."""
"STL-1667","Improvement","Documentation",2,"Change Ubuntu procs to use user key instead of validator key","""In the App Dev and Sys Admin Guides, the Ubuntu single-node and multi-node procedures create the genesis block with the validator's key. The preferred method is to use the user's key."""
